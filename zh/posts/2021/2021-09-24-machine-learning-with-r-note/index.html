<!DOCTYPE html>
<html lang="zh" dir="ltr">

<head prefix="og: http://ogp.me/ns#">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>ã€Šæœºå™¨å­¦ä¹ ä¸ŽRè¯­è¨€ã€‹ç¬”è®° â€“ </title>
    


  
  <script defer src="/js/fuse.min.32195737929df2c8096e855a5789cbb3f1331224d9169e8705493e7008f47df8.js"></script>



<script src="/js/enquire.min.dfb99dee1e029d51d6cfb672d847929890b1585402de17f5ed092edd72a688b4.js"></script>

<script defer src="/js/lazysizes.min.fb649fcae62177dfe63e67081ddceb830b5ce1f05a4184e9bbb7d87ac4b8f4e5.js"></script>

<script defer src="/js/helper/getParents.min.ccd45f158c1b17849307ba913a72beac239c410f2b6e648496a79842da84e55b.js"></script>

<script defer src="/js/helper/fadeinout.min.1d13d3e810c3940e80cbba6216a1c76fbf42b5431fc83537ea6997863802362b.js"></script>

<script defer src="/js/helper/closest.min.js"></script>
  
<script>
  "use strict";

  
  
  if (window.NodeList && !NodeList.prototype.forEach) {
    NodeList.prototype.forEach = Array.prototype.forEach;
  }

  
  if (!String.prototype.includes) {
    String.prototype.includes = function (search, start) {
      'use strict';

      if (search instanceof RegExp) {
        throw TypeError('first argument must not be a RegExp');
      }
      if (start === undefined) { start = 0; }
      return this.indexOf(search, start) !== -1;
    };
  }

  
  Document.prototype.append = Element.prototype.append = function append() {
    this.appendChild(_mutation(arguments));
  };
  function _mutation(nodes) {
    if (!nodes.length) {
      throw new Error('DOM Exception 8');
    } else if (nodes.length === 1) {
      return typeof nodes[0] === 'string' ? document.createTextNode(nodes[0]) : nodes[0];
    } else {
      var
      fragment = document.createDocumentFragment(),
      length = nodes.length,
      index = -1,
      node;

      while (++index < length) {
        node = nodes[index];

        fragment.appendChild(typeof node === 'string' ? document.createTextNode(node) : node);
      }

      return fragment;
    }
  }

  
  if (!String.prototype.startsWith) {
    String.prototype.startsWith = function (searchString, position) {
      position = position || 0;
      return this.indexOf(searchString, position) === position;
    };
  }
  


  document.addEventListener('DOMContentLoaded', function () {
    
    var navCollapseBtn = document.querySelector('.navbar__burger');
    navCollapseBtn ? navCollapseBtn.addEventListener('click', function (e) {
      var navCollapse = document.querySelector('.navbarm__collapse');

      if (navCollapse) {
        var dataOpen = navCollapse.getAttribute('data-open');

        if (dataOpen === 'true') {
          navCollapse.setAttribute('data-open', 'false');
          navCollapse.style.maxHeight = 0;
          navCollapseBtn.classList.remove('is-active');
        } else {
          navCollapse.setAttribute('data-open', 'true');
          navCollapse.style.maxHeight = navCollapse.scrollHeight + "px";
          navCollapseBtn.classList.add('is-active');
        }
      }
    }) : null;
    


    
    var tables = document.querySelectorAll('.single__contents > table');
    for (let i = 0; i < tables.length; i++) {
      var table = tables[i];
      var wrapper = document.createElement('div');
      wrapper.className = 'table-wrapper';
      table.parentElement.replaceChild(wrapper, table);
      wrapper.appendChild(table);
    }
    


    
    var footNoteRefs = document.querySelectorAll('.footnote-ref');
    var footNoteBackRefs = document.querySelectorAll('.footnote-backref');

    footNoteRefs ? 
    footNoteRefs.forEach(function(elem, idx) {
      elem.onmouseenter = function () {
        if (navbar.classList.contains('scrolling')) {
          navbar.classList.remove('scrolling');
        }
      }

      elem.onmouseleave = function () {
        if (!navbar.classList.contains('scrolling')) {
          setTimeout(function () {
            navbar.classList.add('scrolling');
          }, 100);
        }
      }

      elem.onclick = function () {
        if (!navbar.classList.contains('scrolling')) {
          navbar.classList.remove('navbar--show');
          navbar.classList.remove('navbar--hide');
          navbar.classList.add('navbar--hide');
        }
      }
    }) : null;

    footNoteBackRefs ? 
    footNoteBackRefs.forEach(function(elem, idx) {
      elem.onmouseenter = function () {
        if (navbar.classList.contains('scrolling')) {
          navbar.classList.remove('scrolling');
        }
      }

      elem.onmouseleave = function () {
        if (!navbar.classList.contains('scrolling')) {
          setTimeout(function() {
            navbar.classList.add('scrolling');
          }, 100);
        }
      }

      elem.onclick = function () {
        if (!navbar.classList.contains('scrolling')) {
          navbar.classList.remove('navbar--show');
          navbar.classList.remove('navbar--hide');
          navbar.classList.add('navbar--hide');
        }
      }
    }) : null;
    


    
    var summaryContainer = document.querySelector('.summary__container');
    var searchResult = document.querySelector('.search-result');
    var searchResultCloseBtn = document.querySelector('.search-result__close');
    searchResultCloseBtn ? searchResultCloseBtn.addEventListener('click', function (e) {
      searchResult.setAttribute('data-display', 'none');
      summaryContainer.setAttribute('data-display', 'block');
    }) : null;
    


    
    document.querySelectorAll('.tab') ? 
    document.querySelectorAll('.tab').forEach(function(elem, idx) {
      var containerId = elem.getAttribute('id');
      var containerElem = elem;
      var tabLinks = elem.querySelectorAll('.tab__link');
      var tabContents = elem.querySelectorAll('.tab__content');
      var ids = [];

      tabLinks && tabLinks.length > 0 ?
      tabLinks.forEach(function(link, index, self) {
        link.onclick = function(e) {
          for (var i = 0; i < self.length; i++) {
            if (index === parseInt(i, 10)) {
              if (!self[i].classList.contains('active')) {
                self[i].classList.add('active');
                tabContents[i].style.display = 'block';
              }
            } else {
              self[i].classList.remove('active');
              tabContents[i].style.display = 'none';
            }
          }
        }
      }) : null;
    }) : null;
    


    
    document.querySelectorAll('.codetab') ? 
    document.querySelectorAll('.codetab').forEach(function(elem, idx) {
      var containerId = elem.getAttribute('id');
      var containerElem = elem;
      var codetabLinks = elem.querySelectorAll('.codetab__link');
      var codetabContents = elem.querySelectorAll('.codetab__content');
      var ids = [];

      codetabLinks && codetabLinks.length > 0 ?
      codetabLinks.forEach(function(link, index, self) {
        link.onclick = function(e) {
          for (var i = 0; i < self.length; i++) {
            if (index === parseInt(i, 10)) {
              if (!self[i].classList.contains('active')) {
                self[i].classList.add('active');
                codetabContents[i].style.display = 'block';
              }
            } else {
              self[i].classList.remove('active');
              codetabContents[i].style.display = 'none';
            }
          }
        }
      }) : null;
    }) : null;
    


    
    var gttBtn = document.getElementById("gtt");
    gttBtn.style.display = "none";
    gttBtn.addEventListener('click', function () {
      if (window.document.documentMode) {
        document.documentElement.scrollTop = 0;
      } else {
        scrollToTop(250);
      }
    });

    function scrollToTop(scrollDuration) {
      var scrollStep = -window.scrollY / (scrollDuration / 15);
      var scrollInterval = setInterval(function () {
        if (window.scrollY != 0) {
          window.scrollBy(0, scrollStep);
        }
        else clearInterval(scrollInterval);
      }, 15);
    }

    var scrollFunction = function () {
      if (document.body.scrollTop > 250 || document.documentElement.scrollTop > 250) {
        gttBtn.style.display = "block";
      } else {
        gttBtn.style.display = "none";
      }
    }
    


    
    var expandBtn = document.querySelectorAll('.expand__button');

    for (let i = 0; i < expandBtn.length; i++) {
      expandBtn[i].addEventListener("click", function () {
        var content = this.nextElementSibling;
        if (content.style.maxHeight) {
          content.style.maxHeight = null;
          this.querySelector('svg').classList.add('expand-icon__right');
          this.querySelector('svg').classList.remove('expand-icon__down');
        } else {
          content.style.maxHeight = content.scrollHeight + "px";
          this.querySelector('svg').classList.remove('expand-icon__right');
          this.querySelector('svg').classList.add('expand-icon__down');
        }
      });
    }
    


    
    var lastScrollTop = window.pageYOffset || document.documentElement.scrollTop;
    var tocElem = document.querySelector('.toc');
    var tableOfContentsElem = tocElem ? tocElem.querySelector('#TableOfContents') : null;
    var toggleTocElem = document.getElementById('toggle-toc');
    var singleContentsElem = document.querySelector('.single__contents');
    var navbar = document.querySelector('.navbar');
    var tocFlexbox = document.querySelector('.toc__flexbox');
    var tocFlexboxOuter = document.querySelector('.toc__flexbox--outer');
    var expandContents = document.querySelectorAll('.expand__content');
    var boxContents = document.querySelectorAll('.box');
    var notAllowedTitleIds = null;

    
    var tocFolding = JSON.parse("false");
    
    var tocLevels = JSON.parse("[\"h2\",\"h3\"]");
    
    if (tocLevels) {
      tocLevels = tocLevels.toString();
    } else {
      tocLevels = "h1, h2, h3, h4, h5, h6";
    }

    
    singleContentsElem && singleContentsElem.querySelectorAll(".tab") ?
    singleContentsElem.querySelectorAll(".tab").forEach(function (elem) {
      elem.querySelectorAll(tocLevels).forEach(function (element) {
        notAllowedTitleIds = Array.isArray(notAllowedTitleIds) ?
          notAllowedTitleIds.concat(element.getAttribute('id')) :
          [element.getAttribute('id')];
      });
    }) : null;

    
    expandContents ? expandContents.forEach(function(elem) {
      elem.querySelectorAll(tocLevels).forEach(function (element) {
        notAllowedTitleIds = Array.isArray(notAllowedTitleIds) ?
          notAllowedTitleIds.concat(element.getAttribute('id')) :
          [element.getAttribute('id')];
      });
    }) : null;

    
    boxContents ? boxContents.forEach(function(elem) {
      elem.querySelectorAll(tocLevels).forEach(function (element) {
        notAllowedTitleIds = Array.isArray(notAllowedTitleIds) ?
          notAllowedTitleIds.concat(element.getAttribute('id')) :
          [element.getAttribute('id')];
      });
    }) : null;

    
    window.onscroll = function () {
      scrollFunction();
      
      var st = window.pageYOffset || document.documentElement.scrollTop;
      if (st > lastScrollTop) { 
        if (st < 250) {
          gttBtn.style.display = "none";
        } else {
          gttBtn.style.display = "block";
        }

        if (st < 45) {
          return null;
        }

        if (navbar.classList.contains('scrolling')) {
          if (!navbar.classList.contains('navbar--hide')) {
            navbar.classList.add('navbar--hide');
          } else if (navbar.classList.contains('navbar--show')) {
            navbar.classList.remove('navbar--show');
          }
        }

        if (singleContentsElem) {
          if (singleContentsElem.querySelectorAll(tocLevels).length > 0) {
            singleContentsElem.querySelectorAll(tocLevels).forEach(function (elem) {
              if (toggleTocElem && !toggleTocElem.checked) {
                return null;
              }

              if (notAllowedTitleIds && notAllowedTitleIds.includes(elem.getAttribute('id'))) {
                return null;
              }
              
              if (document.documentElement.scrollTop >= elem.offsetTop) {
                if (tableOfContentsElem) {
                  var id = elem.getAttribute('id');
                  tocElem.querySelectorAll('a').forEach(function (elem) {
                    elem.classList.remove('active');
                  });
                  tocElem.querySelector('a[href="#' + id + '"]') ?
                    tocElem.querySelector('a[href="#' + id + '"]').classList.add('active') : null;

                  if (false === tocFolding) {
                    
                  } else {
                    tableOfContentsElem.querySelectorAll('ul') ?
                      tableOfContentsElem.querySelectorAll('ul').forEach(function (rootUl) {
                        rootUl.querySelectorAll('li').forEach(function (liElem) {
                          liElem.querySelectorAll('ul').forEach(function (ulElem) {
                            ulElem.style.display = 'none';
                          });
                        });
                      }) : null;
                  }

                  var curElem = tableOfContentsElem.querySelector("[href='#" + id + "']");
                  if (curElem && curElem.nextElementSibling) {
                    curElem.nextElementSibling.style.display = 'block';
                  }
                  getParents(curElem, 'ul') ?
                    getParents(curElem, 'ul').forEach(function (elem) {
                      elem.style.display = 'block';
                    }) : null;
                }
              }
            });
          } else {
            if (tocFlexbox) {
              tocFlexbox.setAttribute('data-position', '');
              if (!tocFlexbox.classList.contains('hide')) {
                tocFlexbox.classList.add('hide');
              }
            }
            if (tocFlexboxOuter) {
              tocFlexboxOuter.setAttribute('data-position', '');
              if (!tocFlexboxOuter.classList.contains('hide')) {
                tocFlexboxOuter.classList.add('hide');
              }
            }
          }
        }
      } else { 
        if (st < 250) {
          gttBtn.style.display = "none";
        }

        if (navbar.classList.contains('scrolling')) {
          if (navbar.classList.contains('navbar--hide')) {
            navbar.classList.remove('navbar--hide');
          } else if (!navbar.classList.contains('navbar--show')) {
            navbar.classList.add('navbar--show');
          }
        }

        if (singleContentsElem) {
          if (singleContentsElem.querySelectorAll(tocLevels).length > 0) {
            singleContentsElem.querySelectorAll(tocLevels).forEach(function (elem) {
              if (toggleTocElem && !toggleTocElem.checked) {
                return null;
              }
              
              if (notAllowedTitleIds && notAllowedTitleIds.includes(elem.getAttribute('id'))) {
                return null;
              }

              if (document.documentElement.scrollTop >= elem.offsetTop) {
                if (tableOfContentsElem) {
                  var id = elem.getAttribute('id');
                  tocElem.querySelectorAll('a').forEach(function (elem) {
                    elem.classList.remove('active');
                  });
                  tocElem.querySelector('a[href="#' + id + '"]') ?
                    tocElem.querySelector('a[href="#' + id + '"]').classList.add('active') : null;

                  if (false === tocFolding) {
                    
                  } else {
                    tableOfContentsElem.querySelectorAll('ul') ?
                      tableOfContentsElem.querySelectorAll('ul').forEach(function (rootUl) {
                        rootUl.querySelectorAll('li').forEach(function (liElem) {
                          liElem.querySelectorAll('ul').forEach(function (ulElem) {
                            ulElem.style.display = 'none';
                          });
                        });
                      }) : null;
                  }

                  var curElem = tableOfContentsElem.querySelector("[href='#" + id + "']");
                  if (curElem && curElem.nextElementSibling) {
                    curElem.nextElementSibling.style.display = 'block';
                  }
                  getParents(curElem, 'ul') ?
                    getParents(curElem, 'ul').forEach(function (elem) {
                      elem.style.display = 'block';
                    }) : null;
                }
              }
            });
          } else {
            if (tocFlexbox && !tocFlexbox.classList.contains('hide')) {
              tocFlexbox.classList.add('hide');
            }
            if (tocFlexboxOuter && !tocFlexboxOuter.classList.contains('hide')) {
              tocFlexboxOuter.classList.add('hide');
            }
          }
          
        }

        if (tableOfContentsElem && document.documentElement.scrollTop < 250) {
          if (false === tocFolding) {

          } else {
            tableOfContentsElem.querySelector('ul') ?
              tableOfContentsElem.querySelector('ul').querySelectorAll('li').forEach(function (liElem) {
                liElem.querySelectorAll('ul').forEach(function (ulElem) {
                  ulElem.style.display = 'none';
                });
              }) : null;
          }
        }
      }
      lastScrollTop = st <= 0 ? 0 : st;
    };
  


  
    var localTheme = localStorage.getItem('theme');
    var rootEleme = document.getElementById('root');
    var selectThemeElem = document.querySelectorAll('.select-theme');
    var selectThemeItemElem = document.querySelectorAll('.select-theme__item');
    
    
    var skinDarkCode = JSON.parse("\"dark\"");
    
    var skinLightCode = JSON.parse("\"light\"");
    
    var skinHackerCode = JSON.parse("\"hacker\"");
    
    var skinSolarizedCode = JSON.parse("\"solarized\"");
    
    var skinKimbieCode = JSON.parse("\"kimbie\"");

    var setMetaColor = function(themeColor) {
      var metaMsapplicationTileColor = document.getElementsByName('msapplication-TileColor')[0];
      var metaThemeColor = document.getElementsByName('theme-color')[0];
      var metaMsapplicationNavbuttonColor = document.getElementsByName('msapplication-navbutton-color')[0];
      var metaAppleMobileWebAappStatusBarStyle = document.getElementsByName('apple-mobile-web-app-status-bar-style')[0];

      if (themeColor.includes('dark')) {
        metaMsapplicationTileColor.setAttribute('content', '#fcfcfa');
        metaThemeColor.setAttribute('content', '#403E41');
        metaMsapplicationNavbuttonColor.setAttribute('content', '#403E41');
        metaAppleMobileWebAappStatusBarStyle.setAttribute('content', '#403E41');
      } else if (themeColor.includes('light')) {
        metaMsapplicationTileColor.setAttribute('content', '#555');
        metaThemeColor.setAttribute('content', '#eee');
        metaMsapplicationNavbuttonColor.setAttribute('content', '#eee');
        metaAppleMobileWebAappStatusBarStyle.setAttribute('content', '#eee');
      } else if (themeColor.includes('hacker')) {
        metaMsapplicationTileColor.setAttribute('content', '#e3cd26');
        metaThemeColor.setAttribute('content', '#252526');
        metaMsapplicationNavbuttonColor.setAttribute('content', '#252526');
        metaAppleMobileWebAappStatusBarStyle.setAttribute('content', '#252526');
      } else if (themeColor.includes('solarized')) {
        metaMsapplicationTileColor.setAttribute('content', '#d3af86');
        metaThemeColor.setAttribute('content', '#51412c');
        metaMsapplicationNavbuttonColor.setAttribute('content', '#51412c');
        metaAppleMobileWebAappStatusBarStyle.setAttribute('content', '#51412c');
      } else if (themeColor.includes('kimbie')) {
        metaMsapplicationTileColor.setAttribute('content', '#586e75');
        metaThemeColor.setAttribute('content', '#eee8d5');
        metaMsapplicationNavbuttonColor.setAttribute('content', '#eee8d5');
        metaAppleMobileWebAappStatusBarStyle.setAttribute('content', '#eee8d5');
      }
    }

    var parseSkinCode = function(themeText) {
      if (themeText === skinDarkCode) {
        return 'dark';
      } else if (themeText === skinLightCode) {
        return 'light';
      } else if (themeText === skinHackerCode) {
        return 'hacker';
      } else if (themeText === skinSolarizedCode) {
        return 'solarized';
      } else if (themeText === skinKimbieCode) {
        return 'kimbie';
      }
    }
    
    if (localTheme) {
      selectThemeItemElem ? 
      selectThemeItemElem.forEach(function (elem) {
        if (elem.text.trim() === localTheme) {
          elem.classList.add('is-active');
        } else {
          elem.classList.remove('is-active');
        }
      }) : null;

      setMetaColor(localTheme);
    } else {
      setMetaColor(rootEleme.className);
    }

    selectThemeItemElem ? 
    selectThemeItemElem.forEach(function (v, i) {
      v.addEventListener('click', function (e) {
        var selectedThemeVariant = parseSkinCode(e.target.text.trim());
        localStorage.setItem('theme', selectedThemeVariant);
        setMetaColor(selectedThemeVariant);

        rootEleme.removeAttribute('class');
        rootEleme.classList.add('theme__' + selectedThemeVariant);
        selectThemeElem.forEach(function(rootElem) {
          rootElem.querySelectorAll('a').forEach(function (elem) {
            if (elem.classList) {
              if (elem.text.trim() === selectedThemeVariant) {
                if (!elem.classList.contains('is-active')) {
                  elem.classList.add('is-active');
                }
              } else {
                if (elem.classList.contains('is-active')) {
                  elem.classList.remove('is-active');
                }
              }
            }
          });
        });

        if (window.mermaid) {
          if (selectedThemeVariant === "dark" || selectedThemeVariant === "hacker") {
            mermaid.initialize({ theme: 'dark' });
            location.reload();
          } else {
            mermaid.initialize({ theme: 'default' });
            location.reload();
          }
        }

        var utterances = document.getElementById('utterances');
        if (utterances) {
          utterances.querySelector('iframe').contentWindow.postMessage({
            type: 'set-theme',
            theme: selectedThemeVariant === "dark" || selectedThemeVariant === "hacker" ? 'photon-dark' : selectedThemeVariant === 'kimbie' ? 'github-dark-orange' : 'github-light',
          }, 'https://utteranc.es');
        }

        var twitterCards = document.querySelectorAll('.twitter-timeline');
        if (twitterCards) {
          window.postMessage({
            type: 'set-twitter-theme',
            theme: selectedThemeVariant === 'light' || selectedThemeVariant === 'solarized' ? 'light' : 'dark',
          });
        }
      });
    }) : null;
  


  
    
    var baseurl = JSON.parse("\"https://www.metasphinx.com/\"");
    
    var permalink = JSON.parse("\"https://www.metasphinx.com/zh/posts/2021/2021-09-24-machine-learning-with-r-note/\"");
    
    var langprefix = JSON.parse("\"/zh\"");
    var searchResults = null;
    var searchMenu = null;
    var searchText = null;
    
    
    var enableSearch = JSON.parse("true");
    
    var searchDistance = JSON.parse("100");
    
    var searchThreshold = JSON.parse("0.4");
    
    var searchContent = JSON.parse("true");
    
    var enableSearchHighlight = JSON.parse("true");
    
    var searchResultPosition = JSON.parse("\"main\"");
    
    var sectionType = JSON.parse("\"posts\"");
    
    var kind = JSON.parse("\"page\"");
    
    var fuse = null;

    if (enableSearch) {
      (function initFuse() {
        var xhr = new XMLHttpRequest();
        if (sectionType === "publication" && kind !== "page") {
          xhr.open('GET', permalink + "index.json");
        } else {
          xhr.open('GET', baseurl + langprefix + "/index.json");
        }
        
        xhr.setRequestHeader('Content-Type', 'application/json; charset=utf-8');
        xhr.onload = function () {
          if (xhr.status === 200) {
            fuse = new Fuse(JSON.parse(xhr.response.toString('utf-8')), {
              keys: sectionType.includes('publication') ? ['title', 'abstract'] : 
                searchContent ? ['title', 'description', 'content'] : ['title', 'description'],
              includeMatches: enableSearchHighlight,
              shouldSort: true, 
              threshold: searchThreshold ? searchThreshold : 0.4, 
              location: 0, 
              distance: searchDistance ? searchDistance : 100, 
              maxPatternLength: 32,
              minMatchCharLength: 1,
              isCaseSensitive: false, 
              findAllMatches: false, 
              useExtendedSearch: false, 
            });
            window.fuse = fuse;
          }
          else {
            console.error('[' + xhr.status + ']Error:', xhr.statusText);
          }
        };
        xhr.send();
      })();
    }

    function makeLi(ulElem, obj) {
      var li = document.createElement('li');
      li.className = 'search-result__item';
      
      var a = document.createElement('a');
      a.innerHTML = obj.item.title;
      a.setAttribute('class', 'search-result__item--title');
      a.setAttribute('href', obj.item.uri);

      var descDiv = document.createElement('div');
      descDiv.setAttribute('class', 'search-result__item--desc');
      if (obj.item.description) {
        descDiv.innerHTML = obj.item.description;
      } else if (obj.item.content) {
        descDiv.innerHTML = obj.item.content.substring(0, 225);
      }
      
      li.appendChild(a);
      li.appendChild(descDiv);
      ulElem.appendChild(li);
    }

    function makeHighlightLi(ulElem, obj) {
      var li = document.createElement('li');
      li.className = 'search-result__item';
      var descDiv = null;

      var a = document.createElement('a');
      a.innerHTML = obj.item.title;
      a.setAttribute('class', 'search-result__item--title');
      a.setAttribute('href', obj.item.uri);

      if (obj.matches && obj.matches.length) {
        for (var i = 0; i < obj.matches.length; i++) {
          if ('title' === obj.matches[i].key) {
            a = document.createElement('a');
            a.innerHTML = generateHighlightedText(obj.matches[i].value, obj.matches[i].indices);
            a.setAttribute('class', 'search-result__item--title');
            a.setAttribute('href', obj.item.uri);
          }
          
          if ('description' === obj.matches[i].key) {
            descDiv = document.createElement('div');
            descDiv.setAttribute('class', 'search-result__item--desc');
            descDiv.innerHTML = generateHighlightedText(obj.item.description, obj.matches[i].indices);
          } else if ('content' === obj.matches[i].key) {
            if (!descDiv) {
              descDiv = document.createElement('div');
              descDiv.setAttribute('class', 'search-result__item--desc');
              descDiv.innerHTML = generateHighlightedText(obj.item.content.substring(0, 150), obj.matches[i].indices);
            }
          } else {
            if (obj.item.description) {
              descDiv = document.createElement('div');
              descDiv.setAttribute('class', 'search-result__item--desc');
              descDiv.innerHTML = obj.item.description;
            } else {
              descDiv = document.createElement('div');
              descDiv.setAttribute('class', 'search-result__item--desc');
              descDiv.innerHTML = obj.item.content.substring(0, 150);
            }
          }
        }

        li.appendChild(a);
        if (descDiv) {
          li.appendChild(descDiv);
        }
        if (li) {
          ulElem.appendChild(li);
        }
      }
    }

    function renderSearchResultsSide(searchText, results) {
      searchResults = document.getElementById('search-results');
      searchMenu = document.getElementById('search-menu');
      searchResults.setAttribute('class', 'dropdown is-active');
      
      var ul = document.createElement('ul');
      ul.setAttribute('class', 'dropdown-content search-content');

      if (results.length) {
        results.forEach(function (result) {
          var li = document.createElement('li');
          var a = document.createElement('a');
          a.setAttribute('href', result.uri);
          a.setAttribute('class', 'dropdown-item');
          a.appendChild(li);

          var titleDiv = document.createElement('div');
          titleDiv.innerHTML = result.title;
          titleDiv.setAttribute('class', 'menu-item__title');

          var descDiv = document.createElement('div');
          descDiv.setAttribute('class', 'menu-item__desc');
          if (result.description) {
            descDiv.innerHTML = result.description;
          } else if (result.content) {
            descDiv.innerHTML = result.content.substring(0, 150);
          }

          li.appendChild(titleDiv);
          li.appendChild(descDiv);
          ul.appendChild(a);
        });
      } else {
        var li = document.createElement('li');
        li.setAttribute('class', 'dropdown-item');
        li.innerText = 'No results found';
        ul.appendChild(li);
      }

      while (searchMenu.hasChildNodes()) {
        searchMenu.removeChild(
          searchMenu.lastChild
        );
      }
      
      searchMenu.appendChild(ul);
    }

    function renderSearchHighlightResultsSide(searchText, results) {
      searchResults = document.getElementById('search-results');
      searchMenu = document.getElementById('search-menu');
      searchResults.setAttribute('class', 'dropdown is-active');

      var ul = document.createElement('ul');
      ul.setAttribute('class', 'dropdown-content search-content');

      if (results.length) {
        results.forEach(function (result) {
          var li = document.createElement('li');
          var a = document.createElement('a');
          var descDiv = null;

          a.setAttribute('href', result.item.uri);
          a.setAttribute('class', 'dropdown-item');
          a.appendChild(li);

          var titleDiv = document.createElement('div');
          titleDiv.innerHTML = result.item.title;
          titleDiv.setAttribute('class', 'menu-item__title');
          
          if (result.matches && result.matches.length) {
            for (var i = 0; i < result.matches.length; i++) {
              if ('title' === result.matches[i].key) {
                titleDiv.innerHTML = generateHighlightedText(result.matches[i].value, result.matches[i].indices);
              }

              if ('description' === result.matches[i].key) {
                descDiv = document.createElement('div');
                descDiv.setAttribute('class', 'menu-item__desc');
                descDiv.innerHTML = generateHighlightedText(result.item.description, result.matches[i].indices);
              } else if ('content' === result.matches[i].key) {
                if (!descDiv) {
                  descDiv = document.createElement('div');
                  descDiv.setAttribute('class', 'menu-item__desc');
                  descDiv.innerHTML = generateHighlightedText(result.item.content.substring(0, 150), result.matches[i].indices);
                }
              } else {
                if (result.item.description) {
                  descDiv = document.createElement('div');
                  descDiv.setAttribute('class', 'menu-item__desc');
                  descDiv.innerHTML = result.item.description;
                } else {
                  descDiv = document.createElement('div');
                  descDiv.setAttribute('class', 'menu-item__desc');
                  descDiv.innerHTML = result.item.content.substring(0, 150);
                }
              }
            }
            
            li.appendChild(titleDiv);
            if (descDiv) {
              li.appendChild(descDiv);
            }
            ul.appendChild(a);
          }
        });
      } else {
        var li = document.createElement('li');
        li.setAttribute('class', 'dropdown-item');
        li.innerText = 'No results found';
        ul.appendChild(li);
      }

      while (searchMenu.hasChildNodes()) {
        searchMenu.removeChild(
          searchMenu.lastChild
        );
      }
      searchMenu.appendChild(ul);
    }

    function renderSearchResultsMobile(searchText, results) {
      searchResults = document.getElementById('search-mobile-results');

      var content = document.createElement('div');
      content.setAttribute('class', 'mobile-search__content');

      if (results.length > 0) {
        results.forEach(function (result) {
          var item = document.createElement('a');
          item.setAttribute('href', result.uri);
          item.innerHTML = '<div class="mobile-search__item"><div class="mobile-search__item--title">ðŸ“„ ' + result.title + '</div><div class="mobile-search__item--desc">' + (result.description ? result.description : result.content) + '</div></div>';
          content.appendChild(item);
        });
      } else {
        var item = document.createElement('span');
        content.appendChild(item);
      }

      let wrap = document.getElementById('search-mobile-results');
      while (wrap.firstChild) {
        wrap.removeChild(wrap.firstChild)
      }
      searchResults.appendChild(content);      
    }

    function renderSearchHighlightResultsMobile(searchText, results) {
      searchResults = document.getElementById('search-mobile-results');

      var ul = document.createElement('div');
      ul.setAttribute('class', 'mobile-search__content');

      if (results.length) {
        results.forEach(function (result) {
          var li = document.createElement('li');
          var a = document.createElement('a');
          var descDiv = null;

          a.setAttribute('href', result.item.uri);
          a.appendChild(li);
          li.setAttribute('class', 'mobile-search__item');

          var titleDiv = document.createElement('div');
          titleDiv.innerHTML = result.item.title;
          titleDiv.setAttribute('class', 'mobile-search__item--title');
          
          if (result.matches && result.matches.length) {
            for (var i = 0; i < result.matches.length; i++) {
              if ('title' === result.matches[i].key) {
                titleDiv.innerHTML = generateHighlightedText(result.matches[i].value, result.matches[i].indices);
              }

              if ('description' === result.matches[i].key) {
                descDiv = document.createElement('div');
                descDiv.setAttribute('class', 'mobile-search__item--desc');
                descDiv.innerHTML = generateHighlightedText(result.item.description, result.matches[i].indices);
              } else if ('content' === result.matches[i].key) {
                if (!descDiv) {
                  descDiv = document.createElement('div');
                  descDiv.setAttribute('class', 'mobile-search__item--desc');
                  descDiv.innerHTML = generateHighlightedText(result.item.content.substring(0, 150), result.matches[i].indices);
                }
              } else {
                if (result.item.description) {
                  descDiv = document.createElement('div');
                  descDiv.setAttribute('class', 'mobile-search__item--desc');
                  descDiv.innerHTML = result.item.description;
                } else {
                  descDiv = document.createElement('div');
                  descDiv.setAttribute('class', 'mobile-search__item--desc');
                  descDiv.innerHTML = result.item.content.substring(0, 150);
                }
              }
            }
            
            li.appendChild(titleDiv);
            if (descDiv) {
              li.appendChild(descDiv);
            }
            ul.appendChild(a);
          }
        });
      } else {
        var item = document.createElement('span');
        ul.appendChild(item);
      }

      let wrap = document.getElementById('search-mobile-results');
      while (wrap.firstChild) {
        wrap.removeChild(wrap.firstChild)
      }
      searchResults.appendChild(ul);
    }

    function generateHighlightedText(text, regions) {
      if (!regions) {
        return text;
      }

      var content = '', nextUnhighlightedRegionStartingIndex = 0;

      regions.forEach(function(region) {
        if (region[0] === region[1]) {
          return null;
        }
        
        content += '' +
          text.substring(nextUnhighlightedRegionStartingIndex, region[0]) +
          '<span class="search__highlight">' +
            text.substring(region[0], region[1] + 1) +
          '</span>' +
        '';
        nextUnhighlightedRegionStartingIndex = region[1] + 1;
      });

      content += text.substring(nextUnhighlightedRegionStartingIndex);

      return content;
    };

    var searchElem = document.getElementById('search');
    var searchMobile = document.getElementById('search-mobile');
    var searchResultsContainer = document.getElementById('search-results');

    searchElem ?
    searchElem.addEventListener('input', function(e) {
      if (!e.target.value | window.innerWidth < 770) {
        searchResultsContainer ? searchResultsContainer.setAttribute('class', 'dropdown') : null;
        searchResult ? searchResult.setAttribute('data-display', 'none') : null;
        summaryContainer ? summaryContainer.setAttribute('data-display', 'block') : null;
        return null;
      }

      searchText = e.target.value;
      var results = fuse.search(e.target.value);
      
      if (searchResultPosition === "main") {
        if (enableSearchHighlight) {
          renderSearchHighlightResultsMain(searchText, results);
        } else {
          renderSearchResultsMain(searchText, results);
        }
      } else {
        if (enableSearchHighlight) {
          renderSearchHighlightResultsSide(searchText, results);
        } else {
          renderSearchResultsSide(searchText, results);
        }
        
        var dropdownItems = searchResultsContainer.querySelectorAll('.dropdown-item');
        dropdownItems ? dropdownItems.forEach(function(item) {
          item.addEventListener('mousedown', function(e) {
            e.target.click();
          });
        }) : null;
      }
    }) : null;

    searchElem ? 
    searchElem.addEventListener('blur', function() {
      if (window.innerWidth < 770) {
        return null;
      }
      searchResultsContainer ? searchResultsContainer.setAttribute('class', 'dropdown') : null;
    }) : null;

    searchElem ? 
    searchElem.addEventListener('click', function(e) {
      if (window.innerWidth < 770) {
        return null;
      }
      if (!e.target.value) {
        searchResultsContainer ? searchResultsContainer.setAttribute('class', 'dropdown') : null;
        return null;
      }

      searchText = e.target.value;
      var results = fuse.search(e.target.value);

      if (searchResultPosition === "main") {
        if (enableSearchHighlight) {
          renderSearchHighlightResultsMain(searchText, results);
        } else {
          renderSearchResultsMain(searchText, results);
        }
      } else{
        if (enableSearchHighlight) {
          renderSearchHighlightResultsSide(searchText, results);
        } else {
          renderSearchResultsSide(searchText, results);
        }

        var dropdownItems = searchResultsContainer.querySelectorAll('.dropdown-item');
        dropdownItems ? dropdownItems.forEach(function (item) {
          item.addEventListener('mousedown', function (e) {
            e.target.click();
          });
        }) : null;
      }
    }) : null;

    var searchMenuElem = document.getElementById("search-menu");
    var activeItem = document.querySelector('#search-menu .dropdown-item.is-active');
    var activeIndex = null;
    var items = null;
    var searchContainerMaxHeight = 350;

    searchElem ? 
    searchElem.addEventListener('keydown', function(e) {
      if (window.innerWidth < 770) {
        return null;
      }

      if (e.key === 'Escape') {
        searchResult ? searchResult.setAttribute('data-display', 'none') : null;
        summaryContainer ? summaryContainer.setAttribute('data-display', 'block') : null;
      }

      var items = document.querySelectorAll('#search-menu .dropdown-item');
      var keyCode = e.which || e.keyCode;

      if (!items || !items.length) {
        return null;
      }
      
      if (e.key === 'ArrowDown' || keyCode === 40) {
        if (activeIndex === null) {
          activeIndex = 0;
          items[activeIndex].classList.remove('is-active');
        } else {
          items[activeIndex].classList.remove('is-active');
          activeIndex = activeIndex === items.length - 1 ? 0 : activeIndex + 1;
        }
        items[activeIndex].classList.add('is-active');

        let overflowedPixel = items[activeIndex].offsetTop + items[activeIndex].clientHeight - searchContainerMaxHeight;
        if (overflowedPixel > 0) {
          document.querySelector(".search-content").scrollTop += items[activeIndex].getBoundingClientRect().height;
        } else if (activeIndex === 0) {
          document.querySelector(".search-content").scrollTop = 0;
        }
      } else if (e.key === 'ArrowUp' || keyCode === 38) {
        if (activeIndex === null) {
          activeIndex = items.length - 1;
          items[activeIndex].classList.remove('is-active');
        } else {
          items[activeIndex].classList.remove('is-active');
          activeIndex = activeIndex === 0 ? items.length - 1 : activeIndex - 1;
        }
        items[activeIndex].classList.add('is-active');
        
        let overflowedPixel = items[activeIndex].offsetTop + items[activeIndex].clientHeight - searchContainerMaxHeight;
        if (overflowedPixel < 0) {
          document.querySelector(".search-content").scrollTop -= items[activeIndex].getBoundingClientRect().height;
        } else {
          document.querySelector(".search-content").scrollTop = overflowedPixel + items[activeIndex].getBoundingClientRect().height;
        }
      } else if (e.key === 'Enter' || keyCode === 13) {
        if (items[activeIndex] && items[activeIndex].getAttribute('href')) {
          location.href = items[activeIndex].getAttribute('href');
        }
      } else if (e.key === 'Escape' || keyCode === 27) {
        e.target.value = null;
        if (searchResults) {
          searchResults.classList.remove('is-active');
        }
      }
    }) : null;

    searchMobile ? 
    searchMobile.addEventListener('input', function(e) {
      if (!e.target.value) {
        let wrap = document.getElementById('search-mobile-results');
        while (wrap.firstChild) {
          wrap.removeChild(wrap.firstChild);
        }
        return null;
      }

      searchText = e.target.value;
      var results = fuse.search(e.target.value);
      renderSearchResultsMobile(searchText, results);
      if (enableSearchHighlight) {
        renderSearchHighlightResultsMobile(searchText, results);
      } else {
        renderSearchResultsMobile(searchText, results);
      }
    }) : null;
  


  
    var mobileSearchInputElem = document.querySelector('#search-mobile');
    var mobileSearchClassElem = document.querySelector('.mobile-search');
    var mobileSearchBtnElems = document.querySelectorAll('.navbar-search');
    var mobileSearchCloseBtnElem = document.querySelector('#search-mobile-close');
    var mobileSearchContainer = document.querySelector('#search-mobile-container');
    var mobileSearchResultsElem = document.querySelector('#search-mobile-results');
    var htmlElem = document.querySelector('html');

    if (mobileSearchClassElem) {
      mobileSearchClassElem.style.display = 'none';
    }

    mobileSearchBtnElems ? 
    mobileSearchBtnElems.forEach(function (elem, idx) {
      elem.addEventListener('click', function () {
        if (mobileSearchContainer) {
          mobileSearchContainer.style.display = 'block';
        }

        if (mobileSearchInputElem) {
          mobileSearchInputElem.focus();
        }

        if (htmlElem) {
          htmlElem.style.overflowY = 'hidden';
        }
      });
    }) : null;

    mobileSearchCloseBtnElem ? 
    mobileSearchCloseBtnElem.addEventListener('click', function() {
      if (mobileSearchContainer) {
        mobileSearchContainer.style.display = 'none';
      }

      if (mobileSearchInputElem) {
        mobileSearchInputElem.value = '';
      }
      
      if (mobileSearchResultsElem) {
        while (mobileSearchResultsElem.firstChild) {
          mobileSearchResultsElem.removeChild(mobileSearchResultsElem.firstChild);
        }
      }

      if (htmlElem) {
        htmlElem.style.overflowY = 'visible';
      }
    }) : null;

    mobileSearchInputElem ?
    mobileSearchInputElem.addEventListener('keydown', function(e) {
      var keyCode = e.which || e.keyCode;
      if (e.key === 'Escape' || keyCode === 27) {
        if (mobileSearchContainer) {
          mobileSearchContainer.style.display = 'none';
        }
        
        if (mobileSearchInputElem) {
          mobileSearchInputElem.value = '';
        }

        if (mobileSearchResultsElem) {
          while (mobileSearchResultsElem.firstChild) {
            mobileSearchResultsElem.removeChild(mobileSearchResultsElem.firstChild);
          }
        }
        if (htmlElem) {
          htmlElem.style.overflowY = 'visible';
        }
      }
    }) : null;
  


  
    function renderSearchResultsMain(searchText, results) {
      var searchBody = document.querySelector('.search-result__body');
      var originUl = searchBody.querySelector('ul');
      var ul = document.createElement('ul');
      
      if (!searchText) {
        searchResult ? searchResult.setAttribute('data-display', 'none') : null;
        summaryContainer ? summaryContainer.setAttribute('data-display', 'block') : null;
      } else if (results) {
        if (results && results.length) {
          results.forEach(function (result) {
            makeLi(ul, result);
          });

          searchResult ? searchResult.setAttribute('data-display', 'block') : null;
          summaryContainer ? summaryContainer.setAttribute('data-display', 'none') : null;
        }
      }

      originUl.parentNode.replaceChild(ul, originUl);
    }

    function renderSearchHighlightResultsMain(searchText, results) {
      var searchBody = document.querySelector('.search-result__body');
      var originUl = searchBody.querySelector('ul');
      var ul = document.createElement('ul');

      if (!searchText) {
        searchResult ? searchResult.setAttribute('data-display', 'none') : null;
        summaryContainer ? summaryContainer.setAttribute('data-display', 'block') : null;
      } else if (results) {
        if (results && results.length) {
          results.forEach(function (result) {
            makeHighlightLi(ul, result);
          });

          searchResult ? searchResult.setAttribute('data-display', 'block') : null;
          summaryContainer ? summaryContainer.setAttribute('data-display', 'none') : null;
        }
      }

      originUl.parentNode.replaceChild(ul, originUl);
    }
  
  });
</script>
    
    


<link rel="stylesheet" href="/css/main.min.css">


    
<meta name="description" content=" " />


<meta name="keywords" content="R">

<meta name="created" content="2021-09-24T18:03:26&#43;0800">
<meta name="modified" content="2021-09-24T18:03:26&#43;0800">
<meta property="article:published_time" content="2021-09-24T18:03:26&#43;0800">

<meta name="author" content="PolyFish">
<meta property="article:author" content="https://www.metasphinx.com/zh/posts/2021/2021-09-24-machine-learning-with-r-note/@PolyFish">


<meta property="og:site_name" content="">
<meta property="og:title" content="ã€Šæœºå™¨å­¦ä¹ ä¸ŽRè¯­è¨€ã€‹ç¬”è®°">
<meta property="og:url" content="https://www.metasphinx.com/zh/posts/2021/2021-09-24-machine-learning-with-r-note/">
<meta property="og:type" content="article">
<meta property="og:description" content=" ">

  
    <meta property="og:image" content="https://www.metasphinx.com/images/BookCover/ML_with_R.png">
    <meta property="og:image:url" content="https://www.metasphinx.com/images/BookCover/ML_with_R.png">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:app:name:iphone" content="">
    <meta property="twitter:title" content="ã€Šæœºå™¨å­¦ä¹ ä¸ŽRè¯­è¨€ã€‹ç¬”è®°">
    <meta property="twitter:description" content=" ">
  

<meta name="generator" content="Hugo 0.85.0" />
<meta name="msapplication-TileColor" content="#fff">

<meta name="theme-color" content="#fff">

<meta name="msapplication-navbutton-color" content="#fff">

<meta name="apple-mobile-web-app-status-bar-style" content="#fff">

<link rel="canonical" href="https://www.metasphinx.com/zh/posts/2021/2021-09-24-machine-learning-with-r-note/">

<link rel="manifest" href="/manifest.json">

  <link rel="apple-touch-icon" sizes="57x57" href="/favicon/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/favicon/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/favicon/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/favicon/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/favicon/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/favicon/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/favicon/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/favicon/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/favicon/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/favicon/android-icon-512x512.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/favicon/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">


    <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebPage",
    "headline": "ã€Šæœºå™¨å­¦ä¹ ä¸ŽRè¯­è¨€ã€‹ç¬”è®°",
    "datePublished": "2021-09-24T18:03:26+08:00",
    "dateModified": "2021-09-24T18:03:26+08:00",
    "url" : "https://www.metasphinx.com/zh/posts/2021/2021-09-24-machine-learning-with-r-note/",
    "description": " ",
    "keywords": ["R"],
    "image" : "https://www.metasphinx.com/images/BookCover/ML_with_R.png",
    "author": {
      "@type": "Person",
      "name": "PolyFish"
    },
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https://www.metasphinx.com/"
    },
    "publisher": {
      "@type": "Organization",
      "name": "",
      "url": "https://www.metasphinx.com/"
    }
  }
</script>

    
  
  







    
</head>

<body id="root" class="theme__dark">
    <script>
        var localTheme = localStorage.getItem('theme');
        if (localTheme) {
            document.getElementById('root').className = 'theme__' + localTheme;
        }
    </script>
    <div id="container">
        





        <div class="wrapper" data-type="posts" data-kind="page">
            <nav class="navbar scrolling" role="navigation" aria-label="main navigation" data-dir="ltr">
  <div class="navbar__brand">
    
    <a href="/zh/" title="ä¸»é¡µ" rel="home" class="navbar__logo-link">
      <img src="/logo.png" alt="Home" class="navbar__logo">
    </a>
    
    
      <a href="/zh/" title="ä¸»é¡µ" rel="home" class="navbar__title-link">
        <h6 class="navbar__title">MetaSphinx</h6>
      </a>
    
  </div>

  
<div class="theme theme-mobile" data-ani="true">
  <div class="dropdown">
    <button class="dropdown-trigger navbar__slide-down" aria-label="Select Theme Button" style="" data-ani="true">
      <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24"><path fill="none" d="M24 0H0v24h24V0z"/><path fill="currentColor" d="M6.34 7.93c-3.12 3.12-3.12 8.19 0 11.31C7.9 20.8 9.95 21.58 12 21.58s4.1-.78 5.66-2.34c3.12-3.12 3.12-8.19 0-11.31l-4.95-4.95c-.39-.39-1.02-.39-1.41 0L6.34 7.93zM12 19.59c-1.6 0-3.11-.62-4.24-1.76C6.62 16.69 6 15.19 6 13.59s.62-3.11 1.76-4.24L12 5.1v14.49z"/></svg>      
    </button>
    <div class="dropdown-content select-theme">
      
        
        <a href="#" class="dropdown-item select-theme__item is-active">
          dark
        </a>
        
        <a href="#" class="dropdown-item select-theme__item ">
          light
        </a>
        
      
    </div>
  </div>
</div>


<div class="mobile-search__btn navbar-search" data-ani="true">
  <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M15.5 14h-.79l-.28-.27c1.2-1.4 1.82-3.31 1.48-5.34-.47-2.78-2.79-5-5.59-5.34-4.23-.52-7.79 3.04-7.27 7.27.34 2.8 2.56 5.12 5.34 5.59 2.03.34 3.94-.28 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>
</div>

<div id="search-mobile-container" class="mobile-search hide" data-dir="ltr">
  <div class="mobile-search__top">
    <input id="search-mobile" type="text" aria-label="Mobile Search" placeholder="æœç´¢" class="mobile-search__top--input"/>
    <div id="search-mobile-close" class="mobile-search__top--icon">
      <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24"><path opacity=".87" fill="none" d="M0 0h24v24H0V0z"/><path fill="currentColor" d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z"/></svg>
    </div>
  </div>
  <div id="search-mobile-results" class="mobile-search__body">
    
  </div>
</div>


<a role="button" class="navbar__burger" aria-label="menu" aria-expanded="false"
  data-ani="true">
  <span aria-hidden="true"></span>
  <span aria-hidden="true"></span>
  <span aria-hidden="true"></span>
</a>
<div class="navbarm__collapse" data-open="false">
  <ul dir="ltr">
    
    
      
      
      
      

      
        <li class="navbarm__menu--item ">
          <a href="/zh/about">å…³äºŽ</a>
        </li>
      
      
    
      
      
      
      

      
        <li class="navbarm__menu--item ">
          <a href="/zh/archive">å½’æ¡£</a>
        </li>
      
      
    
      
      
      
      

      
        <li class="navbarm__menu--item active">
          <a href="/zh/posts">åšå®¢</a>
        </li>
      
      
    

    
      <li class="navbarm__menu--item ">
        <a href="/zh/tags" class="navbarm__menu--term" data-index="0">
          æ ‡ç­¾
        </a>
      </li>
    
      <li class="navbarm__menu--item ">
        <a href="/zh/categories" class="navbarm__menu--term" data-index="1">
          åˆ†ç±»
        </a>
      </li>
    
      <li class="navbarm__menu--item ">
        <a href="/zh/series" class="navbarm__menu--term" data-index="2">
          ç³»åˆ—
        </a>
      </li>
    
  </ul>
</div>
  <div class="navbar__menu">
  
  
  
<div class="theme" data-ani="true">
  <div class="dropdown">
    <button class="dropdown-trigger navbar__slide-down" aria-label="Select Theme Button" data-ani="true">
      <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24"><path fill="none" d="M24 0H0v24h24V0z"/><path fill="currentColor" d="M6.34 7.93c-3.12 3.12-3.12 8.19 0 11.31C7.9 20.8 9.95 21.58 12 21.58s4.1-.78 5.66-2.34c3.12-3.12 3.12-8.19 0-11.31l-4.95-4.95c-.39-.39-1.02-.39-1.41 0L6.34 7.93zM12 19.59c-1.6 0-3.11-.62-4.24-1.76C6.62 16.69 6 15.19 6 13.59s.62-3.11 1.76-4.24L12 5.1v14.49z"/></svg>      
    </button>
    <div class="dropdown-content select-theme">
      
        
        <a href="#" class="dropdown-item select-theme__item is-active">
          dark
        </a>
        
        <a href="#" class="dropdown-item select-theme__item ">
          light
        </a>
        
      
    </div>
  </div>
</div>

  
  
  
  
  
  
  
  <a href="/zh/about" class="navbar__menu-item navbar__slide-down " dir="ltr" data-ani="true">å…³äºŽ</a>
  
  
  
  
  
  
  
  <a href="/zh/archive" class="navbar__menu-item navbar__slide-down " dir="ltr" data-ani="true">å½’æ¡£</a>
  
  
  
  
  
  
  
  <a href="/zh/posts" class="navbar__menu-item navbar__slide-down active" dir="ltr" data-ani="true">åšå®¢</a>
  
  
</div>
</nav>
            
            

<main class="single__main main-main">
  
    <nav class="breadcrumb hide" aria-label="breadcrumbs">
  <script>document.querySelector('.breadcrumb').classList.remove('hide')</script>
  <ol>
    
  
  
  
  
  
  <li >
    
      <a href="https://www.metasphinx.com/zh/" class="capitalize"></a>
    
  </li>
  
  
  <li >
    
      <a href="https://www.metasphinx.com/zh/posts/" class="capitalize">Posts</a>
    
  </li>
  
  
  <li  class="is-active" >
    
      <span>ã€Šæœºå™¨å­¦ä¹ ä¸ŽRè¯­è¨€ã€‹ç¬”è®°</span>
    
  </li>
  
  </ol>
  
</nav>
  
  
  <noscript>
    <div class="single__nojs">
      Please enable Javascript to view the contents
    </div>
  </noscript>
  
  <div class="single hide">
    <div class="single__nojs">Please enable Javascript to view the contents</div>
    <script>document.querySelector('.single').classList.remove('hide'); document.querySelector('.single__nojs').classList.add('hide');</script>
    <h2 class="single__title" data-ani="true">ã€Šæœºå™¨å­¦ä¹ ä¸ŽRè¯­è¨€ã€‹ç¬”è®°</h2>
    <h3 class="single__subtitle"></h3>
    <div class="single__meta">
      
<div class="single__infos">
  <time class="single__info" title="åˆ›å»ºæ—¥æœŸ">ðŸ“…&nbsp;2021å¹´09æœˆ24æ—¥ </time>
  
  &nbsp;&middot;&nbsp; <span class="single__info" title="é˜…è¯»æ—¶é•¿"> â˜•&nbsp;102&nbsp;åˆ†é’Ÿ </span>
  
  &nbsp;&middot;&nbsp; <span class="single__info" title="ä½œè€…">ðŸ‘½&nbsp;PolyFish</span>
  
  <span class="single__info">
    
  </span>
</div>

      
<ul class="single__tags caption">
  
  ðŸ·ï¸
  

  <li><a href="https://www.metasphinx.com/zh/tags/r/" class="single__tag" title="R">#R</a></li>

</ul>

    </div>
    <article class="single__contents" data-dir="ltr" data-ani="true">
      
      <h2 id="knnä¹³è…ºç™Œè¯Šæ–­">KNNä¹³è…ºç™Œè¯Šæ–­</h2>
<p><strong>è¿‡æ‹Ÿåˆ</strong>ï¼šè¯•å›¾ç”¨æ¨¡åž‹æ‹Ÿåˆå™ªå£°ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="c1"># ä¿å­˜å’ŒåŠ è½½Ræ•°æ®ç»“æž„</span>
<span class="nf">save</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="p">,</span><span class="n">z</span><span class="p">,</span> <span class="n">file</span> <span class="o">=</span> <span class="s">&#39;mydata.RData&#39;</span><span class="p">)</span>
<span class="nf">load</span><span class="p">(</span><span class="s">&#39;mydata.RData&#39;</span><span class="p">)</span>
<span class="nf">save.image</span><span class="p">()</span>
</code></pre></td></tr></table>
</div>
</div><p><code>%in%</code>æ“ä½œç¬¦ï¼šæ ¹æ®å·¦è¾¹çš„å€¼æ˜¯å¦åœ¨å³è¾¹çš„å‘é‡ä¸­ï¼Œä¸ºæ“ä½œç¬¦å·¦è¾¹å‘é‡ä¸­çš„æ¯ä¸€ä¸ªå€¼è¿”å›žTRUEæˆ–FALASEã€‚</p>
<blockquote>
<p>è¿‘é‚»åˆ†ç±»å™¨éžå¸¸é€‚ç”¨äºŽè¿™æ ·çš„åˆ†ç±»ä»»åŠ¡ï¼Œå…¶ä¸­çš„ç‰¹å¾å’Œç›®æ ‡ä¹‹é—´çš„å…³ç³»ä¼—å¤šã€å¤æ‚ï¼Œç”¨å…¶ä»–æ–¹å¼éš¾ä»¥ç†è§£ï¼Œä½†æ˜¯å…·æœ‰ç›¸ä¼¼ç±»çš„é¡¹ç›®åˆæ˜¯éžå¸¸ç›¸ä¼¼ã€‚</p>
</blockquote>
<p>è¿‡æ‹Ÿåˆä¸Žæ¬ æ‹Ÿåˆè®­ç»ƒæ•°æ®ä¹‹é—´çš„å¹³è¡¡é—®é¢˜ç§°ä¸º<code>bias-variance tradeoff</code>ã€‚</p>
<ul>
<li>å¤§çš„kä¼šå‡å°‘å™ªå£°æ•°æ®å¯¹æ¨¡åž‹çš„å½±å“æˆ–è€…å‡å°‘å™ªå£°å¯¼è‡´çš„æ¨¡åž‹æ³¢åŠ¨ï¼Œä½†æ˜¯å®ƒä¼šä½¿åˆ†ç±»å™¨äº§ç”Ÿåå·®ï¼Œæ¯”å¦‚ï¼Œå®ƒæœ‰å¿½è§†ä¸æ˜“å¯Ÿè§‰ä½†å´å¾ˆé‡è¦æ¨¡å¼çš„é£Žé™©ã€‚</li>
<li>è¾ƒå°çš„kå€¼ä¼šç»™å‡ºæ›´å¤æ‚çš„å†³ç­–è¾¹ç•Œï¼Œå®ƒå¯ä»¥æ›´ç²¾ç»†åœ°æ‹Ÿåˆè®­ç»ƒæ•°æ®ã€‚ä½†å¹¶ä¸çŸ¥é“æ˜¯ç›´çº¿è¾¹ç•Œè¿˜æ˜¯æ›²çº¿è¾¹ç•Œèƒ½æ›´å¥½åœ°ä»£è¡¨å°†è¦å­¦ä¹ çš„æ¦‚å¿µã€‚</li>
</ul>
<p>åº”ç”¨kNNç®—æ³•ä¹‹å‰ï¼Œé€šå¸¸å°†ç‰¹å¾è½¬æ¢ä¸ºä¸€ä¸ªæ ‡å‡†çš„èŒƒå›´å†…ã€‚</p>
<ul>
<li><strong>min-maxæ ‡å‡†åŒ–</strong><br />
$$X_{new}=\frac{X-min(x)}{max(X)-min(X)}$$</li>
<li><strong>z-scoreæ ‡å‡†åŒ–</strong><br />
$$X_{new}=\frac{X-\mu}{\sigma}=\frac{x-Mean(X)}{StdDev(X)}$$</li>
</ul>
<p>ä¸ºè®¡ç®—åä¹‰ç‰¹å¾ä¹‹é—´çš„è·ç¦»ï¼Œéœ€è¦å°†å…¶è½¬æ¢ä¸ºæ•°å€¼æ ¼å¼ï¼š</p>
<ul>
<li><code>dummy coding</code>ï¼šç¼–ç åŽç‰¹å¾ä¹‹é—´çš„è·ç¦»æ€»ä¸º1æˆ–è€…0ï¼Œä¸éœ€è¦è¿›è¡Œé¢å¤–çš„å˜æ¢ã€‚</li>
<li>å¦‚æžœåä¹‰ç‰¹å¾æ˜¯æœ‰åºçš„ï¼Œå¯ä»¥å¯¹é¡ºåºç¼–å·è¿›è¡Œmin-maxæ ‡å‡†åŒ–ã€‚</li>
</ul>
<h5 id="ä¸ºä»€ä¹ˆknnç®—æ³•æ˜¯æ‡’æƒ°çš„">ä¸ºä»€ä¹ˆkNNç®—æ³•æ˜¯æ‡’æƒ°çš„</h5>
<p>kNNä»…ä»…æ˜¯ä¸€å­—ä¸å·®åœ°å­˜å‚¨è®­ç»ƒæ•°æ®ï¼Œè¿™æ ·è®­ç»ƒé˜¶æ®µå°±è¿›è¡Œå¾—å¾ˆå¿«ï¼Œè¿›è¡Œé¢„æµ‹çš„è¿‡ç¨‹å¾€å¾€ä¼šå˜å¾—ç›¸å¯¹è¾ƒæ…¢ã€‚ç”±äºŽé«˜åº¦ä¾èµ–äºŽè®­ç»ƒæ¡ˆä¾‹ï¼Œæ‰€ä»¥æ‡’æƒ°å­¦ä¹ åˆç§°ä¸ºinstance-based learningæˆ–rote learningã€‚ç”±äºŽä¸ä¼šå»ºç«‹ä¸€ä¸ªæ–°æ¨¡åž‹ï¼Œè¯¥æ–¹æ³•åˆè¢«å½’ç±»ä¸ºnon-parametricå­¦ä¹ æ–¹æ³•ã€‚</p>
<h3 id="æ•°æ®å¤„ç†">æ•°æ®å¤„ç†</h3>
<p>æ•°æ®åŒ…æ‹¬ä¹³æˆ¿è‚¿å—ç»†é’ˆæŠ½å¸æ´»æ£€å›¾åƒçš„æ•°å­—åŒ–çš„å¤šé¡¹æµ‹åº¦å€¼ï¼Œè¿™äº›å€¼ä»£è¡¨å‡ºçŽ°åœ¨æ•°å­—åŒ–å›¾åƒä¸­çš„ç»†èƒžæ ¸ç‰¹å¾ã€‚ä¹³è…ºç™Œæ•°æ®åŒ…æ‹¬569ä¾‹ç»†èƒžæ´»æ£€æ¡ˆä¾‹ï¼Œæ¯ä¸ªæ¡ˆä¾‹æœ‰32ä¸ªç‰¹å¾ã€‚ä¸€ä¸ªç‰¹å¾æ˜¯è¯†åˆ«å·ç ï¼Œä¸€ä¸ªç‰¹å¾æ˜¯ç™Œç—‡è¯Šæ–­ç»“æžœï¼Œå…¶ä»–30ä¸ªç‰¹å¾æ˜¯æ•°å€¼åž‹çš„å®žéªŒå®¤æµ‹é‡ç»“æžœã€‚ç™Œç—‡è¯Šæ–­ç»“æžœç”¨ç¼–ç &quot;M&quot;è¡¨ç¤ºæ¶æ€§ï¼Œç”¨ç¼–ç &quot;B&quot;è¡¨ç¤ºè‰¯æ€§ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="n">wbcd</span> <span class="o">&lt;-</span> <span class="nf">read.csv</span><span class="p">(</span><span class="s">&#34;G:/R/Machine Learning With R/data/Chapter 03/wisc_bc_data.csv&#34;</span><span class="p">,</span> <span class="n">stringsAsFactors</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">)</span>
<span class="nf">str</span><span class="p">(</span><span class="n">wbcd</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-sos" data-lang="sos">'data.frame':	569 obs. of  32 variables:
   $ id               : int  87139402 8910251 905520 868871 9012568 906539 925291 87880 862989 89827 ...
   $ diagnosis        : chr  &quot;B&quot; &quot;B&quot; &quot;B&quot; &quot;B&quot; ...
   $ radius_mean      : num  12.3 10.6 11 11.3 15.2 ...
   $ texture_mean     : num  12.4 18.9 16.8 13.4 13.2 ...
   $ perimeter_mean   : num  78.8 69.3 70.9 73 97.7 ...
   $ area_mean        : num  464 346 373 385 712 ...
   $ smoothness_mean  : num  0.1028 0.0969 0.1077 0.1164 0.0796 ...
   $ compactness_mean : num  0.0698 0.1147 0.078 0.1136 0.0693 ...
   $ concavity_mean   : num  0.0399 0.0639 0.0305 0.0464 0.0339 ...
   $ points_mean      : num  0.037 0.0264 0.0248 0.048 0.0266 ...
   $ symmetry_mean    : num  0.196 0.192 0.171 0.177 0.172 ...
   $ dimension_mean   : num  0.0595 0.0649 0.0634 0.0607 0.0554 ...
   $ radius_se        : num  0.236 0.451 0.197 0.338 0.178 ...
   $ texture_se       : num  0.666 1.197 1.387 1.343 0.412 ...
   $ perimeter_se     : num  1.67 3.43 1.34 1.85 1.34 ...
   $ area_se          : num  17.4 27.1 13.5 26.3 17.7 ...
   $ smoothness_se    : num  0.00805 0.00747 0.00516 0.01127 0.00501 ...
   $ compactness_se   : num  0.0118 0.03581 0.00936 0.03498 0.01485 ...
   $ concavity_se     : num  0.0168 0.0335 0.0106 0.0219 0.0155 ...
   $ points_se        : num  0.01241 0.01365 0.00748 0.01965 0.00915 ...
   $ symmetry_se      : num  0.0192 0.035 0.0172 0.0158 0.0165 ...
   $ dimension_se     : num  0.00225 0.00332 0.0022 0.00344 0.00177 ...
   $ radius_worst     : num  13.5 11.9 12.4 11.9 16.2 ...
   $ texture_worst    : num  15.6 22.9 26.4 15.8 15.7 ...
   $ perimeter_worst  : num  87 78.3 79.9 76.5 104.5 ...
   $ area_worst       : num  549 425 471 434 819 ...
   $ smoothness_worst : num  0.139 0.121 0.137 0.137 0.113 ...
   $ compactness_worst: num  0.127 0.252 0.148 0.182 0.174 ...
   $ concavity_worst  : num  0.1242 0.1916 0.1067 0.0867 0.1362 ...
   $ points_worst     : num  0.0939 0.0793 0.0743 0.0861 0.0818 ...
   $ symmetry_worst   : num  0.283 0.294 0.3 0.21 0.249 ...
   $ dimension_worst  : num  0.0677 0.0759 0.0788 0.0678 0.0677 ...
</code></pre><p>idå˜é‡æ˜¯æ¯ä¸ªç—…äººåœ¨æ•°æ®ä¸­çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼ˆIDï¼‰ï¼Œå®ƒä¸èƒ½æä¾›æœ‰ç”¨çš„ä¿¡æ¯ï¼Œéœ€è¦ä»Žæ¨¡åž‹ä¸­æŽ’é™¤ã€‚<strong>ä¸ç®¡æ˜¯ä»€ä¹ˆæœºå™¨å­¦ä¹ æ–¹æ³•ï¼ŒIDå˜é‡æ€»è¦è¢«å‰”é™¤ï¼Œå› ä¸ºIDå¯ä»¥ç”¨æ¥ç‹¬ä¸€æ— äºŒåœ°â€œé¢„æµ‹â€æ¯ä¸€ä¸ªæ¡ˆä¾‹ï¼Œå®¹æ˜“è¿‡æ‹Ÿåˆ</strong>ã€‚å˜é‡diagnosisï¼ˆè¯Šæ–­ï¼‰ï¼Œæ˜¯å¸Œæœ›é¢„æµ‹çš„ç»“æžœã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="n">wbcd</span> <span class="o">&lt;-</span> <span class="n">wbcd[</span><span class="m">-1</span><span class="n">]</span> ã€€<span class="c1"># å¤åˆ¶ä¸€ä¸ªä¸åŒ…æ‹¬åˆ—1çš„wbcdæ•°æ®æ¡†</span>
<span class="nf">table</span><span class="p">(</span><span class="n">wbcd</span><span class="o">$</span><span class="n">diagnosis</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-sos" data-lang="sos">    B   M 
  357 212 
</code></pre><p>è®¸å¤šRæœºå™¨å­¦ä¹ åˆ†ç±»å™¨è¦æ±‚å°†ç›®æ ‡å±žæ€§ç¼–ç ä¸ºå› å­åž‹ï¼Œæ‰€ä»¥éœ€è¦é‡æ–°ç¼–ç å­—ç¬¦çš„diagnosiså˜é‡ã€‚åŒæ—¶ç”¨<code>labels</code>å‚æ•°å¯¹Bå€¼å’ŒMå€¼ç»™å‡ºå«æœ‰æ›´å¤šä¿¡æ¯çš„æ ‡ç­¾ã€‚å‡½æ•°prop.table()è¾“å‡ºç»“æžœæ˜¾ç¤ºï¼Œåˆ†åˆ«æœ‰62.7%çš„è‰¯æ€§è‚¿å—å’Œ37.3%çš„æ¶æ€§è‚¿å—ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="n">wbcd</span><span class="o">$</span><span class="n">diagnosis</span> <span class="o">&lt;-</span> <span class="nf">factor</span><span class="p">(</span><span class="n">wbcd</span><span class="o">$</span><span class="n">diagnosis</span><span class="p">,</span> <span class="n">levels</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#34;B&#34;</span><span class="p">,</span> <span class="s">&#34;M&#34;</span><span class="p">),</span> <span class="n">labels</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#34;Benign&#34;</span><span class="p">,</span> <span class="s">&#34;Malignant&#34;</span><span class="p">))</span>
<span class="nf">round</span><span class="p">(</span><span class="nf">prop.table</span><span class="p">(</span><span class="nf">table</span><span class="p">(</span><span class="n">wbcd</span><span class="o">$</span><span class="n">diagnosis</span><span class="p">))</span><span class="o">*</span><span class="m">100</span><span class="p">,</span> <span class="n">digits</span> <span class="o">=</span> <span class="m">1</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-sos" data-lang="sos">Benign Malignant 
 62.7      37.3 
</code></pre><h5 id="min-maxæ ‡å‡†åŒ–">min-maxæ ‡å‡†åŒ–</h5>
<p><code>lapply()</code>å‡½æ•°å¯ä»¥è¾“å…¥ä¸€ä¸ªåˆ—è¡¨ï¼Œç„¶åŽæŠŠä¸€ä¸ªå‡½æ•°åº”è¯¥åˆ°åˆ—è¡¨çš„æ¯ä¸€ä¸ªå…ƒç´ ã€‚å› ä¸ºæ•°æ®æ¡†æ˜¯ä¸€ä¸ªå«æœ‰ç­‰é•¿åº¦å‘é‡çš„åˆ—è¡¨ï¼Œå¯ä»¥ä½¿ç”¨<code>lapply()</code>å‡½æ•°å°†<code>normalize()</code>å‡½æ•°åº”ç”¨åˆ°æ•°æ®æ¡†ä¸­çš„æ¯ä¸€ä¸ªç‰¹å¾ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="n">normalize</span> <span class="o">&lt;-</span> <span class="nf">function</span><span class="p">(</span><span class="n">x</span><span class="p">){</span>
  <span class="nf">return</span><span class="p">((</span><span class="n">x</span> <span class="o">-</span> <span class="nf">min</span><span class="p">(</span><span class="n">x</span><span class="p">))</span> <span class="o">/</span> <span class="p">(</span><span class="nf">max</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">-</span> <span class="nf">min</span><span class="p">(</span><span class="n">x</span><span class="p">)))</span>
<span class="p">}</span>

<span class="n">wbcd_n</span> <span class="o">&lt;-</span> <span class="nf">as.data.frame</span><span class="p">(</span><span class="nf">lapply</span><span class="p">(</span><span class="n">wbcd[2</span><span class="o">:</span><span class="m">31</span><span class="n">]</span><span class="p">,</span> <span class="n">normalize</span><span class="p">))</span> 

<span class="c1"># æ•°æ®ä¸­çš„æ¡ˆä¾‹å·²ç»éšæœºæŽ’åˆ—</span>
<span class="n">wbcd_train</span> <span class="o">&lt;-</span> <span class="n">wbcd_n[1</span><span class="o">:</span><span class="m">469</span><span class="p">,</span> <span class="n">]</span> 
<span class="n">wbcd_test</span> <span class="o">&lt;-</span> <span class="n">wbcd_n[470</span><span class="o">:</span><span class="m">569</span><span class="p">,</span> <span class="n">]</span>
<span class="n">wbcd_train_labels</span> <span class="o">&lt;-</span> <span class="n">wbcd[1</span><span class="o">:</span><span class="m">469</span><span class="p">,</span><span class="m">1</span><span class="n">]</span>
<span class="n">wbcd_test_labels</span> <span class="o">&lt;-</span> <span class="n">wbcd[470</span><span class="o">:</span><span class="m">569</span><span class="p">,</span><span class="m">1</span><span class="n">]</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="æ¨¡åž‹è®­ç»ƒ">æ¨¡åž‹è®­ç»ƒ</h3>
<p><code>class</code>åŒ…ä¸­<code>knn()</code>å‡½æ•°ä½¿ç”¨æ¬§æ°è·ç¦»æ ‡è¯†kä¸ªè¿‘é‚»ï¼Œé€šè¿‡kä¸ªè¿‘é‚»çš„â€œæŠ•ç¥¨â€æ¥å¯¹æµ‹è¯•ä¸ªæ¡ˆè¿›è¡Œåˆ†ç±»ï¼Œå¥‡æ•°kæœ‰åŠ©äºŽå‡å°‘å„ä¸ªç±»æŠ•ç¥¨æ•°ç›¸ç­‰è¿™ä¸€æƒ…å†µçš„å‘ç”Ÿã€‚å¦‚æžœå„ä¸ªç±»çš„ç¥¨æ•°ç›¸ç­‰ï¼Œåˆ™æµ‹è¯•å®žä¾‹ä¼šè¢«éšæœºåˆ†ç±»ã€‚å‡½æ•°<code>knn()</code>è¿”å›žä¸€ä¸ªå› å­å‘é‡ï¼Œä¸ºæµ‹è¯•æ•°æ®é›†ä¸­çš„æ¯ä¸€ä¸ªæ¡ˆä¾‹è¿”å›žä¸€ä¸ªé¢„æµ‹æ ‡ç­¾ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="nf">library</span><span class="p">(</span><span class="n">class</span><span class="p">)</span>
<span class="n">wbcd_test_pred</span> <span class="o">&lt;-</span> <span class="nf">knn</span><span class="p">(</span><span class="n">train</span> <span class="o">=</span> <span class="n">wbcd_train</span><span class="p">,</span> <span class="n">test</span> <span class="o">=</span> <span class="n">wbcd_test</span><span class="p">,</span>
                      <span class="n">cl</span> <span class="o">=</span> <span class="n">wbcd_train_labels</span><span class="p">,</span> <span class="n">k</span> <span class="o">=</span> <span class="m">21</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="æ€§èƒ½è¯„ä¼°">æ€§èƒ½è¯„ä¼°</h3>
<p>è¯„ä¼°<code>wbcd_test_pred</code>å‘é‡ä¸­é¢„æµ‹çš„åˆ†ç±»ä¸Ž<code>wbcd_test_labels</code>å‘é‡ä¸­å·²çŸ¥çš„å€¼çš„åŒ¹é…ç¨‹åº¦ï¼Œå¯ä½¿ç”¨<code>gmodels</code>æ·»åŠ åŒ…ä¸­çš„<code>CrossTable()</code>å‡½æ•°ï¼Œè¯¥å‡½æ•°å¯ä»¥åˆ›å»ºä¸€ä¸ªæ ‡è¯†ä¸¤ä¸ªå‘é‡ä¹‹é—´ä¸€è‡´æ€§çš„äº¤å‰è¡¨ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="nf">library</span><span class="p">(</span><span class="n">gmodels</span><span class="p">)</span>
<span class="nf">CrossTable</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">wbcd_test_labels</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">wbcd_test_pred</span><span class="p">,</span> <span class="n">prop.chisq</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-sos" data-lang="sos">     Cell Contents
  |-------------------------|
  |                       N |
  |           N / Row Total |
  |           N / Col Total |
  |         N / Table Total |
  |-------------------------|
  
   
  Total Observations in Table:  100 
  
   
                   | wbcd_test_pred 
  wbcd_test_labels |    Benign | Malignant | Row Total | 
  -----------------|-----------|-----------|-----------|
            Benign |        61 |         0 |        61 | 
                   |     1.000 |     0.000 |     0.610 | 
                   |     0.968 |     0.000 |           | 
                   |     0.610 |     0.000 |           | 
  -----------------|-----------|-----------|-----------|
         Malignant |         2 |        37 |        39 | 
                   |     0.051 |     0.949 |     0.390 | 
                   |     0.032 |     1.000 |           | 
                   |     0.020 |     0.370 |           | 
  -----------------|-----------|-----------|-----------|
      Column Total |        63 |        37 |       100 | 
                   |     0.630 |     0.370 |           | 
  -----------------|-----------|-----------|-----------|
</code></pre><p>è¡¨æ ¼ä¸­å•å…ƒæ ¼çš„ç™¾åˆ†æ¯”è¡¨ç¤ºè½åœ¨4ä¸ªåˆ†ç±»ç»“æžœé‡Œçš„å€¼æ‰€å çš„æ¯”ä¾‹ã€‚åœ¨å·¦ä¸Šè§’çš„å•å…ƒæ ¼ä¸­ï¼Œæ˜¯çœŸé˜´æ€§(True Negative)çš„ç»“æžœã€‚100ä¸ªå€¼ä¸­æœ‰61ä¸ªå€¼æ ‡è¯†è‚¿å—æ˜¯è‰¯æ€§çš„ï¼Œè€ŒKNNç®—æ³•ä¹Ÿæ­£ç¡®åœ°æŠŠå®ƒä»¬æ ‡è¯†ä¸ºè‰¯æ€§çš„ã€‚åœ¨å³ä¸‹è§’çš„å•å…ƒæ ¼ä¸­ï¼Œæ˜¾ç¤ºçš„æ˜¯çœŸé˜³æ€§(True Positive)çš„ç»“æžœï¼Œè¿™é‡Œè¡¨ç¤ºçš„æ˜¯åˆ†ç±»å™¨å’Œä¸´åºŠç¡®å®šçš„æ ‡ç­¾ä¸€è‡´è®¤ä¸ºè‚¿å—æ˜¯æ¶æ€§çš„æƒ…å½¢ã€‚100ä¸ªé¢„æµ‹å€¼ä¸­æœ‰37ä¸ªæ˜¯çœŸé˜´æ€§çš„ã€‚è½åœ¨å¦ä¸€å¯¹è§’çº¿ä¸Šçš„å•å…ƒæ ¼åŒ…å«äº†kNNç®—æ³•ä¸ŽçœŸå®žæ ‡ç­¾ä¸ä¸€è‡´çš„æ¡ˆä¾‹è®¡æ•°ã€‚ä½äºŽå·¦ä¸‹è§’å•å…ƒæ ¼çš„2ä¸ªæ¡ˆä¾‹æ˜¯å‡é˜´æ€§(False Negative)çš„ç»“æžœï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œé¢„æµ‹çš„å€¼æ˜¯è‰¯æ€§çš„ï¼Œä½†è‚¿ç˜¤å®žé™…ä¸Šæ˜¯æ¶æ€§çš„ã€‚<strong>è¿™ä¸ªæ–¹å‘ä¸Šçš„é”™è¯¯å¯èƒ½ä¼šäº§ç”Ÿæžå…¶é«˜æ˜‚çš„ä»£ä»·</strong>ï¼Œå› ä¸ºå®ƒä»¬å¯èƒ½å¯¼è‡´ä¸€ä½ç—…äººè®¤ä¸ºè‡ªå·±æ²¡æœ‰ç™Œç—‡ï¼Œè€Œå®žé™…ä¸Šè¿™ç§ç–¾ç—…å¯èƒ½ä¼šç»§ç»­è”“å»¶ã€‚å¦‚æžœå³ä¸Šè§’çš„å•å…ƒæ ¼é‡Œæœ‰å€¼ï¼Œä»–åŒ…å«çš„æ˜¯å‡é˜³æ€§(False Positive)çš„ç»“æžœã€‚å½“æ¨¡åž‹æŠŠè‚¿å—æ ‡è¯†ä¸ºæ¶æ€§çš„ï¼Œè€Œäº‹å®žä¸Šå®ƒæ˜¯è‰¯æ€§çš„å°±ä¼šäº§ç”Ÿè¿™é‡Œçš„å€¼ã€‚å°½ç®¡è¿™ç±»é”™è¯¯æ²¡æœ‰å‡é˜´æ€§çš„ç»“æžœé‚£ä¹ˆå±é™©ï¼Œä½†è¿™ç±»é”™è¯¯ä¹Ÿåº”è¯¥é¿å…ï¼Œå› ä¸ºå®ƒä»¬å¯èƒ½å¯¼è‡´åŒ»ç–—ç³»ç»Ÿçš„é¢å¤–è´¢æ”¿è´Ÿæ‹…ï¼Œæˆ–è€…ç—…äººçš„é¢å¤–åŽ‹åŠ›ï¼Œæ¯•ç«Ÿè¿™éœ€è¦æä¾›é¢å¤–çš„æ£€æŸ¥æˆ–è€…æ²»ç–—ã€‚æ ¹æ®kNNç®—æ³•ï¼Œä¸ªè‚¿å—ä¸­ï¼Œæœ‰ä¸¤ä¸ªæ˜¯è¢«é”™è¯¯åˆ†ç±»çš„ï¼Œå‡†ç¡®åº¦è¾¾åˆ°äº†98%ã€‚</p>
<h3 id="æ€§èƒ½æå‡">æ€§èƒ½æå‡</h3>
<ul>
<li><code>z-score</code>æ ‡å‡†åŒ–</li>
<li>å°è¯•å…¶ä»–çš„kå€¼</li>
</ul>
<h2 id="æœ´ç´ è´å¶æ–¯æ‰‹æœºåžƒåœ¾çŸ­ä¿¡è¿‡æ»¤">æœ´ç´ è´å¶æ–¯æ‰‹æœºåžƒåœ¾çŸ­ä¿¡è¿‡æ»¤</h2>
<p>åŸºäºŽè´å¶æ–¯æ–¹æ³•çš„åˆ†ç±»å™¨æ˜¯åˆ©ç”¨è®­ç»ƒæ•°æ®å¹¶æ ¹æ®ç‰¹å¾çš„å–å€¼æ¥è®¡ç®—æ¯ä¸ªç±»åˆ«è¢«è§‚å¯Ÿåˆ°çš„æ¦‚çŽ‡ã€‚å½“åˆ†ç±»å™¨è¢«åº”ç”¨åˆ°æ— æ ‡ç­¾æ•°æ®æ—¶ï¼Œåˆ†ç±»å™¨å°±ä¼šæ ¹æ®è§‚æµ‹åˆ°çš„æ¦‚çŽ‡æ¥é¢„æµ‹æ–°çš„ç‰¹å¾æœ€æœ‰å¯èƒ½æ˜¯å±žäºŽå“ªä¸ªç±»ã€‚</p>
<p>è´å¶æ–¯å®šç†ï¼š<br />
$$P(A|B)=\frac{P(B|A)P(A)}{P(B)}=\frac{P(A\bigcap B)}{B} $$<br />
å…¶ä¸­ï¼š</p>
<ul>
<li>$P(A|B)$ï¼šåŽéªŒæ¦‚çŽ‡</li>
<li>$P(B|A)$ï¼šä¼¼ç„¶æ¦‚çŽ‡</li>
<li>$P(A)$ï¼šå…ˆéªŒæ¦‚çŽ‡</li>
<li>$P(B)$ï¼šè¾¹é™…ä¼¼ç„¶æ¦‚çŽ‡</li>
</ul>
<h5 id="naive-bayes">Naive Bayes</h5>
<p>æœ´ç´ è´å¶æ–¯å‡è®¾æ•°æ®é›†çš„æ‰€æœ‰ç‰¹å¾éƒ½å…·æœ‰åŒæ ·çš„é‡è¦æ€§å’Œç±»æ¡ä»¶ç‹¬ç«‹(class-conditional independence)ã€‚ç±»æ¡ä»¶ç‹¬ç«‹æ„å‘³ç€åªè¦äº‹ä»¶åœ¨ç›¸åŒç±»å–å€¼çš„æ¡ä»¶ä¸‹ï¼Œè¿™äº›äº‹ä»¶å°±æ˜¯ç›¸äº’ç‹¬ç«‹çš„ã€‚æœ¬è´¨ä¸Šï¼Œåœ¨ç»™å®šç‰¹å¾$F_1$,åˆ°$F_n$æä¾›çš„è¯æ®çš„æ¡ä»¶ä¸‹ï¼Œç±»$C$ä¸­æ°´å¹³ä¸º$L$çš„æ¦‚çŽ‡ç­‰äºŽæ¯ä¸€æ¡è¯æ®åœ¨ç±»$C$çš„æ°´å¹³$L$ä¸‹çš„æ¡ä»¶æ¦‚çŽ‡çš„ä¹˜ç§¯ï¼Œå†ä¹˜ä»¥ç±»$C$çš„æ°´å¹³$L$çš„å…ˆéªŒæ¦‚çŽ‡å’Œå°ºåº¦å› å­$1/Z$,å°ºåº¦å› å­1/Zå°†æŠŠä¸Šè¿°ç»“æžœè½¬æ¢ä¸ºä¸€ä¸ªæ¦‚çŽ‡å€¼ï¼š<br />
$$P(C_L|F_1,\cdots,F_n)=\frac{1}{Z}p(C_L)\prod_{i=1}^n{p(F_i|C_L)}$$</p>
<h5 id="laplace-estimator">Laplace estimator</h5>
<p>æ‹‰æ™®æ‹‰æ–¯ä¼°è®¡æœ¬è´¨ä¸Šæ˜¯ç»™é¢‘çŽ‡è¡¨ä¸­çš„æ¯ä¸ªè®¡æ•°åŠ ä¸Šä¸€ä¸ªè¾ƒå°çš„æ•°ï¼Œè¿™æ ·å°±ä¿è¯äº†æ¯ä¸€ç±»ä¸­æ¯ä¸ªç‰¹å¾å‘ç”Ÿçš„æ¦‚çŽ‡æ˜¯éžé›¶çš„ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œæ‹‰æ™®æ‹‰æ–¯ä¼°è®¡ä¸­åŠ ä¸Šçš„æ•°å€¼è®¾å®šä¸º1ï¼Œè¿™æ ·å°±ä¿è¯æ¯ä¸€ç±»ç‰¹å¾çš„ç»„åˆè‡³å°‘åœ¨æ•°æ®ä¸­å‡ºçŽ°ä¸€æ¬¡ã€‚</p>
<h5 id="åœ¨æœ´ç´ è´å¶æ–¯ç®—æ³•ä¸­ä½¿ç”¨æ•°å€¼ç‰¹å¾">åœ¨æœ´ç´ è´å¶æ–¯ç®—æ³•ä¸­ä½¿ç”¨æ•°å€¼ç‰¹å¾</h5>
<p>ç”±äºŽæœ´ç´ è´å¶æ–¯ç®—æ³•ä½¿ç”¨å­¦ä¹ æ•°æ®çš„é¢‘çŽ‡è¡¨ï¼Œæ‰€ä»¥ä¸ºäº†åˆ›å»ºç±»å’Œç‰¹å¾å€¼çš„ç»„åˆæ‰€æž„æˆçš„çŸ©é˜µï¼Œ<strong>æ¯ä¸ªç‰¹å¾å¿…é¡»æ˜¯åˆ†ç±»å˜é‡</strong>ã€‚å°†æ•°å€¼åž‹ç‰¹å¾<strong>ç¦»æ•£åŒ–</strong>ï¼Œè¿™å°±æ„å‘³ç€å°†æ•°å€¼åˆ†åˆ°ä¸åŒçš„åˆ†æ®µ(bin)ä¸­ï¼Œè¿™äº›åˆ†æ®µå°±æ˜¯ç¦»æ•£åŒ–çš„ç±»çš„æ°´å¹³ã€‚å°†æ•°å€¼ç‰¹å¾ç¦»æ•£åŒ–æ€»æ˜¯ä¼šå¯¼è‡´ä¿¡æ¯é‡çš„å‡å°‘ï¼Œå› ä¸ºç‰¹å¾çš„åŽŸå§‹ç²’åº¦å‡å°‘ä¸ºå‡ ä¸ªæ•°ç›®è¾ƒå°‘çš„ç±»åˆ«ã€‚åœ¨å¤„ç†è¿™ä¸ªé—®é¢˜æ—¶ï¼Œé‡è¦çš„æ˜¯å–å¾—å¹³è¡¡ï¼Œå› ä¸ºå¤ªå°‘çš„åˆ†æ®µä¼šå¯¼è‡´é‡è¦çš„è¶‹åŠ¿è¢«æŽ©ç›–ï¼Œè€Œå¤ªå¤šçš„åˆ†æ®µä¼šå¯¼è‡´æœ´ç´ è´å¶æ–¯é¢‘çŽ‡è¡¨ä¸­çš„è®¡æ•°å€¼å¾ˆå°ã€‚</p>
<h3 id="æ•°æ®å¤„ç†-1">æ•°æ®å¤„ç†</h3>
<p>ç”±äºŽçŸ­ä¿¡é€šå¸¸é™åˆ¶ä¸º160ä¸ªå­—ç¬¦ï¼Œæ‰€ä»¥å¯ä»¥ç”¨æ¥ç¡®å®šä¸€æ¡çŸ­ä¿¡æ˜¯å¦æ˜¯åžƒåœ¾æ¶ˆæ¯çš„æ–‡æœ¬é‡å‡å°‘äº†ï¼Œè¿™ç§é™åˆ¶ä¸Žå°çš„ä¸æ–¹ä¾¿çš„æ‰‹æœºé”®ç›˜ä¸€èµ·ï¼Œå¯¼è‡´å¾ˆå¤šäººé‡‡ç”¨çŸ­ä¿¡æœ¯è¯­ç¼©å†™çš„å½¢å¼ï¼Œè¿™è¿›ä¸€æ­¥å«ç³Šäº†åˆæ³•æ¶ˆæ¯å’Œåžƒåœ¾æ¶ˆæ¯çš„ç•Œé™ã€‚<strong>sms_spam</strong>æ•°æ®é›†åŒ…å«çŸ­ä¿¡çš„æ–‡æœ¬ä¿¡æ¯ï¼Œè€Œä¸”å¸¦æœ‰è¡¨æ˜Žè¯¥çŸ­ä¿¡æ˜¯å¦ä¸ºåžƒåœ¾çŸ­ä¿¡çš„æ ‡ç­¾ã€‚åžƒåœ¾çŸ­æ¯æ ‡è®°ä¸ºspamï¼Œè€Œéžåžƒåœ¾çŸ­ä¿¡æ ‡è®°ä¸ºhamã€‚</p>
<p>æž„å»ºåˆ†ç±»å™¨çš„ç¬¬ä¸€æ­¥æ¶‰åŠåŽŸå§‹æ•°æ®çš„å¤„ç†ä¸Žåˆ†æžï¼Œæ–‡æœ¬æ•°æ®çš„å‡†å¤‡å…·æœ‰æŒ‘æˆ˜æ€§ï¼Œå› ä¸ºå°†è¯å’Œå¥å­è½¬åŒ–æˆè®¡ç®—æœºèƒ½å¤Ÿç†è§£çš„å½¢å¼æ˜¯å¿…è¦çš„ã€‚è¿™é‡ŒæŠŠæ•°æ®è½¬åŒ–æˆä¸€ç§ç§°ä¸ºè¯è¢‹(<code>bag-of-words</code>)çš„è¡¨ç¤ºæ–¹æ³•ï¼Œè¿™ç§è¡¨ç¤ºæ–¹æ³•å¿½ç•¥äº†å•è¯å‡ºçŽ°çš„é¡ºåºï¼Œåªæ˜¯ç®€å•åœ°æä¾›ä¸€ä¸ªå˜é‡ç”¨æ¥è¡¨ç¤ºå•è¯æ˜¯å¦ä¼šå‡ºçŽ°ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="n">sms_raw</span> <span class="o">&lt;-</span> <span class="nf">read.csv</span><span class="p">(</span><span class="s">&#34;G:/R/Machine Learning With R/data/Chapter 04/sms_spam.csv&#34;</span><span class="p">,</span> <span class="n">stringsAsFactors</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">)</span>
<span class="nf">str</span><span class="p">(</span><span class="n">sms_raw</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-sos" data-lang="sos">'data.frame':	5559 obs. of  2 variables:
  $ type: chr  &quot;ham&quot; &quot;ham&quot; &quot;ham&quot; &quot;spam&quot; ...
  $ text: chr  &quot;Hope you are having a good week. Just checking in&quot; &quot;K..give back my thanks.&quot; &quot;Am also doing in cbe only. But have to pay.&quot; &quot;complimentary 4 STAR Ibiza Holiday or æ‹¢10,000 cash needs your URGENT collection. 09066364349 NOW from Landline&quot;| __truncated__ ...
</code></pre><p>sms_rawæ•°æ®æ–‡ä»¶åŒ…å«äº†5559æ¡çŸ­ä¿¡ï¼Œæ¯æ¡çŸ­ä¿¡éƒ½æœ‰ä¸¤ä¸ªç‰¹å¾ï¼štypeå’Œtextã€‚å°†SMSçš„ç‰¹å¾typeç¼–ç ä¸ºhamæˆ–è€…spamï¼Œè€Œå˜é‡textå­˜å‚¨æ•´ä¸ªSMSçŸ­ä¿¡æ–‡æœ¬ã€‚typeæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²å‘é‡ï¼Œç”±äºŽå®ƒæ˜¯ä¸€ä¸ªåˆ†ç±»å˜é‡ï¼Œæ‰€ä»¥å°†å…¶è½¬æ¢æˆä¸€ä¸ªå› å­ä¼šæ›´å¥½:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="n">sms_raw</span><span class="o">$</span><span class="n">type</span> <span class="o">&lt;-</span> <span class="nf">factor</span><span class="p">(</span><span class="n">sms_raw</span><span class="o">$</span><span class="n">type</span><span class="p">)</span>
<span class="nf">str</span><span class="p">(</span><span class="n">sms_raw</span><span class="o">$</span><span class="n">type</span><span class="p">)</span>
<span class="nf">table</span><span class="p">(</span><span class="n">sms_raw</span><span class="o">$</span><span class="n">type</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-Output" data-lang="Output">Factor w/ 2 levels &quot;ham&quot;,&quot;spam&quot;: 1 1 1 2 2 1 1 1 2 1 ...

 ham spam 
4812  747 
</code></pre><h5 id="å¤„ç†å’Œåˆ†æžæ–‡æœ¬æ•°æ®">å¤„ç†å’Œåˆ†æžæ–‡æœ¬æ•°æ®</h5>
<p>çŸ­ä¿¡å°±æ˜¯ç”±è¯ã€ç©ºæ ¼ã€æ•°å­—å’Œæ ‡ç‚¹ç¬¦å·ç»„æˆçš„æ–‡æœ¬å­—ç¬¦ä¸²ã€‚å¤„ç†è¿™ç§ç±»åž‹çš„å¤æ‚æ•°æ®éœ€è¦å¤§é‡çš„æ€è€ƒå·¥ä½œï¼Œä¸€æ–¹é¢éœ€è¦è€ƒè™‘å¦‚ä½•åŽ»é™¤æ•°å­—å’Œæ ‡ç‚¹ç¬¦å·ï¼Œå¦‚ä½•å¤„ç†æ²¡æœ‰æ„ä¹‰çš„å•è¯ï¼Œå¦‚andã€butå’Œorç­‰ï¼Œä»¥åŠå¦‚ä½•å°†å¥å­åˆ†è§£æˆå•ä¸ªçš„å•è¯ã€‚æ–‡æœ¬æŒ–æŽ˜æ·»åŠ åŒ…<code>tm</code>æä¾›äº†è¿™äº›åŠŸèƒ½ã€‚å¤„ç†æ–‡æœ¬æ•°æ®çš„ç¬¬ä¸€æ­¥æ¶‰åŠåˆ›å»ºä¸€ä¸ªè¯­æ–™åº“ï¼Œå³ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶çš„é›†åˆã€‚é¦–å…ˆï¼Œå‡½æ•°<code>Corpus()</code>åˆ›å»ºäº†ä¸€ä¸ªRå¯¹è±¡æ¥å­˜å‚¨æ–‡æœ¬æ–‡æ¡£ï¼Œå‡½æ•°<code>VectorSource()</code>æ¥æŒ‡ç¤ºå‡½æ•°Corpus()ä½¿ç”¨å‘é‡sms_train$textçš„ä¿¡æ¯ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="nf">library</span><span class="p">(</span><span class="n">tm</span><span class="p">)</span>
<span class="n">sms_corpus</span> <span class="o">&lt;-</span> <span class="nf">Corpus</span><span class="p">(</span><span class="nf">VectorSource</span><span class="p">(</span><span class="n">sms_raw</span><span class="o">$</span><span class="n">text</span><span class="p">))</span>
<span class="nf">print</span><span class="p">(</span><span class="n">sms_corpus</span><span class="p">)</span>

<span class="c1"># inspect()å‡½æ•°æŸ¥çœ‹è¯­æ–™åº“çš„å†…å®¹</span>
<span class="nf">inspect</span><span class="p">(</span><span class="n">sms_corpus[1</span><span class="o">:</span><span class="m">3</span><span class="n">]</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-sos" data-lang="sos">  &lt;&lt;SimpleCorpus&gt;&gt;
  Metadata:  corpus specific: 1, document level (indexed): 0
  Content:  documents: 5559
  &lt;&lt;SimpleCorpus&gt;&gt;
  Metadata:  corpus specific: 1, document level (indexed): 0
  Content:  documents: 3
  
  [1] Hope you are having a good week. Just checking in
  [2] K..give back my thanks.                          
  [3] Am also doing in cbe only. But have to pay.      
</code></pre><p>è¯­æ–™åº“åŒ…å«çš„5559æ¡è®­ç»ƒæ•°æ®çŸ­ä¿¡ã€‚å°†æ–‡æœ¬å†…å®¹åˆ†è§£æˆå•è¯ä¹‹å‰ï¼Œéœ€åŽ»é™¤æ ‡ç‚¹ç¬¦å·å’Œå¯èƒ½ä¼šå½±å“ç»“æžœçš„å…¶ä»–å­—ç¬¦ã€‚ä¾‹å¦‚ï¼ŒæŠŠå•è¯hello!ã€HELLO&hellip;å’ŒHelloéƒ½ä½œä¸ºå•è¯helloçš„å®žä¾‹ã€‚å‡½æ•°<code>tm_map()</code>æä¾›äº†ä¸€ç§ç”¨æ¥è½¬æ¢(åŠæ˜ å°„)<code>tmè¯­æ–™åº“</code>çš„æ–¹æ³•,é¦–å…ˆæŠŠæ‰€æœ‰çŸ­ä¿¡çš„å­—æ¯å˜æˆå°å†™å­—æ¯ï¼Œå¹¶åŽ»é™¤æ‰€æœ‰çš„æ•°å­—:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="n">corpus_clean</span> <span class="o">&lt;-</span> <span class="nf">tm_map</span><span class="p">(</span><span class="n">sms_corpus</span><span class="p">,</span> <span class="n">tolower</span><span class="p">)</span>
<span class="n">corpus_clean</span> <span class="o">&lt;-</span> <span class="nf">tm_map</span><span class="p">(</span><span class="n">corpus_clean</span><span class="p">,</span> <span class="n">removeNumbers</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>åœ¨åˆ†æžæ–‡æœ¬æ•°æ®æ—¶ï¼Œä¸€ä¸ªå¸¸è§çš„åšæ³•å°±æ˜¯åŽ»é™¤å¡«å……è¯ï¼Œæ¯”å¦‚toã€andã€butå’Œorï¼Œè¿™äº›è¯ç§°ä¸º<code>åœç”¨è¯ï¼ˆstop wordï¼‰</code>ã€‚tmæ·»åŠ åŒ…ä¸­æä¾›çš„å‡½æ•°<code>stopwords()</code>å‡½æ•°åŒ…å«äº†ä¸€ç»„å¤§é‡çš„åœç”¨è¯ã€‚å¦‚æžœæƒ³çŸ¥é“å®ƒåŒ…å«çš„æ‰€æœ‰åœç”¨è¯ï¼Œåœ¨å‘½ä»¤è¡Œè¾“å…¥<code>stopwords()</code>å³å¯ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="c1"># å‰”é™¤åœç”¨è¯</span>
<span class="n">corpus_clean</span> <span class="o">&lt;-</span> <span class="nf">tm_map</span><span class="p">(</span><span class="n">corpus_clean</span><span class="p">,</span> <span class="n">removeWords</span><span class="p">,</span> <span class="nf">stopwords</span><span class="p">())</span>
<span class="c1"># åŽ»é™¤æ ‡ç‚¹ç¬¦å·</span>
<span class="n">corpus_clean</span> <span class="o">&lt;-</span> <span class="nf">tm_map</span><span class="p">(</span><span class="n">corpus_clean</span><span class="p">,</span> <span class="n">removePunctuation</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>å·²ç»åŽ»é™¤äº†æ•°å­—ã€åœç”¨è¯å’Œæ ‡ç‚¹ç¬¦å·çš„åœ°æ–¹å°±å˜æˆäº†ç©ºæ ¼ã€‚æœ€åŽä¸€æ­¥å°±æ˜¯åŽ»é™¤é¢å¤–çš„ç©ºæ ¼ï¼Œåªåœ¨è¯ä¸Žè¯ä¹‹é—´ç•™ä¸‹ä¸€ä¸ªç©ºæ ¼ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="n">corpus_clean</span> <span class="o">&lt;-</span> <span class="nf">tm_map</span><span class="p">(</span><span class="n">corpus_clean</span><span class="p">,</span> <span class="n">stripWhitespace</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>è¯­æ–™åº“ä¸­å‰3æ¡çŸ­ä¿¡åœ¨æ¸…æ´—å‰åŽçš„å¯¹æ¯”ã€‚çŸ­ä¿¡æ¶ˆæ¯å·²ç»è¢«é™åˆ¶å¾—åªå‰©ä¸‹æœ€æœ‰æ„ä¹‰çš„è¯ï¼Œæ ‡ç‚¹ç¬¦å·å’Œå¤§å°å†™éƒ½å·²ç»è¢«æ¸…ç†ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="nf">inspect</span><span class="p">(</span><span class="n">sms_corpus[1</span><span class="o">:</span><span class="m">3</span><span class="n">]</span><span class="p">)</span>
<span class="nf">inspect</span><span class="p">(</span><span class="n">corpus_clean[1</span><span class="o">:</span><span class="m">3</span><span class="n">]</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-sos" data-lang="sos">  &lt;&lt;SimpleCorpus&gt;&gt;
  Metadata:  corpus specific: 1, document level (indexed): 0
  Content:  documents: 3
  
  [1] Hope you are having a good week. Just checking in
  [2] K..give back my thanks.                          
  [3] Am also doing in cbe only. But have to pay.      
  &lt;&lt;SimpleCorpus&gt;&gt;
  Metadata:  corpus specific: 1, document level (indexed): 0
  Content:  documents: 3
  
  [1] hope good week just checking  kgive back thanks            
  [3]  also cbe pay
</code></pre><p>æœ€åŽé€šè¿‡ä¸€ä¸ªæ‰€è°“çš„<strong>æ ‡è®°åŒ–</strong>è¿‡ç¨‹å°†æ¶ˆæ¯åˆ†è§£æˆç”±å•ä¸ªå•è¯ç»„æˆçš„ç»„ã€‚ä¸€ä¸ª<code>è®°å·(token)</code>å°±æ˜¯ä¸€ä¸ªæ–‡æœ¬å­—ç¬¦ä¸²çš„å•ä¸ªå…ƒç´ ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæœ¬ä¾‹ä¸­çš„è®°å·å°±æ˜¯å•è¯ã€‚å‡½æ•°<code>DocumentTermMatrix()</code>å°†ä¸€ä¸ªè¯­æ–™åº“ä½œä¸ºè¾“å…¥ï¼Œå¹¶åˆ›å»ºä¸€ä¸ª<strong>ç¨€ç–çŸ©é˜µ</strong>çš„æ•°æ®ç»“æž„ï¼Œå…¶ä¸­çŸ©é˜µçš„è¡Œè¡¨ç¤ºæ–‡æ¡£(å³çŸ­ä¿¡)ï¼ŒçŸ©é˜µçš„ä¾‹è¡¨ç¤ºå•è¯ã€‚çŸ©é˜µä¸­çš„æ¯ä¸€ä¸ªå•å…ƒå­˜å‚¨ä¸€ä¸ªæ•°å­—ï¼Œå®ƒä»£è¡¨ç”±åˆ—æ ‡è¯†çš„å•è¯å‡ºçŽ°åœ¨ç”±è¡Œæ ‡è¯†çš„æ–‡æ¡£ä¸­çš„æ¬¡æ•°ã€‚è¿™ä¸ªæ•°æ®ç»“æž„è¢«ç§°ä¸º<strong>ç¨€ç–çŸ©é˜µ</strong>æ˜¯å› ä¸ºåœ¨è¯¥çŸ©é˜µä¸­ï¼Œç»å¤§å¤šæ•°å…ƒç´ æ˜¯ä»¥0æ¥å¡«å……çš„ã€‚å°½ç®¡æ¯ä¸ªæ¶ˆæ¯åŒ…å«äº†ä¸€äº›å•è¯ï¼Œä½†æ˜¯ä»»æ„å…·ä½“çš„å•è¯å‡ºçŽ°åœ¨ç»™å®šçš„ä¸€æ¡æ¶ˆæ¯ä¸­æ¦‚çŽ‡éƒ½æ˜¯å¾ˆå°çš„ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="c1"># å°†è¯­æ–™åº“æ ‡è®°åŒ–ï¼Œè¿”å›žç¨€ç–çŸ©é˜µ</span>
<span class="n">sms_dtm</span> <span class="o">&lt;-</span> <span class="nf">DocumentTermMatrix</span><span class="p">(</span><span class="n">corpus_clean</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>å°†æ•°æ®ï¼ˆçŸ­ä¿¡çš„æŽ’åºå·²éšæœºï¼‰åˆ†æˆä¸¤éƒ¨åˆ†ï¼š75%çš„è®­ç»ƒæ•°æ®å’Œ25%çš„æµ‹è¯•æ•°æ®ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="n">sms_raw_train</span> <span class="o">&lt;-</span> <span class="n">sms_raw[1</span><span class="o">:</span><span class="m">4169</span><span class="p">,</span> <span class="n">]</span>
<span class="n">sms_raw_test</span> <span class="o">&lt;-</span> <span class="n">sms_raw[4170</span><span class="o">:</span><span class="m">5559</span><span class="p">,</span> <span class="n">]</span>
<span class="c1">#è¾“å‡ºæ–‡æ¡£-å•è¯çŸ©é˜µ</span>
<span class="n">sms_dtm_train</span> <span class="o">&lt;-</span> <span class="n">sms_dtm[1</span><span class="o">:</span><span class="m">4169</span><span class="p">,</span> <span class="n">]</span>
<span class="n">sms_dtm_test</span> <span class="o">&lt;-</span> <span class="n">sms_dtm[4170</span><span class="o">:</span><span class="m">5559</span><span class="p">,</span> <span class="n">]</span>
<span class="c1">#å¾—åˆ°è¯­æ–™åº“</span>
<span class="n">sms_corpus_train</span> <span class="o">&lt;-</span> <span class="n">corpus_clean[1</span><span class="o">:</span><span class="m">4169</span><span class="n">]</span>
<span class="n">sms_corpus_test</span> <span class="o">&lt;-</span> <span class="n">corpus_clean[4170</span><span class="o">:</span><span class="m">5559</span><span class="n">]</span>
</code></pre></td></tr></table>
</div>
</div><p>ä¸ºäº†ç¡®è®¤ä¸Šè¿°å­é›†æ˜¯ä¸€ç»„å®Œæ•´çš„çŸ­ä¿¡æ•°æ®çš„ä»£è¡¨ï¼Œå¯ä»¥é€šè¿‡æ¯”è¾ƒåžƒåœ¾çŸ­ä¿¡åœ¨è®­ç»ƒæ•°æ®å’Œæµ‹è¯•æ•°æ®ä¸­æ‰€å çš„æ¯”ä¾‹ã€‚å¯ä»¥çœ‹å‡ºæ— è®ºæ˜¯è®­ç»ƒæ•°æ®é›†è¿˜æ˜¯æµ‹è¯•æ•°æ®é›†ï¼Œä»–ä»¬éƒ½åŒ…å«çº¦13%çš„åžƒåœ¾çŸ­ä¿¡ï¼Œè¿™è¡¨æ˜Žåžƒåœ¾çŸ­æ¯è¢«å¹³å‡åˆ†é…åœ¨è¿™ä¸¤ä¸ªæ•°æ®é›†ä¸­ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="nf">prop.table</span><span class="p">(</span><span class="nf">table</span><span class="p">(</span><span class="n">sms_raw_train</span><span class="o">$</span><span class="n">type</span><span class="p">))</span>
<span class="nf">prop.table</span><span class="p">(</span><span class="nf">table</span><span class="p">(</span><span class="n">sms_raw_test</span><span class="o">$</span><span class="n">type</span><span class="p">))</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-sos" data-lang="sos">        ham      spam 
  0.8647158 0.1352842 

        ham      spam 
  0.8683453 0.1316547
</code></pre><h5 id="å¯è§†åŒ–æ–‡æœ¬æ•°æ®è¯äº‘">å¯è§†åŒ–æ–‡æœ¬æ•°æ®â€”â€”è¯äº‘</h5>
<p><strong>è¯äº‘</strong>æ˜¯ä¸€ç§å¯è§†åŒ–åœ°æç»˜å•è¯å‡ºçŽ°åœ¨æ–‡æœ¬æ•°æ®ä¸­é¢‘çŽ‡çš„æ–¹å¼ã€‚è¯äº‘æ˜¯ç”±éšæœºåˆ†å¸ƒåœ¨è¯äº‘å›¾ä¸­çš„å•è¯æž„æˆçš„ï¼Œç»å¸¸å‡ºçŽ°åœ¨æ–‡æœ¬ä¸­çš„å•è¯ä¼šä»¥æ¯”è¾ƒå¤§çš„å­—ä½“å‘ˆçŽ°ï¼Œè€Œä¸å¤ªå¸¸è§çš„å•è¯å°†ä¼šä»¥è¾ƒå°çš„å­—ä½“å‘ˆçŽ°ã€‚wordcloudæ·»åŠ åŒ…æä¾›äº†ä¸€ä¸ªç®€å•çš„Rå‡½æ•°æ¥åˆ›å»ºè¿™ç§ç±»åž‹çš„å›¾å½¢ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="nf">options</span><span class="p">(</span><span class="n">repr.plot.width</span> <span class="o">=</span> <span class="m">7</span><span class="p">,</span> <span class="n">repr.plot.height</span> <span class="o">=</span> <span class="m">7</span><span class="p">)</span>
<span class="nf">library</span><span class="p">(</span><span class="n">wordcloud</span><span class="p">)</span>
<span class="nf">wordcloud</span><span class="p">(</span><span class="n">sms_corpus_train</span><span class="p">,</span> <span class="n">min.freq</span> <span class="o">=</span> <span class="m">40</span><span class="p">,</span> <span class="n">random.order</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p><img src="./fig20210924/output_30_1.png" alt="png" /></p>
<p>ä¸Šè¿°å‘½ä»¤ä»Žsms_corpus_trainè¯­æ–™åº“åˆ›å»ºä¸€ä¸ªè¯äº‘ã€‚<code>random.order=FALSE</code>ä½¿è¯äº‘ä»¥éžéšæœºçš„é¡ºåºæŽ’åˆ—ï¼Œè€Œä¸”å‡ºçŽ°é¢‘çŽ‡è¶Šé«˜çš„å•è¯è¶Šé è¿‘ä¸­å¿ƒã€‚å¦‚æžœæ²¡æœ‰è®¾ç½®<code>random.order</code>(é»˜è®¤è®¾ç½®)ï¼Œè¯¥è¯äº‘å°†ä¼šä»¥é»˜è®¤çš„éšæœºæ–¹å¼æŽ’åˆ—ã€‚å‚æ•°<code>min.freq</code>ç”¨æ¥æŒ‡å®šæ˜¾ç¤ºåœ¨è¯äº‘ä¸­çš„å•è¯å¿…é¡»æ»¡è¶³åœ¨è¯­æ–™åº“ä¸­å‡ºçŽ°çš„æœ€å°æ¬¡æ•°ã€‚é€šç”¨çš„è§„åˆ™æ˜¯ï¼Œå¼€å§‹æ—¶è®¾ç½®å‚æ•°min.freqçš„å€¼ä¸ºè¯­æ–™åº“ä¸­æ–‡æ¡£æ€»æ•°ç›®çš„10%ã€‚è¿™é‡Œï¼Œæ–‡æ¡£æ€»æ•°ç›®çš„10%å¤§çº¦ä¸º40ï¼Œå› æ­¤ï¼Œè¯äº‘ä¸­çš„å•è¯è‡³å°‘åœ¨40æ¡çŸ­ä¿¡ä¸­å‡ºçŽ°è¿‡ã€‚åžƒåœ¾çŸ­ä¿¡å’Œéžåžƒåœ¾çŸ­ä¿¡è¯äº‘çš„æ¯”è¾ƒï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="nf">options</span><span class="p">(</span><span class="n">repr.plot.width</span> <span class="o">=</span> <span class="m">10</span><span class="p">,</span> <span class="n">repr.plot.height</span> <span class="o">=</span> <span class="m">6</span><span class="p">)</span>
<span class="nf">par</span><span class="p">(</span><span class="n">mfrow</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">))</span>
<span class="n">spam</span> <span class="o">&lt;-</span> <span class="nf">subset</span><span class="p">(</span><span class="n">sms_raw_train</span><span class="p">,</span> <span class="n">type</span> <span class="o">==</span> <span class="s">&#34;spam&#34;</span><span class="p">)</span> 
<span class="n">ham</span> <span class="o">&lt;-</span> <span class="nf">subset</span><span class="p">(</span><span class="n">sms_raw_train</span><span class="p">,</span> <span class="n">type</span> <span class="o">==</span> <span class="s">&#34;ham&#34;</span><span class="p">)</span> 
<span class="nf">wordcloud</span><span class="p">(</span><span class="n">spam</span><span class="o">$</span><span class="n">text</span><span class="p">,</span> <span class="n">max.words</span> <span class="o">=</span> <span class="m">40</span><span class="p">,</span> <span class="n">scale</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">3</span><span class="p">,</span> <span class="m">0.6</span><span class="p">))</span>
<span class="nf">wordcloud</span><span class="p">(</span><span class="n">ham</span><span class="o">$</span><span class="n">text</span><span class="p">,</span> <span class="n">max.words</span> <span class="o">=</span> <span class="m">40</span><span class="p">,</span> <span class="n">scale</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">2</span><span class="p">,</span> <span class="m">0.6</span><span class="p">))</span>
</code></pre></td></tr></table>
</div>
</div><p><img src="./fig20210924/output_32_1.png" alt="png" /></p>
<p>å‚æ•°<code>max.words</code>ï¼Œå®ƒç”¨æ¥æ˜¾ç¤ºä¸¤ä¸ªé›†åˆçš„ä»»ä½•ä¸€ä¸ªé›†åˆä¸­æœ€å¸¸è§çš„40ä¸ªå•è¯ï¼Œè€Œä¸”å‚æ•°scaleå…è®¸è°ƒæ•´è¯äº‘ä¸­å•è¯çš„æœ€å¤§å­—ä½“å’Œæœ€å°å­—ä½“ã€‚ç”±äºŽæ˜¯éšæœºåŒ–çš„å¤„ç†ï¼Œæ‰€ä»¥æ¯ä¸€ä¸ªè¯äº‘çœ‹ä¸ŠåŽ»å¯èƒ½ä¼šç•¥æœ‰ä¸åŒã€‚ä½ å¯ä»¥é€šè¿‡å¤šæ¬¡è¿è¡Œ<code>wordcloud()</code>å‡½æ•°æ¥é€‰æ‹©æœ€ä»¤äººæ»¡æ„çš„è¯äº‘,ä»Žè€Œè¾¾åˆ°æ¼”ç¤ºçš„ç›®çš„ã€‚æ˜¾è€Œæ˜“è§ï¼Œå·¦è¾¹çš„ä¸ºåžƒåœ¾è¯äº‘ã€‚</p>
<h5 id="ä¸ºé¢‘ç¹å‡ºçŽ°çš„å•è¯åˆ›å»ºæŒ‡ç¤ºç‰¹å¾">ä¸ºé¢‘ç¹å‡ºçŽ°çš„å•è¯åˆ›å»ºæŒ‡ç¤ºç‰¹å¾</h5>
<p>æœ€åŽä¸€æ­¥å°±æ˜¯æŠŠç¨€ç–çŸ©é˜µè½¬æ¢æˆå¯ç”¨äºŽè®­ç»ƒæœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨çš„æ•°æ®ç»“æž„ï¼Œç›®å‰ï¼Œè¯¥ç¨€ç–çŸ©é˜µåŒ…å«æ•°é‡è¶…è¿‡7000ä¸ªçš„ç‰¹å¾ï¼Œå³è‡³å°‘å‡ºçŽ°åœ¨ä¸€æ¡çŸ­ä¿¡ä¸­çš„æ¯ä¸€ä¸ªå•è¯çš„ç‰¹å¾ã€‚æ‰€æœ‰è¿™äº›ç‰¹å¾ä¸å¯èƒ½éƒ½å¯¹åˆ†ç±»å‘æŒ¥ä½œç”¨ã€‚ä¸ºäº†å‡å°‘ç‰¹å¾çš„æ•°é‡ï¼Œæˆ‘ä»¬å°†å‰”é™¤è®­ç»ƒæ•°æ®ä¸­å‡ºçŽ°åœ¨å°‘äºŽ5æ¡çŸ­ä¿¡ä¸­æˆ–è€…å°‘äºŽè®°å½•æ€»æ•°çš„0.1%çš„æ‰€æœ‰å•è¯ã€‚æŸ¥æ‰¾é¢‘ç¹å‡ºçŽ°çš„å•è¯éœ€è¦ä½¿ç”¨<code>tm</code>æ·»åŠ åŒ…ä¸­çš„<code>findFreqTerms()</code>å‡½æ•°ï¼Œè¯¥å‡½æ•°è¾“å…¥ä¸€ä¸ªæ–‡æ¡£-å•è¯çŸ©é˜µï¼Œå¹¶è¿”å›žä¸€ä¸ªå­—ç¬¦å‘é‡ï¼Œè¯¥å‘é‡åŒ…å«å‡ºçŽ°å­—æ•°ä¸å°‘äºŽæŒ‡å®šæ¬¡æ•°çš„å•è¯ã€‚</p>

<div id="566802b74f9d700b" class="tab">
  <div class="tab__links">
    
      <button class="tab__link" aria-label="Tab link">R</button>
    
      <button class="tab__link" aria-label="Tab link">Output</button>
    
  </div>
  
  
<div id="7a9f072c2fe13e02" class="tab__content">
  <div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="nf">findFreqTerms</span><span class="p">(</span><span class="n">sms_dtm_train</span><span class="p">,</span> <span class="m">5</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div>
</div>
  
<div id="24bd3434f30209c3" class="tab__content">
  <style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>'checking'</li><li>'good'</li><li>'hope'</li><li>'just'</li><li>'week'</li><li>'back'</li><li>'thanks'</li><li>'also'</li><li>'pay'</li><li>'cash'</li><li>'collection'</li><li>'complimentary'</li><li>'holiday'</li><li>'landline'</li><li>'lose'</li><li>'needs'</li><li>'now'</li><li>'urgent'</li><li>'æ‹¢'</li><li>'award'</li><li>'box'</li><li>'call'</li><li>'collect'</li><li>'dear'</li><li>'final'</li><li>'notice'</li><li>'ppm'</li><li>'sae'</li><li>'tcs'</li><li>'tenerife'</li><li>'lar'</li><li>'later'</li><li>'pick'</li><li>'much'</li><li>'ask'</li><li>'father'</li><li>'please'</li><li>'free'</li><li>'game'</li><li>'mobile'</li><li>'official'</li><li>'play'</li><li>'right'</li><li>'send'</li><li>'text'</li><li>'room'</li><li>'swing'</li><li>'usf'</li><li>'whenever'</li><li>'big'</li><li>'hour'</li><li>'longer'</li><li>'man'</li><li>'sure'</li><li>'thing'</li><li>'though'</li><li>'anything'</li><li>'lor'</li><li>'ending'</li><li>'far'</li><li>'march'</li><li>'never'</li><li>'problem'</li><li>'ready'</li><li>'will'</li><li>'work'</li><li>'hmm'</li><li>'night'</li><li>'well'</li><li>'get'</li><li>'noon'</li><li>'see'</li><li>'chikku'</li><li>'cool'</li><li>'cos'</li><li>'darren'</li><li>'dat'</li><li>'den'</li><li>'dinner'</li><li>'dun'</li><li>'feel'</li><li>'leave'</li><li>'lunch'</li><li>'meet'</li><li>'meeting'</li><li>'saying'</li><li>'angry'</li><li>'tell'</li><li>'told'</li><li>'come'</li><li>'din'</li><li>'wan'</li><li>'can'</li><li>'draw'</li><li>'every'</li><li>'gift'</li><li>'music'</li><li>'starting'</li><li>'tscs'</li><li>'txt'</li><li>'vouchers'</li><li>'win'</li><li>'word'</li><li>'coming'</li><li>'goodnight'</li><li>'gym'</li><li>'birthday'</li><li>'today'</li><li>'wish'</li><li>'gud'</li><li>'reading'</li><li>'contact'</li><li>'cost'</li><li>'joke'</li><li>'less'</li><li>'one'</li><li>'ones'</li><li>'school'</li><li>'sent'</li><li>'think'</li><li>'thinking'</li><li>'love'</li><li>'read'</li><li>'bank'</li><li>'money'</li><li>'say'</li><li>'need'</li><li>'stop'</li><li>'sup'</li><li>'weather'</li><li>'thanx'</li><li>'plan'</li><li>'todays'</li><li>'cancer'</li><li>'care'</li><li>'cup'</li><li>'doctor'</li><li>'fat'</li><li>'sorry'</li><li>'morning'</li><li>'sleep'</li><li>'train'</li><li>'wine'</li><li>'auction'</li><li>'camera'</li><li>'digital'</li><li>'nokia'</li><li>'part'</li><li>'plus'</li><li>'take'</li><li>'won'</li><li>'cant'</li><li>'fri'</li><li>'leh'</li><li>'make'</li><li>'said'</li><li>'wait'</li><li>'carlos'</li><li>'hear'</li><li>'might'</li><li>'phones'</li><li>'texts'</li><li>'got'</li><li>'job'</li><li>'whats'</li><li>'chat'</li><li>'cheap'</li><li>'cheaper'</li><li>'gay'</li><li>'hot'</li><li>'national'</li><li>'pmin'</li><li>'rate'</li><li>'sale'</li><li>'anyway'</li><li>'help'</li><li>'know'</li><li>'let'</li><li>'use'</li><li>'yeah'</li><li>'centre'</li><li>'like'</li><li>'liked'</li><li>'road'</li><li>'something'</li><li>'min'</li><li>'awarded'</li><li>'claim'</li><li>'guaranteed'</li><li>'hrs'</li><li>'land'</li><li>'line'</li><li>'number'</li><li>'prize'</li><li>'valid'</li><li>'mah'</li><li>'tomorrow'</li><li>'believe'</li><li>'wat'</li><li>'hey'</li><li>â‹¯</li><li>'rock'</li><li>'walk'</li><li>'tells'</li><li>'london'</li><li>'txting'</li><li>'horny'</li><li>'live'</li><li>'ltd'</li><li>'normptone'</li><li>'wwq'</li><li>'wwwgetzedcouk'</li><li>'frnd'</li><li>'tour'</li><li>'choose'</li><li>'rather'</li><li>'timing'</li><li>'write'</li><li>'news'</li><li>'however'</li><li>'luck'</li><li>'feb'</li><li>'sounds'</li><li>'waste'</li><li>'open'</li><li>'goodmorning'</li><li>'uncle'</li><li>'disturb'</li><li>'pin'</li><li>'lookin'</li><li>'married'</li><li>'babes'</li><li>'months'</li><li>'press'</li><li>'john'</li><li>'added'</li><li>'fullonsmscom'</li><li>'visit'</li><li>'welcome'</li><li>'round'</li><li>'putting'</li><li>'announcement'</li><li>'spend'</li><li>'twice'</li><li>'tariffs'</li><li>'anymore'</li><li>'exciting'</li><li>'past'</li><li>'keeping'</li><li>'starts'</li><li>'almost'</li><li>'partner'</li><li>'single'</li><li>'cashbalance'</li><li>'hgsuitelands'</li><li>'maximize'</li><li>'rowwjhl'</li><li>'role'</li><li>'exams'</li><li>'jay'</li><li>'ten'</li><li>'simple'</li><li>'operator'</li><li>'mate'</li><li>'doin'</li><li>'thurs'</li><li>'normal'</li><li>'works'</li><li>'sis'</li><li>'bus'</li><li>'tickets'</li><li>'battery'</li><li>'unless'</li><li>'depends'</li><li>'anytime'</li><li>'studying'</li><li>'marry'</li><li>'relation'</li><li>'ave'</li><li>'stupid'</li><li>'mode'</li><li>'smth'</li><li>'ahead'</li><li>'aft'</li><li>'joking'</li><li>'bout'</li><li>'nah'</li><li>'tear'</li><li>'wks'</li><li>'paying'</li><li>'possible'</li><li>'fone'</li><li>'mrw'</li><li>'bid'</li><li>'loyalty'</li><li>'hungry'</li><li>'training'</li><li>'funny'</li><li>'earth'</li><li>'yar'</li><li>'door'</li><li>'receipt'</li><li>'registered'</li><li>'silent'</li><li>'understand'</li><li>'vodafone'</li><li>'sick'</li><li>'sucks'</li><li>'planned'</li><li>'pete'</li><li>'serious'</li><li>'sound'</li><li>'decide'</li><li>'happens'</li><li>'rates'</li><li>'entitled'</li><li>'save'</li><li>'access'</li><li>'lost'</li><li>'buying'</li><li>'teach'</li><li>'excellent'</li><li>'hate'</li><li>'lazy'</li><li>'direct'</li><li>'via'</li><li>'coffee'</li><li>'yep'</li><li>'sch'</li><li>'iéˆ§îƒ¦æ¸•'</li><li>'semester'</li><li>'otherwise'</li><li>'yoga'</li><li>'lovable'</li><li>'juz'</li><li>'dnt'</li><li>'seriously'</li><li>'copy'</li><li>'aiyo'</li><li>'film'</li><li>'hurts'</li><li>'thru'</li><li>'user'</li><li>'arcade'</li><li>'crave'</li><li>'eating'</li><li>'dropped'</li><li>'log'</li><li>'argument'</li><li>'kick'</li><li>'wins'</li><li>'hop'</li><li>'die'</li><li>'monday'</li><li>'tot'</li><li>'nyt'</li><li>'link'</li><li>'future'</li><li>'sometimes'</li><li>'match'</li><li>'girlfrnd'</li><li>'lift'</li><li>'meaning'</li><li>'police'</li><li>'project'</li><li>'different'</li><li>'member'</li><li>'callertune'</li><li>'eyes'</li><li>'picking'</li><li>'fantastic'</li><li>'space'</li><li>'rent'</li><li>'httpwwwurawinnercom'</li><li>'onto'</li><li>'ugh'</li><li>'forever'</li><li>'æ‹¢wk'</li><li>'miracle'</li><li>'gave'</li><li>'rply'</li><li>'king'</li><li>'pleasure'</li><li>'uve'</li><li>'records'</li><li>'study'</li><li>'frens'</li><li>'photo'</li><li>'bluetooth'</li><li>'stand'</li><li>'persons'</li><li>'handset'</li><li>'cell'</li><li>'catch'</li><li>'figure'</li><li>'ice'</li><li>'tea'</li><li>'tick'</li><li>'accept'</li><li>'naughty'</li><li>'worries'</li></ol>

</div>     

</div>

<script>
  'use strict';

  var containerId = JSON.parse("\"566802b74f9d700b\"");
  var containerElem = document.getElementById(containerId);
  var tabLinks = null;
  var tabContents = null;
  var ids = [];

  if (containerElem) {
    tabLinks = containerElem.querySelectorAll('.tab__link');
    tabContents = containerElem.querySelectorAll('.tab__content');
  }

  for (var i = 0; i < tabContents.length; i++) {
    ids = ids.concat(tabContents[i].getAttribute('id'));
    tabContents[i].style.display = 'none';

    if (0 === parseInt(i, 10) && !tabContents[i].classList.contains('active')) {
      tabContents[i].classList.add('active');
    }
  }

  for (var i = 0; i < tabLinks.length; i++) {
    tabLinks[i].setAttribute('id', ids[i]);

    if (0 === parseInt(i, 10) && !tabLinks[i].classList.contains('active')) {
      tabLinks[i].classList.add('active');
    } else {
      tabLinks[i].classList.remove('active');
    }
  }

  if (tabContents.length > 0) {
    tabContents[0].style.display = 'block';
  }
</script>
<p>é™åˆ¶è®­ç»ƒçŸ©é˜µå’Œæµ‹è¯•çŸ©é˜µåªåŒ…å«å‡ºçŽ°é¢‘çŽ‡é«˜äºŽ5çš„å•è¯ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="n">sms_train</span> <span class="o">&lt;-</span> <span class="nf">DocumentTermMatrix</span><span class="p">(</span><span class="n">sms_corpus_train</span><span class="p">,</span>
                   <span class="nf">list</span><span class="p">(</span><span class="n">dictionary</span> <span class="o">=</span> <span class="nf">findFreqTerms</span><span class="p">(</span><span class="n">sms_dtm_train</span><span class="p">,</span> <span class="m">5</span><span class="p">)))</span>
<span class="n">sms_test</span> <span class="o">&lt;-</span> <span class="nf">DocumentTermMatrix</span><span class="p">(</span><span class="n">sms_corpus_test</span><span class="p">,</span>
                  <span class="nf">list</span><span class="p">(</span><span class="n">dictionary</span> <span class="o">=</span> <span class="nf">findFreqTerms</span><span class="p">(</span><span class="n">sms_dtm_train</span><span class="p">,</span> <span class="m">5</span><span class="p">)))</span>
<span class="n">sms_train</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-sos" data-lang="sos">&lt;&lt;DocumentTermMatrix (documents: 4169, terms: 1216)&gt;&gt;
Non-/sparse entries: 24011/5045493
Sparsity           : 100%
Maximal term length: 19
Weighting          : term frequency (tf)
</code></pre><p>çŽ°åœ¨ï¼Œè®­ç»ƒæ•°æ®å’Œæµ‹è¯•æ•°æ®åŒ…å«äº†å¤§çº¦1200ä¸ªç‰¹å¾ï¼Œåªå¯¹åº”äºŽè‡³å°‘å‡ºçŽ°åœ¨5æ¡çŸ­ä¿¡ä¸­çš„å•è¯ã€‚æœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨é€šå¸¸æ˜¯è®­ç»ƒå…·æœ‰æ˜Žç¡®ç‰¹å¾çš„æ•°æ®ï¼Œè¿™å°±å¸¦æ¥äº†ä¸€ä¸ªé—®é¢˜ï¼Œå› ä¸ºç¨€ç–çŸ©é˜µä¸­çš„å…ƒç´ è¡¨ç¤ºä¸€ä¸ªå•è¯å‡ºçŽ°åœ¨ä¸€æ¡æ¶ˆæ¯ä¸­çš„æ¬¡æ•°ã€‚äºŽæ˜¯ï¼Œæˆ‘ä»¬éœ€è¦å°†å…¶æ”¹å˜æˆå› å­å‘é‡ï¼Œæ ¹æ®å•è¯æ˜¯å¦å‡ºçŽ°ï¼Œç®€å•åœ°è¡¨ç¤ºæˆyesæˆ–noã€‚ä¸‹é¢çš„ä»£ç å®šä¹‰äº†ä¸€ä¸ªå‡½æ•°<code>convert_counts()</code>ï¼Œå®ƒå°†è®¡æ•°è½¬æ¢æˆå› å­ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="n">convert_counts</span> <span class="o">&lt;-</span> <span class="nf">function</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">x</span> <span class="o">&lt;-</span> <span class="nf">ifelse</span><span class="p">(</span><span class="n">x</span> <span class="o">&gt;</span> <span class="m">0</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">0</span><span class="p">)</span>
  <span class="n">x</span> <span class="o">&lt;-</span> <span class="nf">factor</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">levels</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">1</span><span class="p">),</span> <span class="n">labels</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#34;No&#34;</span><span class="p">,</span> <span class="s">&#34;Yes&#34;</span><span class="p">))</span>
  <span class="nf">return</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>å°†convert_countsåº”ç”¨äºŽç¨€ç–çŸ©é˜µçš„æ¯ä¸€åˆ—ï¼ˆå‚æ•°<code>MARGIN</code>æ¥æŒ‡å®šä½œç”¨çš„å¯¹è±¡æ˜¯çŸ©é˜µçš„è¡Œæˆ–åˆ—ï¼ŒMARGIN=1è¡¨ç¤ºè¡Œï¼‰ï¼š</p>

<div id="c2929c9ecf037e42" class="tab">
  <div class="tab__links">
    
      <button class="tab__link" aria-label="Tab link">R</button>
    
      <button class="tab__link" aria-label="Tab link">Output</button>
    
  </div>
  
  
<div id="78342fc3dbc3ba3b" class="tab__content">
  <div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="n">sms_train</span> <span class="o">&lt;-</span> <span class="nf">apply</span><span class="p">(</span><span class="n">sms_train</span><span class="p">,</span> <span class="n">MARGIN</span> <span class="o">=</span> <span class="m">2</span><span class="p">,</span> <span class="n">convert_counts</span><span class="p">)</span>
<span class="n">sms_test</span> <span class="o">&lt;-</span> <span class="nf">apply</span><span class="p">(</span><span class="n">sms_test</span><span class="p">,</span> <span class="n">MARGIN</span> <span class="o">=</span> <span class="m">2</span><span class="p">,</span> <span class="n">convert_counts</span><span class="p">)</span>
<span class="nf">head</span><span class="p">(</span><span class="n">sms_train</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div>
</div>
  
<div id="ef146d25d3c92eb0" class="tab__content">
  <table class="dataframe">
<caption>A matrix: 6 Ã— 1216 of type chr</caption>
<thead>
	<tr><th></th><th scope=col>checking</th><th scope=col>good</th><th scope=col>hope</th><th scope=col>just</th><th scope=col>week</th><th scope=col>back</th><th scope=col>thanks</th><th scope=col>also</th><th scope=col>pay</th><th scope=col>cash</th><th scope=col>â‹¯</th><th scope=col>handset</th><th scope=col>cell</th><th scope=col>catch</th><th scope=col>figure</th><th scope=col>ice</th><th scope=col>tea</th><th scope=col>tick</th><th scope=col>accept</th><th scope=col>naughty</th><th scope=col>worries</th></tr>
</thead>
<tbody>
	<tr><th scope=row>1</th><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>No </td><td>No </td><td>No </td><td>No </td><td>No </td><td>â‹¯</td><td>No</td><td>No</td><td>No</td><td>No</td><td>No</td><td>No</td><td>No</td><td>No</td><td>No</td><td>No</td></tr>
	<tr><th scope=row>2</th><td>No </td><td>No </td><td>No </td><td>No </td><td>No </td><td>Yes</td><td>Yes</td><td>No </td><td>No </td><td>No </td><td>â‹¯</td><td>No</td><td>No</td><td>No</td><td>No</td><td>No</td><td>No</td><td>No</td><td>No</td><td>No</td><td>No</td></tr>
	<tr><th scope=row>3</th><td>No </td><td>No </td><td>No </td><td>No </td><td>No </td><td>No </td><td>No </td><td>Yes</td><td>Yes</td><td>No </td><td>â‹¯</td><td>No</td><td>No</td><td>No</td><td>No</td><td>No</td><td>No</td><td>No</td><td>No</td><td>No</td><td>No</td></tr>
	<tr><th scope=row>4</th><td>No </td><td>No </td><td>No </td><td>No </td><td>No </td><td>No </td><td>No </td><td>No </td><td>No </td><td>Yes</td><td>â‹¯</td><td>No</td><td>No</td><td>No</td><td>No</td><td>No</td><td>No</td><td>No</td><td>No</td><td>No</td><td>No</td></tr>
	<tr><th scope=row>5</th><td>No </td><td>No </td><td>No </td><td>No </td><td>No </td><td>No </td><td>No </td><td>No </td><td>No </td><td>Yes</td><td>â‹¯</td><td>No</td><td>No</td><td>No</td><td>No</td><td>No</td><td>No</td><td>No</td><td>No</td><td>No</td><td>No</td></tr>
	<tr><th scope=row>6</th><td>No </td><td>No </td><td>No </td><td>No </td><td>No </td><td>No </td><td>No </td><td>No </td><td>No </td><td>No </td><td>â‹¯</td><td>No</td><td>No</td><td>No</td><td>No</td><td>No</td><td>No</td><td>No</td><td>No</td><td>No</td><td>No</td></tr>
</tbody>
</table>

</div>     

</div>

<script>
  'use strict';

  var containerId = JSON.parse("\"c2929c9ecf037e42\"");
  var containerElem = document.getElementById(containerId);
  var tabLinks = null;
  var tabContents = null;
  var ids = [];

  if (containerElem) {
    tabLinks = containerElem.querySelectorAll('.tab__link');
    tabContents = containerElem.querySelectorAll('.tab__content');
  }

  for (var i = 0; i < tabContents.length; i++) {
    ids = ids.concat(tabContents[i].getAttribute('id'));
    tabContents[i].style.display = 'none';

    if (0 === parseInt(i, 10) && !tabContents[i].classList.contains('active')) {
      tabContents[i].classList.add('active');
    }
  }

  for (var i = 0; i < tabLinks.length; i++) {
    tabLinks[i].setAttribute('id', ids[i]);

    if (0 === parseInt(i, 10) && !tabLinks[i].classList.contains('active')) {
      tabLinks[i].classList.add('active');
    } else {
      tabLinks[i].classList.remove('active');
    }
  }

  if (tabContents.length > 0) {
    tabContents[0].style.display = 'block';
  }
</script>
<h3 id="æ¨¡åž‹è®­ç»ƒ-1">æ¨¡åž‹è®­ç»ƒ</h3>
<p>é‡‡ç”¨<code>em1017</code>åŒ…ä¸­çš„æœ´ç´ è´å¶æ–¯ç®—æ³•å®žçŽ°ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="nf">library</span><span class="p">(</span><span class="n">e1071</span><span class="p">)</span>

<span class="c1"># laplaceå‚æ•°é»˜è®¤æ˜¯0</span>
<span class="n">sms_classifier</span> <span class="o">&lt;-</span> <span class="nf">naiveBayes</span><span class="p">(</span><span class="n">sms_train</span><span class="p">,</span> <span class="n">sms_raw_train</span><span class="o">$</span><span class="n">type</span><span class="p">)</span>  
</code></pre></td></tr></table>
</div>
</div><h3 id="æ€§èƒ½è¯„ä¼°-1">æ€§èƒ½è¯„ä¼°</h3>
<p>ç”¨å‡½æ•°<code>predict()</code>è¿›è¡Œé¢„æµ‹ï¼Œç”¨<code>CrossTable()</code>å‡½æ•°æ¯”è¾ƒé¢„æµ‹å€¼å’ŒçœŸå®žå€¼ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="n">sms_test_pred</span> <span class="o">&lt;-</span> <span class="nf">predict</span><span class="p">(</span><span class="n">sms_classifier</span><span class="p">,</span> <span class="n">sms_test</span><span class="p">)</span>

<span class="nf">library</span><span class="p">(</span><span class="n">gmodels</span><span class="p">)</span>
<span class="nf">CrossTable</span><span class="p">(</span><span class="n">sms_test_pred</span><span class="p">,</span> <span class="n">sms_raw_test</span><span class="o">$</span><span class="n">type</span><span class="p">,</span> <span class="n">prop.chisq</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">,</span>
           <span class="n">prop.t</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">,</span> <span class="n">prop.r</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">,</span> <span class="n">dnn</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#39;predicted&#39;</span><span class="p">,</span> <span class="s">&#39;actual&#39;</span><span class="p">))</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-sos" data-lang="sos">     Cell Contents
  |-------------------------|
  |                       N |
  |           N / Col Total |
  |-------------------------|
  
   
  Total Observations in Table:  1390 
  
   
               | actual 
     predicted |       ham |      spam | Row Total | 
  -------------|-----------|-----------|-----------|
           ham |      1203 |        30 |      1233 | 
               |     0.997 |     0.164 |           | 
  -------------|-----------|-----------|-----------|
          spam |         4 |       153 |       157 | 
               |     0.003 |     0.836 |           | 
  -------------|-----------|-----------|-----------|
  Column Total |      1207 |       183 |      1390 | 
               |     0.868 |     0.132 |           | 
  -------------|-----------|-----------|-----------|
</code></pre><p>å‚æ•°<code>dnn</code>(ç»´åº¦åç§°)é‡æ–°æ ‡è®°è¡Œå’Œåˆ—ã€‚ä»Žè¡¨ä¸­å¯ä»¥çœ‹å‡º1207æ¡éžåžƒåœ¾çŸ­ä¿¡ä¸­æœ‰4æ¡çŸ­ä¿¡è¢«é”™è¯¯åœ°å½’ä¸ºåžƒåœ¾çŸ­ä¿¡ï¼Œæ¯”ä¾‹ä¸º0.3%ï¼Œè€Œ183æ¡åžƒåœ¾çŸ­ä¿¡ä¸­æœ‰30æ¡çŸ­ä¿¡è¢«é”™è¯¯åœ°å½’ä¸ºéžåžƒåœ¾çŸ­ä¿¡ï¼Œæ¯”ä¾‹ä¸º16.4%ã€‚æœ¬æ¡ˆä¾‹çš„ç ”ç©¶è¯´æ˜Žäº†ä¸ºä»€ä¹ˆè¯´æœ´ç´ è´å¶æ–¯ç®—æ³•æ˜¯åº”ç”¨äºŽæ–‡æœ¬åˆ†ç±»çš„ä¸€ç§æ ‡å‡†ç®—æ³•ï¼Œè€Œä¸”æœ´ç´ è´å¶æ–¯æ–¹æ³•å¯ä»¥ç›´æŽ¥æ‹¿æ¥ç”¨ï¼Œæ‰§è¡Œçš„æ•ˆæžœä¹Ÿæ˜¯å‡ºå¥‡çš„å¥½ã€‚å¦ä¸€æ–¹é¢ï¼Œè¢«é”™è¯¯åœ°å½’ä¸ºåžƒåœ¾çŸ­ä¿¡çš„å››æ¡çŸ­ä¿¡å¯èƒ½ä¼šä¸ºè¿‡æ»¤ç®—æ³•çš„éƒ¨ç½²å¸¦æ¥æ˜Žæ˜¾çš„é—®é¢˜ã€‚å¦‚æžœè¿‡æ»¤å™¨å¯¼è‡´æŸäººé”™è¿‡ä¸€æ¡é‡è¦çš„çº¦ä¼šæˆ–è€…ç´§æ€¥æƒ…å†µçš„çŸ­ä¿¡ï¼Œé‚£ä¹ˆä»–ä»¬ä¼šå¾ˆå¿«æ”¾å¼ƒè¿™ç§äº§å“ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ç ”ç©¶è¿™äº›é”™è¯¯åˆ†ç±»çš„çŸ­ä¿¡ï¼Œçœ‹çœ‹æ˜¯å“ªé‡Œå‡ºäº†é—®é¢˜ã€‚</p>
<h3 id="æ€§èƒ½æå‡-1">æ€§èƒ½æå‡</h3>
<p>åœ¨è®­ç»ƒæ¨¡åž‹æ—¶ï¼Œæ²¡æœ‰è®¾ç½®ä¸€ä¸ªå€¼æ¥ç”¨äºŽæ‹‰æ™®æ‹‰æ–¯ä¼°è®¡ã€‚è¿™æ ·å°±å…è®¸åœ¨åˆ†ç±»çš„è¿‡ç¨‹ä¸­å•è¯å¯èƒ½å‡ºçŽ°åœ¨0æ¡åžƒåœ¾çŸ­ä¿¡æˆ–è€…0æ¡éžåžƒåœ¾çŸ­ä¿¡ä¸­ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="n">sms_classifier2</span> <span class="o">&lt;-</span> <span class="nf">naiveBayes</span><span class="p">(</span><span class="n">sms_train</span><span class="p">,</span> <span class="n">sms_raw_train</span><span class="o">$</span><span class="n">type</span><span class="p">,</span> <span class="n">laplace</span> <span class="o">=</span> <span class="m">0.1</span><span class="p">)</span>
<span class="n">sms_test_pred2</span> <span class="o">&lt;-</span> <span class="nf">predict</span><span class="p">(</span><span class="n">sms_classifier2</span><span class="p">,</span> <span class="n">sms_test</span><span class="p">)</span>
<span class="nf">CrossTable</span><span class="p">(</span><span class="n">sms_test_pred2</span><span class="p">,</span> <span class="n">sms_raw_test</span><span class="o">$</span><span class="n">type</span><span class="p">,</span> <span class="n">prop.chisq</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">,</span>
           <span class="n">prop.t</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">,</span> <span class="n">prop.r</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">,</span> <span class="n">dnn</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#39;predicted&#39;</span><span class="p">,</span> <span class="s">&#39;actuall&#39;</span><span class="p">))</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-sos" data-lang="sos">     Cell Contents
  |-------------------------|
  |                       N |
  |           N / Col Total |
  |-------------------------|
  
   
  Total Observations in Table:  1390 
  
   
               | actuall 
     predicted |       ham |      spam | Row Total | 
  -------------|-----------|-----------|-----------|
           ham |      1204 |        24 |      1228 | 
               |     0.998 |     0.131 |           | 
  -------------|-----------|-----------|-----------|
          spam |         3 |       159 |       162 | 
               |     0.002 |     0.869 |           | 
  -------------|-----------|-----------|-----------|
  Column Total |      1207 |       183 |      1390 | 
               |     0.868 |     0.132 |           | 
  -------------|-----------|-----------|-----------|
</code></pre><p>ä¸ä»…å°†é”™è¯¯åœ°å½’ç±»ä¸ºåžƒåœ¾çŸ­ä¿¡çš„éžåžƒåœ¾çŸ­ä¿¡çš„æ•°é‡ç”±4å‡å°‘åˆ°3ï¼Œè€Œä¸”ä¹Ÿå°†é”™è¯¯åœ°å½’ä¸ºéžåžƒåœ¾çŸ­ä¿¡çš„åžƒåœ¾çŸ­ä¿¡çš„æ•°é‡ç”±30è¾ƒå°‘åˆ°äº†24ã€‚è™½ç„¶è¿™çœ‹ä¸ŠåŽ»æ˜¯ä¸€ä¸ªå¾ˆå°çš„æ”¹è¿›ï¼Œä½†æˆ‘ä»¬å¿…é¡»æ„è¯†åˆ°å¦‚æžœæˆ‘ä»¬å¯¹åžƒåœ¾çŸ­ä¿¡çš„è¿‡æ»¤è¿‡äºŽæ¿€è¿›ï¼Œé‚£ä¹ˆé‡è¦ä¿¡æ¯è¢«é—æ¼çš„å¯èƒ½æ€§æ˜¯å¾ˆå¤§çš„ã€‚</p>
<h5 id="æ€»ç»“">æ€»ç»“</h5>
<ul>
<li>æœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨é€šå¸¸ç”¨äºŽæ–‡æœ¬åˆ†ç±»ã€‚</li>
</ul>
<h2 id="c50å†³ç­–æ ‘è¯†åˆ«é«˜é£Žé™©é“¶è¡Œè´·æ¬¾">C5.0å†³ç­–æ ‘è¯†åˆ«é«˜é£Žé™©é“¶è¡Œè´·æ¬¾</h2>
<p>èŠ‚ç‚¹ç»ˆæ­¢åˆ’åˆ†çš„æ¡ä»¶ï¼š</p>
<ul>
<li>All (or nearly all) of the examples at the node have the same class</li>
<li>There are no remaining features to distinguish among the examples</li>
<li>The tree has grown to a predefined size limit</li>
</ul>
<p><strong>å†³ç­–æ ‘å®¹æ˜“å¯¹è®­ç»ƒæ•°æ®è¿›è¡Œè¿‡æ‹Ÿåˆï¼Œç»™å‡ºè¿‡äºŽå…·ä½“ç»†èŠ‚çš„å†³ç­–</strong>ã€‚</p>
<h5 id="c50-algotithm">C5.0 algotithm</h5>
<p>The first challenge that a decision tree will face is to identify which feature to split upon. The degree to which a subset of examples contains only a single class is known as <strong>purity</strong>. C5.0 uses <strong>entropy</strong>, typically, entropy is measured in <strong>bits</strong>.</p>
<p>$$Entropy(\mathbf S)=\sum_{i=1}^c -p_ilog_2(p_i)$$</p>
<p>å¯¹äºŽä¸¤ç‚¹åˆ†å¸ƒã€‚If we know that the proportion of examples in one class is $x$, then the proportion in the other class is ($1 â€“ x$). Using the <code>curve()</code> function, we can then plot the entropy for all the possible values of $x$:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="nf">options</span><span class="p">(</span><span class="n">repr.plot.width</span> <span class="o">=</span> <span class="m">6</span><span class="p">,</span> <span class="n">repr.plot.height</span> <span class="o">=</span> <span class="m">4</span><span class="p">)</span>
<span class="nf">curve</span><span class="p">(</span><span class="o">-</span><span class="n">x</span> <span class="o">*</span> <span class="nf">log2</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="m">1</span> <span class="o">-</span> <span class="n">x</span><span class="p">)</span> <span class="o">*</span> <span class="nf">log2</span><span class="p">(</span><span class="m">1</span> <span class="o">-</span> <span class="n">x</span><span class="p">),</span>
     <span class="n">col</span> <span class="o">=</span> <span class="s">&#39;red&#39;</span><span class="p">,</span> <span class="n">xlab</span> <span class="o">=</span> <span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="n">ylab</span> <span class="o">=</span> <span class="s">&#39;Entropy&#39;</span><span class="p">,</span> <span class="n">lwd</span> <span class="o">=</span> <span class="m">4</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p><img src="./fig20210924/output_4_0.png" alt="png" /></p>
<p>å†³ç­–æ ‘ç®—æ³•ä½¿ç”¨ç†µå€¼æ¥è®¡ç®—æœ‰æ¯ä¸€ä¸ªå¯èƒ½ç‰¹å¾çš„åˆ†å‰²æ‰€å¼•èµ·çš„åŒè´¨æ€§ï¼ˆå‡åŒ€æ€§ï¼‰å˜åŒ–ï¼Œè¯¥è®¡ç®—ç§°ä¸º<strong>information gain</strong>ã€‚å¯¹äºŽç‰¹å¾$\mathbf F$ï¼Œä¿¡æ¯å¢žç›Šçš„è®¡ç®—æ–¹æ³•æ˜¯ï¼šentropy in the segment before the split ($\mathbf S_1$) and the partitions resulting from the split ($\mathbf S_2$):</p>
<p>$$InfoGain(\mathbf F)=Entropy(\mathbf S_1)-Entropy(\mathbf S_2)$$</p>
<p>the data is divided into more than one partition. Therefore, the function to calculate $Entropy(\mathbf S_2)$ needs to consider the total entropy across all of the partitions. It does this by weighing each partition&rsquo;s entropy by the proportion of records falling into the partition:</p>
<p>$$Entropy(\mathbf S)=\sum_{i=1}^n w_i Entropy(\mathbf P_i)$$</p>
<p>The higher the information gain, the better a feature is at creating homogeneous groups after a split on this feature. Though it is used by C5.0, information gain is not the only splitting criterion that can be used to build decision trees. Other commonly used criteria are <strong>Gini index</strong>, <strong>Chi-Squared statistic</strong>, and <strong>gain ratio</strong>.</p>
<h5 id="pruning-the-decision-tree">Pruning the decision tree</h5>
<p>å¦‚æžœå†³ç­–æ ‘å¢žé•¿è¿‡å¤§ï¼Œå°†ä¼šä½¿è®¸å¤šå†³ç­–è¿‡äºŽå…·ä½“ï¼Œæ¨¡åž‹å°†ä¼šè¿‡åº¦æ‹Ÿåˆè®­ç»ƒæ•°æ®ã€‚The process of <strong>pruning</strong> a decision tree involves reducing its size such that it generalizes better to unseen data.</p>
<p>One solution to this problem is to stop the tree from growing once it reaches a certain number of decisions or when the decision nodes contain only a small number of examples. This is called <strong>early stopping</strong> or <strong>pre-pruning</strong> the decision tree.</p>
<p>An alternative, called <strong>post-pruning</strong>, involves growing a tree that is intentionally too large and pruning leaf nodes to reduce the size of the tree to a more appropriate level.</p>
<p>C5.0ç®—æ³•çš„ä¼˜ç‚¹ä¹‹ä¸€å°±æ˜¯è‡ªåŠ¨ä¿®å‰ªï¼Œå³å®ƒå…³æ³¨è®¸å¤šå†³ç­–ï¼Œèƒ½è‡ªåŠ¨ä½¿ç”¨è®¸å¤šç›¸å½“åˆç†çš„é»˜è®¤å€¼ã€‚è¯¥ç®—æ³•çš„æ€»ä½“ç­–ç•¥å°±æ˜¯äº‹åŽä¿®å‰ªå†³ç­–æ ‘ï¼Œå®ƒå…ˆç”Ÿæˆä¸€ä¸ªè¿‡åº¦æ‹Ÿåˆè®­ç»ƒæ•°æ®çš„å¤§å†³ç­–æ ‘ï¼Œç„¶åŽåˆ é™¤å¯¹åˆ†ç±»è¯¯å·®å½±å“ä¸å¤§çš„èŠ‚ç‚¹å’Œåˆ†æ”¯ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæ•´ä¸ªåˆ†æžä¼šè¢«è¿›ä¸€æ­¥å‘ä¸Šç§»åŠ¨æˆ–è€…è¢«ä¸€äº›ç®€å•çš„å†³ç­–æ‰€å–ä»£ï¼Œè¿™ä¸¤ä¸ªç§»æ¤åˆ†æžçš„è¿‡ç¨‹åˆ†åˆ«ç§°ä¸º<strong>å­æ ‘æå‡</strong>å’Œ<strong>å­æ ‘æ›¿æ¢</strong>ã€‚</p>
<h3 id="æ•°æ®å¤„ç†-2">æ•°æ®å¤„ç†</h3>
<p>The credit dataset includes 1,000 examples on loans, plus a set of numeric and nominal features indicating the characteristics of the loan and the loan applicant.  A class variable indicates whether the loan went into default.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="n">credit</span> <span class="o">&lt;-</span> <span class="nf">read.csv</span><span class="p">(</span><span class="s">&#34;G:/R/Machine Learning With R/data/Chapter 05/credit.csv&#34;</span><span class="p">,</span> <span class="n">stringsAsFactor</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span>
<span class="nf">str</span><span class="p">(</span><span class="n">credit</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-sos" data-lang="sos">  'data.frame':	1000 obs. of  17 variables:
   $ checking_balance    : Factor w/ 4 levels &quot;&lt; 0 DM&quot;,&quot;&gt; 200 DM&quot;,..: 1 3 4 1 1 4 4 3 4 3 ...
   $ months_loan_duration: int  6 48 12 42 24 36 24 36 12 30 ...
   $ credit_history      : Factor w/ 5 levels &quot;critical&quot;,&quot;good&quot;,..: 1 2 1 2 4 2 2 2 2 1 ...
   $ purpose             : Factor w/ 6 levels &quot;business&quot;,&quot;car&quot;,..: 5 5 4 5 2 4 5 2 5 2 ...
   $ amount              : int  1169 5951 2096 7882 4870 9055 2835 6948 3059 5234 ...
   $ savings_balance     : Factor w/ 5 levels &quot;&lt; 100 DM&quot;,&quot;&gt; 1000 DM&quot;,..: 5 1 1 1 1 5 4 1 2 1 ...
   $ employment_duration : Factor w/ 5 levels &quot;&lt; 1 year&quot;,&quot;&gt; 7 years&quot;,..: 2 3 4 4 3 3 2 3 4 5 ...
   $ percent_of_income   : int  4 2 2 2 3 2 3 2 2 4 ...
   $ years_at_residence  : int  4 2 3 4 4 4 4 2 4 2 ...
   $ age                 : int  67 22 49 45 53 35 53 35 61 28 ...
   $ other_credit        : Factor w/ 3 levels &quot;bank&quot;,&quot;none&quot;,..: 2 2 2 2 2 2 2 2 2 2 ...
   $ housing             : Factor w/ 3 levels &quot;other&quot;,&quot;own&quot;,..: 2 2 2 1 1 1 2 3 2 2 ...
   $ existing_loans_count: int  2 1 1 1 2 1 1 1 1 2 ...
   $ job                 : Factor w/ 4 levels &quot;management&quot;,&quot;skilled&quot;,..: 2 2 4 2 2 4 2 1 4 1 ...
   $ dependents          : int  1 1 2 2 2 2 1 1 1 1 ...
   $ phone               : Factor w/ 2 levels &quot;no&quot;,&quot;yes&quot;: 2 1 1 1 1 2 1 2 1 1 ...
   $ default             : Factor w/ 2 levels &quot;no&quot;,&quot;yes&quot;: 1 2 1 1 2 1 1 1 1 2 ...
</code></pre><p>ç‰¹å¾checking_balanceå’Œsavings_balanceè¡¨ç¤ºæ”¯ç¥¨å’Œå‚¨è“„è´¦æˆ·ä½™é¢ï¼Œå¹¶è®°å½•ä¸ºåˆ†ç±»å˜é‡ï¼›è´·æ¬¾æœŸé™ï¼ˆmonths_looan_durationï¼‰å’Œä¿¡è´·ç”³è¯·çš„é‡‘é¢ï¼ˆamount)ä¸ºæ•°å€¼åž‹å˜é‡ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="nf">table</span><span class="p">(</span><span class="n">credit</span><span class="o">$</span><span class="n">checking_balance</span><span class="p">)</span>
<span class="nf">table</span><span class="p">(</span><span class="n">credit</span><span class="o">$</span><span class="n">savings_balance</span><span class="p">)</span>
<span class="nf">summary</span><span class="p">(</span><span class="n">credit</span><span class="o">$</span><span class="n">months_loan_duration</span><span class="p">)</span>
<span class="nf">summary</span><span class="p">(</span><span class="n">credit</span><span class="o">$</span><span class="n">amount</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-sos" data-lang="sos">&lt; 0 DM   &gt; 200 DM 1 - 200 DM    unknown 
     274         63        269        394 

&lt; 100 DM     &gt; 1000 DM  100 - 500 DM 500 - 1000 DM       unknown 
     603            48           103            63           183 

 Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
  4.0    12.0    18.0    20.9    24.0    72.0 

 Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
  250    1366    2320    3271    3972   18424      
</code></pre><p>The loan amounts ranged from 250 DM to 18,420 DMï¼ˆDeutsche Marksï¼‰across terms of 4 to 72 months with a median duration of 18 months and an amount of 2,320 DM. The <code>default</code> vector indicates whether the loan applicant was unable to meet the agreed payment terms and went into default. A total of 30 percent of the loans in  this dataset went into default:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="nf">table</span><span class="p">(</span><span class="n">credit</span><span class="o">$</span><span class="n">default</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-sos" data-lang="sos"> no yes 
700 300 
</code></pre><h3 id="æ¨¡åž‹è®­ç»ƒ-2">æ¨¡åž‹è®­ç»ƒ</h3>
<p><code>order()</code>å‡½æ•°ä»¥å‡åºæˆ–è€…é™åºçš„æ–¹å¼å¯¹æ•°æ®åˆ—è¡¨è¿›è¡Œé‡æ–°æŽ’åˆ—ï¼Œå…¥è‚¡å°†<code>order()</code>å‡½æ•°ä¸Žç”Ÿæˆä¸€ç³»åˆ—éšæœºæ•°çš„å‡½æ•°ç›¸ç»“åˆï¼Œå°±å¯ä»¥ç”Ÿæˆä¸€ä¸ªéšæœºæŽ’åˆ—çš„åˆ—è¡¨ã€‚<code>runif(1000)</code>ç”Ÿæˆäº†ä¸€ä¸ªå«æœ‰1000ä¸ªéšæœºæ•°çš„åˆ—è¡¨ã€‚ç„¶åŽï¼Œ<code>order()</code>å‡½æ•°è¿”å›žä¸€ä¸ªæ•°å€¼å‘é‡ï¼Œè¯¥å‘é‡è®°å½•äº†æŽ’åºä¹‹åŽçš„1000ä¸ªéšæœºæ•°åœ¨åŽŸæ¥åºåˆ—ä¸­çš„ä½ç½®ï¼Œç”¨è¿™äº›ä½ç½®ç­›é€‰creditæ•°æ®æ¡†ä¸­çš„è¡Œã€‚åˆ’åˆ†æ•°æ®é›†ï¼Œæ¯ä¸ªæ•°æ®é›†ä¸­å¤§çº¦30%çš„è¿çº¦è´·æ¬¾ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="nf">set.seed</span><span class="p">(</span><span class="m">12345</span><span class="p">)</span>
<span class="n">credit_rand</span> <span class="o">&lt;-</span> <span class="n">credit</span><span class="nf">[order</span><span class="p">(</span><span class="nf">runif</span><span class="p">(</span><span class="m">1000</span><span class="p">)),</span> <span class="n">]</span>
<span class="nf">summary</span><span class="p">(</span><span class="n">credit</span><span class="o">$</span><span class="n">amount</span><span class="p">)</span>
<span class="nf">summary</span><span class="p">(</span><span class="n">credit_rand</span><span class="o">$</span><span class="n">amount</span><span class="p">)</span>

<span class="n">credit_train</span> <span class="o">&lt;-</span> <span class="n">credit_rand[1</span><span class="o">:</span><span class="m">900</span><span class="p">,</span> <span class="n">]</span>
<span class="n">credit_test</span> <span class="o">&lt;-</span> <span class="n">credit_rand[901</span><span class="o">:</span><span class="m">1000</span><span class="p">,</span> <span class="n">]</span>
<span class="nf">prop.table</span><span class="p">(</span><span class="nf">table</span><span class="p">(</span><span class="n">credit_train</span><span class="o">$</span><span class="n">default</span><span class="p">))</span>
<span class="nf">prop.table</span><span class="p">(</span><span class="nf">table</span><span class="p">(</span><span class="n">credit_test</span><span class="o">$</span><span class="n">default</span><span class="p">))</span>

<span class="c1"># C5.0ç®—æ³•è®­ç»ƒå†³ç­–æ ‘</span>
<span class="nf">library</span><span class="p">(</span><span class="n">C50</span><span class="p">)</span>
<span class="n">credit_model</span> <span class="o">&lt;-</span> <span class="nf">C5.0</span><span class="p">(</span><span class="n">credit_train[</span><span class="m">-17</span><span class="n">]</span><span class="p">,</span> <span class="n">credit_train</span><span class="o">$</span><span class="n">default</span><span class="p">)</span>
<span class="n">credit_model</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-cos" data-lang="cos"> Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
  250    1366    2320    3271    3972   18424 

 Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
250    1366    2320    3271    3972   18424 


       no       yes 
0.7022222 0.2977778 

  no  yes 
0.68 0.32 


Call:
C5.0.default(x = credit_train[-17], y = credit_train$default)

Classification Tree
Number of samples: 900 
Number of predictors: 16 

Tree size: 67 

Non-standard options: attempt to group attributes
</code></pre><p>900ä¸ªæ ·æœ¬ï¼Œ16ä¸ªç‰¹å¾ï¼Œ67ä¸ªå†³ç­–ã€‚æŸ¥çœ‹å†³ç­–ï¼š</p>

<div id="e36a009fc6859db0" class="codetab">
  <div class="codetab__links">
    
      <button class="codetab__link" aria-label="Tab link">R</button>
    
      <button class="codetab__link" aria-label="Tab link">Output</button>
    
  </div>
  
  
<div id="766f271e9425fbfe" class="codetab__content">
  <div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="nf">summary</span><span class="p">(</span><span class="n">credit_model1</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div>
</div>

  
<div id="b199662fb1f3df92" class="codetab__content">
  <pre><code>  Call:
  C5.0.default(x = credit_train[-17], y = credit_train$default)
  
  
  C5.0 [Release 2.07 GPL Edition]  	Sun Sep 12 20:39:17 2021
  -------------------------------
  
  Class specified by attribute `outcome'
  
  Read 900 cases (17 attributes) from undefined.data
  
  Decision tree:
  
  checking_balance = unknown: no (358/44)
  checking_balance in {&lt; 0 DM,&gt; 200 DM,1 - 200 DM}:
  :...credit_history in {perfect,very good}:
      :...dependents &gt; 1: yes (10/1)
      :   dependents &lt;= 1:
      :   :...savings_balance = &lt; 100 DM: yes (39/11)
      :       savings_balance in {&gt; 1000 DM,500 - 1000 DM,unknown}: no (8/1)
      :       savings_balance = 100 - 500 DM:
      :       :...checking_balance = &lt; 0 DM: no (1)
      :           checking_balance in {&gt; 200 DM,1 - 200 DM}: yes (5/1)
      credit_history in {critical,good,poor}:
      :...months_loan_duration &lt;= 11: no (87/14)
          months_loan_duration &gt; 11:
          :...savings_balance = &gt; 1000 DM: no (13)
              savings_balance in {&lt; 100 DM,100 - 500 DM,500 - 1000 DM,unknown}:
              :...checking_balance = &gt; 200 DM:
                  :...dependents &gt; 1: yes (3)
                  :   dependents &lt;= 1:
                  :   :...credit_history in {good,poor}: no (23/3)
                  :       credit_history = critical:
                  :       :...amount &lt;= 2337: yes (3)
                  :           amount &gt; 2337: no (6)
                  checking_balance = 1 - 200 DM:
                  :...savings_balance = unknown: no (34/6)
                  :   savings_balance in {&lt; 100 DM,100 - 500 DM,500 - 1000 DM}:
                  :   :...months_loan_duration &gt; 45: yes (11/1)
                  :       months_loan_duration &lt;= 45:
                  :       :...other_credit = store:
                  :           :...age &lt;= 35: yes (4)
                  :           :   age &gt; 35: no (2)
                  :           other_credit = bank:
                  :           :...years_at_residence &lt;= 1: no (3)
                  :           :   years_at_residence &gt; 1:
                  :           :   :...existing_loans_count &lt;= 1: yes (5)
                  :           :       existing_loans_count &gt; 1:
                  :           :       :...percent_of_income &lt;= 2: no (4/1)
                  :           :           percent_of_income &gt; 2: yes (3)
                  :           other_credit = none:
                  :           :...job = unemployed: no (1)
                  :               job = management:
                  :               :...amount &lt;= 7511: no (10/3)
                  :               :   amount &gt; 7511: yes (7)
                  :               job = unskilled: [S1]
                  :               job = skilled:
                  :               :...dependents &lt;= 1: no (55/15)
                  :                   dependents &gt; 1:
                  :                   :...age &lt;= 34: no (3)
                  :                       age &gt; 34: yes (4)
                  checking_balance = &lt; 0 DM:
                  :...job = management: no (26/6)
                      job = unemployed: yes (4/1)
                      job = unskilled:
                      :...employment_duration in {4 - 7 years,
                      :   :                       unemployed}: no (4)
                      :   employment_duration = &lt; 1 year:
                      :   :...other_credit = bank: no (1)
                      :   :   other_credit in {none,store}: yes (11/2)
                      :   employment_duration = &gt; 7 years:
                      :   :...other_credit in {bank,none}: no (5/1)
                      :   :   other_credit = store: yes (2)
                      :   employment_duration = 1 - 4 years:
                      :   :...age &lt;= 39: no (14/3)
                      :       age &gt; 39:
                      :       :...credit_history in {critical,good}: yes (3)
                      :           credit_history = poor: no (1)
                      job = skilled:
                      :...credit_history = poor:
                          :...savings_balance in {&lt; 100 DM,100 - 500 DM,
                          :   :                   500 - 1000 DM}: yes (8)
                          :   savings_balance = unknown: no (1)
                          credit_history = critical:
                          :...other_credit = store: no (0)
                          :   other_credit = bank: yes (4)
                          :   other_credit = none:
                          :   :...savings_balance in {100 - 500 DM,
                          :       :                   unknown}: no (1)
                          :       savings_balance = 500 - 1000 DM: yes (1)
                          :       savings_balance = &lt; 100 DM:
                          :       :...months_loan_duration &lt;= 13:
                          :           :...percent_of_income &lt;= 3: yes (3)
                          :           :   percent_of_income &gt; 3: no (3/1)
                          :           months_loan_duration &gt; 13:
                          :           :...amount &lt;= 5293: no (10/1)
                          :               amount &gt; 5293: yes (2)
                          credit_history = good:
                          :...existing_loans_count &gt; 1: yes (5)
                              existing_loans_count &lt;= 1:
                              :...other_credit = store: no (2)
                                  other_credit = bank:
                                  :...percent_of_income &lt;= 2: yes (2)
                                  :   percent_of_income &gt; 2: no (6/1)
                                  other_credit = none: [S2]
  
  SubTree [S1]
  
  employment_duration in {&lt; 1 year,1 - 4 years}: yes (11/3)
  employment_duration in {&gt; 7 years,4 - 7 years,unemployed}: no (8)
  
  SubTree [S2]
  
  savings_balance = 100 - 500 DM: yes (3)
  savings_balance = 500 - 1000 DM: no (1)
  savings_balance = unknown:
  :...phone = no: yes (9/1)
  :   phone = yes: no (3/1)
  savings_balance = &lt; 100 DM:
  :...percent_of_income &lt;= 1: no (4)
      percent_of_income &gt; 1:
      :...phone = yes: yes (10/1)
          phone = no:
          :...purpose in {business,car0,education,renovations}: yes (3)
              purpose = car:
              :...percent_of_income &lt;= 3: no (2)
              :   percent_of_income &gt; 3: yes (6/1)
              purpose = furniture/appliances:
              :...years_at_residence &lt;= 1: no (4)
                  years_at_residence &gt; 1:
                  :...housing = other: no (1)
                      housing = rent: yes (2)
                      housing = own:
                      :...amount &lt;= 1778: no (3)
                          amount &gt; 1778:
                          :...years_at_residence &lt;= 3: yes (6)
                              years_at_residence &gt; 3: no (3/1)
  
  
  Evaluation on training data (900 cases):
  
          Decision Tree   
        ----------------  
        Size      Errors  
  
          66  125(13.9%)   &lt;&lt;
  
  
         (a)   (b)    &lt;-classified as
        ----  ----
         609    23    (a): class no
         102   166    (b): class yes
  
  
      Attribute usage:
  
      100.00%	checking_balance
       60.22%	credit_history
       53.22%	months_loan_duration
       49.44%	savings_balance
       30.89%	job
       25.89%	other_credit
       17.78%	dependents
        9.67%	existing_loans_count
        7.22%	percent_of_income
        6.67%	employment_duration
        5.78%	phone
        5.56%	amount
        3.78%	years_at_residence
        3.44%	age
        3.33%	purpose
        1.67%	housing
  
  
  Time: 0.0 secs
</code></pre>
</div>

</div>

<script>
  'use strict';

  var containerId = JSON.parse("\"e36a009fc6859db0\"");
  var containerElem = document.getElementById(containerId);
  var codetabLinks = null;
  var codetabContents = null;
  var ids = [];

  if (containerElem) {
    codetabLinks = containerElem.querySelectorAll('.codetab__link');
    codetabContents = containerElem.querySelectorAll('.codetab__content');
  }

  for (var i = 0; i < codetabContents.length; i++) {
    ids = ids.concat(codetabContents[i].getAttribute('id'));
    codetabContents[i].style.display = 'none';

    if (0 === parseInt(i, 10) && !codetabContents[i].classList.contains('active')) {
      codetabContents[i].classList.add('active');
    }
  }

  for (var i = 0; i < codetabLinks.length; i++) {
    codetabLinks[i].setAttribute('id', ids[i]);

    if (0 === parseInt(i, 10) && !codetabLinks[i].classList.contains('active')) {
      codetabLinks[i].classList.add('active');
    } else {
      codetabLinks[i].classList.remove('active');
    }
  }

  if (codetabContents.length > 0) {
    codetabContents[0].style.display = 'block';
  }
</script>
<p>å¯¹ä¸Šè¿°è¾“å‡ºå‰å››è¡Œçš„è§£è¯»ï¼š</p>
<ul>
<li>å¦‚æžœæ”¯ç¥¨è´¦æˆ·ä½™é¢æ˜¯æœªçŸ¥çš„ï¼Œåˆ™å½’ä¸ºç±»<strong>ä¸å¤ªå¯èƒ½è¿çº¦</strong>ã€‚</li>
<li>å¦åˆ™ï¼Œå¦‚æžœè´¦æˆ·æ”¯ç¥¨ä½™é¢å°‘äºŽ0é©¬å…‹ï¼Œæˆ–è€…1~200é©¬å…‹ä¹‹é—´ï¼Œæˆ–è€…è¶…è¿‡200é©¬å…‹ï¼Œæˆ–è€…&hellip;</li>
<li>ä¿¡ç”¨è®°å½•éžå¸¸å¥½ï¼Œç”šè‡³å®Œç¾Žï¼Œæˆ–è€…&hellip;</li>
<li>æœ‰å¤šä¸ªæŠšå…»äººï¼Œå°±å½’ç±»ä¸º<strong>å¾ˆæœ‰å¯èƒ½è¿çº¦</strong>ã€‚</li>
</ul>
<p>æ‹¬å·ä¸­çš„æ•°å­—è¡¨ç¤ºç¬¦åˆè¯¥å†³ç­–å‡†åˆ™çš„æ¡ˆä¾‹çš„æ•°é‡ä»¥åŠæ ¹æ®è¯¥å†³ç­–ä¸æ­£ç¡®åˆ†ç±»çš„æ¡ˆä¾‹çš„æ•°é‡ã€‚ä¾‹å¦‚ï¼Œåœ¨ç¬¬ä¸€è¡Œä¸­ï¼Œ(358/44)è¡¨ç¤ºæœ‰358ä¸ªæ¡ˆä¾‹ç¬¦åˆè¯¥å†³ç­–æ¡ä»¶ï¼Œæœ‰44ä¸ªæ¡ˆä¾‹è¢«é”™è¯¯åœ°å½’ç±»ä¸ºnoï¼Œä¹Ÿå°±æ˜¯è¯´ä¸å¤ªå¯èƒ½è¿çº¦ï¼Œæ¢å¥è¯è¯´ï¼Œå°±æ˜¯ç”±44ä¸ªç”³è¯·è€…ç¡®å®žè¿çº¦äº†ã€‚</p>
<p>summary(credit_model)è¾“å‡ºä¸€ä¸ªæ··æ·†çŸ©é˜µï¼Œè¿™æ˜¯ä¸€ä¸ªäº¤å‰åˆ—è¡¨ï¼Œè¡¨ç¤ºæ¨¡åž‹å¯¹è®­ç»ƒæ•°æ®é”™è¯¯åˆ†ç±»çš„è®°å½•æ•°ã€‚å­—æ®µErrorsè¯´æ˜Žæ¨¡åž‹é™¤äº†å¯¹900ä¸ªè®­ç»ƒæ¡ˆä¾‹ä¸­çš„125ä¸ªæ¡ˆä¾‹ä»¥å¤–çš„æ‰€æœ‰æ¡ˆä¾‹éƒ½è¿›è¡Œäº†æ­£ç¡®çš„åˆ†ç±»ï¼Œé”™è¯¯çŽ‡ä¸º13.9%ã€‚å…±æœ‰23ä¸ªçœŸå®žå€¼ä¸ºnoçš„ä¸ªæ¡ˆè¢«é”™è¯¯åœ°å½’ç±»ä¸ºyes(é”™è¯¯è‚¯å®š)ï¼Œè€Œæœ‰102ä¸ªçœŸå®žå€¼ä¸ºyesçš„ä¸ªæ¡ˆè¢«é”™è¯¯åœ°å½’ç±»ä¸ºno(é”™è¯¯å¦å®š)ã€‚</p>
<h3 id="æ€§èƒ½è¯„ä¼°-2">æ€§èƒ½è¯„ä¼°</h3>
<p>è®¾å®šå‚æ•°<code>prop.c</code>å’Œ<code>prop.r</code>ä¸ºFALSEæ¥åˆ é™¤è¡¨ä¸­åˆ—ä¸Žè¡Œçš„ç™¾åˆ†æ¯”ï¼Œå‰©ä½™çš„ç™¾åˆ†æ¯”(<code>prop.t</code>)è¡¨ç¤ºå•å…ƒæ ¼ä¸­çš„è®°å½•æ•°å æ€»è®°å½•æ•°çš„ç™¾åˆ†æ¯”ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="n">credit_pred</span> <span class="o">&lt;-</span> <span class="nf">predict</span><span class="p">(</span><span class="n">credit_model</span><span class="p">,</span> <span class="n">credit_test</span><span class="p">)</span>

<span class="nf">library</span><span class="p">(</span><span class="n">gmodels</span><span class="p">)</span>
<span class="nf">CrossTable</span><span class="p">(</span><span class="n">credit_test</span><span class="o">$</span><span class="n">default</span><span class="p">,</span> <span class="n">credit_pred</span><span class="p">,</span> <span class="n">prop.chisq</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">,</span> <span class="n">prop.c</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">,</span> <span class="n">prop.r</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">,</span> 
           <span class="n">dnn</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#39;actual default&#39;</span><span class="p">,</span> <span class="s">&#39;predicted default&#39;</span><span class="p">))</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-sos" data-lang="sos">   Cell Contents
|-------------------------|
|                       N |
|         N / Table Total |
|-------------------------|

 
Total Observations in Table:  100 

 
               | predicted default 
actual default |        no |       yes | Row Total | 
---------------|-----------|-----------|-----------|
            no |        57 |        11 |        68 | 
               |     0.570 |     0.110 |           | 
---------------|-----------|-----------|-----------|
           yes |        16 |        16 |        32 | 
               |     0.160 |     0.160 |           | 
---------------|-----------|-----------|-----------|
  Column Total |        73 |        27 |       100 | 
---------------|-----------|-----------|-----------|
</code></pre><p>100ä¸ªè´·æ¬¾ç”³è¯·è€…çš„è®°å½•æµ‹è¯•ä¸­ï¼Œæ¨¡åž‹æ­£ç¡®é¢„æµ‹äº†57ä¸ªç”³è¯·è€…ç¡®å®žæ²¡æœ‰è¿çº¦ï¼Œè€Œ16ä¸ªçš„ç”³è¯·è€…ç¡®å®žè¿çº¦äº†ï¼Œæ¨¡åž‹çš„å‡†ç¡®çŽ‡ä¸º73%ï¼Œè€Œé”™è¯¯çŽ‡ä¸º27%ã€‚åœ¨è®­ç»ƒæ•°æ®ä¸Šæ¨¡åž‹çš„æ€§èƒ½ç•¥å·®ï¼Œä½†å¹¶ä¸ä»¤äººæ„å¤–ï¼Œå› ä¸ºå¯¹äºŽæœªçŸ¥çš„æ•°æ®ï¼Œæ¨¡åž‹çš„æ€§èƒ½å¾€å¾€ä¼šå·®äº›ã€‚å¦å¤–ï¼Œè¯¥æ¨¡åž‹åªæ­£ç¡®é¢„æµ‹äº†æµ‹è¯•æ•°æ®ä¸­32ä¸ªè¿çº¦è€…çš„50%ã€‚é—æ†¾çš„æ˜¯ï¼Œè¿™ç§ç±»åž‹çš„é”™è¯¯æ˜¯ä¸€ä¸ªæ½œåœ¨çš„éžå¸¸ä¸¥é‡çš„é”™è¯¯ã€‚</p>
<h3 id="æ€§èƒ½æå‡-2">æ€§èƒ½æå‡</h3>
<h5 id="æé«˜å†³ç­–æ ‘çš„å‡†ç¡®æ€§">æé«˜å†³ç­–æ ‘çš„å‡†ç¡®æ€§</h5>
<p>5.0ç®—æ³•å¯¹C4.5ç®—æ³•æ”¹è¿›çš„ä¸€ç§æ–¹æ³•å°±æ˜¯é€šè¿‡åŠ å…¥è‡ªé€‚åº”å¢žå¼º(adaptive boosting)ç®—æ³•ï¼Œè¿™æ˜¯è®¸å¤šå†³ç­–æ ‘æž„å»ºçš„ä¸€ä¸ªè¿‡ç¨‹ï¼Œç„¶åŽè¿™äº›å†³ç­–æ ‘é€šè¿‡æŠ•ç¥¨è¡¨å†³çš„æ–¹æ³•ä¸ºæ¯ä¸€ä¸ªæ¡ˆä¾‹é€‰æ‹©æœ€ä½³åˆ†ç±»ã€‚å‚æ•°<code>trials</code>è®¾ç½®äº†ä¸€ä¸ªä¸Šé™ï¼Œå¦‚æžœè¯¥ç®—æ³•è¯†åˆ«å‡ºé¢å¤–çš„è¯•éªŒä¼¼ä¹Žå¹¶æ²¡æœ‰æé«˜æ¨¡åž‹çš„å‡†ç¡®æ€§ï¼Œé‚£ä¹ˆå®ƒå°†åœæ­¢æ·»åŠ å†³ç­–æ ‘ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="n">credit_boost10</span> <span class="o">&lt;-</span> <span class="nf">C5.0</span><span class="p">(</span><span class="n">credit_train[</span><span class="m">-17</span><span class="n">]</span><span class="p">,</span> <span class="n">credit_train</span><span class="o">$</span><span class="n">default</span><span class="p">,</span> <span class="n">trials</span> <span class="o">=</span> <span class="m">10</span><span class="p">)</span>
<span class="n">credit_boost10</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-sos" data-lang="sos">Call:
C5.0.default(x = credit_train[-17], y = credit_train$default, trials = 10)

Classification Tree
Number of samples: 900 
Number of predictors: 16 

Number of boosting iterations: 10 
Average tree size: 56 

Non-standard options: attempt to group attributes
</code></pre><p>é€šè¿‡10æ¬¡è¿­ä»£ï¼Œå†³ç­–æ ‘å˜å°ã€‚</p>

<div id="ed5e34bcab38e1af" class="codetab">
  <div class="codetab__links">
    
      <button class="codetab__link" aria-label="Tab link">R</button>
    
      <button class="codetab__link" aria-label="Tab link">Output</button>
    
  </div>
  
  
<div id="2b9aa244fcd31225" class="codetab__content">
  <div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="nf">summary</span><span class="p">(</span><span class="n">credit_boost10</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div>
</div>
  
<div id="fcb1daad9eab0ea8" class="codetab__content">
  <pre><code>Call:
C5.0.default(x = credit_train[-17], y = credit_train$default, trials = 10)


C5.0 [Release 2.07 GPL Edition]  	Sun Sep 12 22:46:19 2021
-------------------------------

Class specified by attribute `outcome'

Read 900 cases (17 attributes) from undefined.data

-----  Trial 0:  -----

Decision tree:

checking_balance = unknown: no (358/44)
checking_balance in {&lt; 0 DM,&gt; 200 DM,1 - 200 DM}:
:...credit_history in {perfect,very good}:
    :...dependents &gt; 1: yes (10/1)
    :   dependents &lt;= 1:
    :   :...savings_balance = &lt; 100 DM: yes (39/11)
    :       savings_balance in {&gt; 1000 DM,500 - 1000 DM,unknown}: no (8/1)
    :       savings_balance = 100 - 500 DM:
    :       :...checking_balance = &lt; 0 DM: no (1)
    :           checking_balance in {&gt; 200 DM,1 - 200 DM}: yes (5/1)
    credit_history in {critical,good,poor}:
    :...months_loan_duration &lt;= 11: no (87/14)
        months_loan_duration &gt; 11:
        :...savings_balance = &gt; 1000 DM: no (13)
            savings_balance in {&lt; 100 DM,100 - 500 DM,500 - 1000 DM,unknown}:
            :...checking_balance = &gt; 200 DM:
                :...dependents &gt; 1: yes (3)
                :   dependents &lt;= 1:
                :   :...credit_history in {good,poor}: no (23/3)
                :       credit_history = critical:
                :       :...amount &lt;= 2337: yes (3)
                :           amount &gt; 2337: no (6)
                checking_balance = 1 - 200 DM:
                :...savings_balance = unknown: no (34/6)
                :   savings_balance in {&lt; 100 DM,100 - 500 DM,500 - 1000 DM}:
                :   :...months_loan_duration &gt; 45: yes (11/1)
                :       months_loan_duration &lt;= 45:
                :       :...other_credit = store:
                :           :...age &lt;= 35: yes (4)
                :           :   age &gt; 35: no (2)
                :           other_credit = bank:
                :           :...years_at_residence &lt;= 1: no (3)
                :           :   years_at_residence &gt; 1:
                :           :   :...existing_loans_count &lt;= 1: yes (5)
                :           :       existing_loans_count &gt; 1:
                :           :       :...percent_of_income &lt;= 2: no (4/1)
                :           :           percent_of_income &gt; 2: yes (3)
                :           other_credit = none:
                :           :...job = unemployed: no (1)
                :               job = management:
                :               :...amount &lt;= 7511: no (10/3)
                :               :   amount &gt; 7511: yes (7)
                :               job = unskilled: [S1]
                :               job = skilled:
                :               :...dependents &lt;= 1: no (55/15)
                :                   dependents &gt; 1:
                :                   :...age &lt;= 34: no (3)
                :                       age &gt; 34: yes (4)
                checking_balance = &lt; 0 DM:
                :...job = management: no (26/6)
                    job = unemployed: yes (4/1)
                    job = unskilled:
                    :...employment_duration in {4 - 7 years,
                    :   :                       unemployed}: no (4)
                    :   employment_duration = &lt; 1 year:
                    :   :...other_credit = bank: no (1)
                    :   :   other_credit in {none,store}: yes (11/2)
                    :   employment_duration = &gt; 7 years:
                    :   :...other_credit in {bank,none}: no (5/1)
                    :   :   other_credit = store: yes (2)
                    :   employment_duration = 1 - 4 years:
                    :   :...age &lt;= 39: no (14/3)
                    :       age &gt; 39:
                    :       :...credit_history in {critical,good}: yes (3)
                    :           credit_history = poor: no (1)
                    job = skilled:
                    :...credit_history = poor:
                        :...savings_balance in {&lt; 100 DM,100 - 500 DM,
                        :   :                   500 - 1000 DM}: yes (8)
                        :   savings_balance = unknown: no (1)
                        credit_history = critical:
                        :...other_credit = store: no (0)
                        :   other_credit = bank: yes (4)
                        :   other_credit = none:
                        :   :...savings_balance in {100 - 500 DM,
                        :       :                   unknown}: no (1)
                        :       savings_balance = 500 - 1000 DM: yes (1)
                        :       savings_balance = &lt; 100 DM:
                        :       :...months_loan_duration &lt;= 13:
                        :           :...percent_of_income &lt;= 3: yes (3)
                        :           :   percent_of_income &gt; 3: no (3/1)
                        :           months_loan_duration &gt; 13:
                        :           :...amount &lt;= 5293: no (10/1)
                        :               amount &gt; 5293: yes (2)
                        credit_history = good:
                        :...existing_loans_count &gt; 1: yes (5)
                            existing_loans_count &lt;= 1:
                            :...other_credit = store: no (2)
                                other_credit = bank:
                                :...percent_of_income &lt;= 2: yes (2)
                                :   percent_of_income &gt; 2: no (6/1)
                                other_credit = none: [S2]

SubTree [S1]

employment_duration in {&lt; 1 year,1 - 4 years}: yes (11/3)
employment_duration in {&gt; 7 years,4 - 7 years,unemployed}: no (8)

SubTree [S2]

savings_balance = 100 - 500 DM: yes (3)
savings_balance = 500 - 1000 DM: no (1)
savings_balance = unknown:
:...phone = no: yes (9/1)
:   phone = yes: no (3/1)
savings_balance = &lt; 100 DM:
:...percent_of_income &lt;= 1: no (4)
    percent_of_income &gt; 1:
    :...phone = yes: yes (10/1)
        phone = no:
        :...purpose in {business,car0,education,renovations}: yes (3)
            purpose = car:
            :...percent_of_income &lt;= 3: no (2)
            :   percent_of_income &gt; 3: yes (6/1)
            purpose = furniture/appliances:
            :...years_at_residence &lt;= 1: no (4)
                years_at_residence &gt; 1:
                :...housing = other: no (1)
                    housing = rent: yes (2)
                    housing = own:
                    :...amount &lt;= 1778: no (3)
                        amount &gt; 1778:
                        :...years_at_residence &lt;= 3: yes (6)
                            years_at_residence &gt; 3: no (3/1)

-----  Trial 1:  -----

Decision tree:

checking_balance in {&lt; 0 DM,1 - 200 DM}:
:...savings_balance in {&gt; 1000 DM,500 - 1000 DM}: no (29/8.6)
:   savings_balance = 100 - 500 DM:
:   :...credit_history in {critical,perfect,poor}: no (18/3.2)
:   :   credit_history in {good,very good}: yes (30.5/9.5)
:   savings_balance = unknown:
:   :...credit_history in {critical,perfect,poor}: no (16.6)
:   :   credit_history in {good,very good}:
:   :   :...job = management: yes (9.3/2.4)
:   :       job in {unemployed,unskilled}: no (7.9/0.8)
:   :       job = skilled:
:   :       :...purpose in {business,car0,renovations}: yes (0)
:   :           purpose = education: no (3.2)
:   :           purpose in {car,furniture/appliances}:
:   :           :...months_loan_duration &lt;= 18: yes (16.2/3.2)
:   :               months_loan_duration &gt; 18: no (16.5/7)
:   savings_balance = &lt; 100 DM:
:   :...months_loan_duration &gt; 47: yes (24.3/3.1)
:       months_loan_duration &lt;= 47:
:       :...job = unemployed: yes (7/3.1)
:           job = unskilled:
:           :...housing in {other,rent}: yes (14.2/4.7)
:           :   housing = own: no (66.4/20.3)
:           job = skilled:
:           :...percent_of_income &gt; 2: yes (109.5/40.2)
:           :   percent_of_income &lt;= 2:
:           :   :...employment_duration in {&lt; 1 year,&gt; 7 years,
:           :       :                       4 - 7 years}: yes (36/15)
:           :       employment_duration in {1 - 4 years,
:           :                               unemployed}: no (31.3/7)
:           job = management:
:           :...existing_loans_count &gt; 2: no (3.2)
:               existing_loans_count &lt;= 2:
:               :...employment_duration in {&lt; 1 year,
:                   :                       4 - 7 years}: no (9.4/0.8)
:                   employment_duration in {&gt; 7 years,
:                   :                       1 - 4 years}: yes (30.3/7.1)
:                   employment_duration = unemployed:
:                   :...percent_of_income &lt;= 2: no (4.7)
:                       percent_of_income &gt; 2: yes (13.9/4)
checking_balance in {&gt; 200 DM,unknown}:
:...other_credit in {bank,store}:
    :...purpose = renovations: yes (0)
    :   purpose in {car0,furniture/appliances}: no (31.4/6.9)
    :   purpose in {business,car,education}:
    :   :...percent_of_income &lt;= 1: no (7/2.3)
    :       percent_of_income &gt; 1: yes (44.8/11.1)
    other_credit = none:
    :...credit_history in {critical,perfect}: no (116.7/10.1)
        credit_history in {good,poor,very good}:
        :...existing_loans_count &gt; 1:
            :...employment_duration = 4 - 7 years: no (7.9)
            :   employment_duration in {&lt; 1 year,&gt; 7 years,1 - 4 years,
            :   :                       unemployed}:
            :   :...job in {management,unemployed}: yes (6.9)
            :       job in {skilled,unskilled}:
            :       :...years_at_residence &lt;= 1: yes (4.6)
            :           years_at_residence &gt; 1:
            :           :...years_at_residence &lt;= 3: no (15.7/2.3)
            :               years_at_residence &gt; 3: yes (15.5/4)
            existing_loans_count &lt;= 1:
            :...credit_history = poor: yes (9.3/2.4)
                credit_history = very good: no (1.6/0.8)
                credit_history = good:
                :...phone = yes: no (54.4/4.6)
                    phone = no:
                    :...job in {management,unemployed}: no (2.4)
                        job = skilled:
                        :...savings_balance in {&gt; 1000 DM,100 - 500 DM,
                        :   :                   500 - 1000 DM,
                        :   :                   unknown}: no (23.7)
                        :   savings_balance = &lt; 100 DM:
                        :   :...years_at_residence &lt;= 2: no (19.6/4.6)
                        :       years_at_residence &gt; 2: yes (12.4/3.2)
                        job = unskilled:
                        :...checking_balance = &gt; 200 DM: yes (10.1/2.4)
                            checking_balance = unknown:
                            :...percent_of_income &lt;= 3: no (9.5)
                                percent_of_income &gt; 3: yes (9.3/2.4)

-----  Trial 2:  -----

Decision tree:

months_loan_duration &lt;= 8:
:...existing_loans_count &gt; 1: no (19.1)
:   existing_loans_count &lt;= 1:
:   :...amount &lt;= 3161: no (45.5/7.7)
:       amount &gt; 3161: yes (6.3/0.6)
months_loan_duration &gt; 8:
:...checking_balance in {&lt; 0 DM,&gt; 200 DM,1 - 200 DM}:
    :...employment_duration = unemployed:
    :   :...months_loan_duration &gt; 33: no (11.4)
    :   :   months_loan_duration &lt;= 33:
    :   :   :...phone = no: yes (11/2.7)
    :   :       phone = yes: no (15.5/6.5)
    :   employment_duration = 4 - 7 years:
    :   :...months_loan_duration &lt;= 22: no (44.7/6.7)
    :   :   months_loan_duration &gt; 22:
    :   :   :...job = management: no (4.6/0.6)
    :   :       job in {unemployed,unskilled}: yes (4.6/1.3)
    :   :       job = skilled:
    :   :       :...savings_balance in {&lt; 100 DM,&gt; 1000 DM,
    :   :           :                   500 - 1000 DM}: yes (22.5/7.8)
    :   :           savings_balance in {100 - 500 DM,unknown}: no (8.8/2.1)
    :   employment_duration = &gt; 7 years:
    :   :...amount &gt; 6948: yes (13/1.3)
    :   :   amount &lt;= 6948:
    :   :   :...purpose in {business,car0,education}: yes (22.8/7.8)
    :   :       purpose = renovations: no (1.3)
    :   :       purpose = car:
    :   :       :...job = unemployed: no (0)
    :   :       :   job = unskilled: yes (6.9)
    :   :       :   job in {management,skilled}:
    :   :       :   :...years_at_residence &lt;= 1: yes (2.5)
    :   :       :       years_at_residence &gt; 1: no (28.6/7.1)
    :   :       purpose = furniture/appliances:
    :   :       :...other_credit in {bank,store}: yes (7.3/2.1)
    :   :           other_credit = none:
    :   :           :...job = management: yes (5.1/1.3)
    :   :               job in {skilled,unemployed,unskilled}: no (29.2/3.4)
    :   employment_duration = 1 - 4 years:
    :   :...savings_balance = &gt; 1000 DM: no (6.4)
    :   :   savings_balance in {&lt; 100 DM,100 - 500 DM,500 - 1000 DM,unknown}:
    :   :   :...housing = other: yes (12/1.9)
    :   :       housing in {own,rent}:
    :   :       :...credit_history in {perfect,poor,very good}: no (29.3/8.6)
    :   :           credit_history = critical:
    :   :           :...months_loan_duration &lt;= 16: no (10.6/0.6)
    :   :           :   months_loan_duration &gt; 16: yes (14.5/4.1)
    :   :           credit_history = good:
    :   :           :...phone = no: yes (81.6/33.5)
    :   :               phone = yes: no (30.2/11)
    :   employment_duration = &lt; 1 year:
    :   :...savings_balance in {&gt; 1000 DM,unknown}: no (9.1/1.9)
    :       savings_balance in {100 - 500 DM,500 - 1000 DM}: yes (15.6/3.4)
    :       savings_balance = &lt; 100 DM:
    :       :...housing = other: no (4.7)
    :           housing in {own,rent}:
    :           :...years_at_residence &gt; 1: yes (41.6/11)
    :               years_at_residence &lt;= 1:
    :               :...job in {management,unskilled}: no (13.9/4.9)
    :                   job = unemployed: yes (2.1)
    :                   job = skilled:
    :                   :...percent_of_income &lt;= 3: yes (12.3/3.3)
    :                       percent_of_income &gt; 3: no (9.7/0.6)
    checking_balance = unknown:
    :...other_credit in {bank,store}:
        :...employment_duration in {1 - 4 years,unemployed}: yes (31.9/7.2)
        :   employment_duration in {&lt; 1 year,&gt; 7 years,4 - 7 years}:
        :   :...other_credit = store: no (8.1)
        :       other_credit = bank:
        :       :...age &lt;= 43: yes (22/8.6)
        :           age &gt; 43: no (9)
        other_credit = none:
        :...age &gt; 30: no (134.2/16.1)
            age &lt;= 30:
            :...amount &gt; 6458: yes (14.1/2.6)
                amount &lt;= 6458:
                :...age &lt;= 22: yes (17.4/5.9)
                    age &gt; 22:
                    :...percent_of_income &lt;= 3: no (22.7)
                        percent_of_income &gt; 3:
                        :...job = unemployed: no (0)
                            job in {management,unskilled}: yes (12.5/3.9)
                            job = skilled:
                            :...purpose in {business,education,
                                :           renovations}: yes (8.6/1.9)
                                purpose in {car,car0,
                                            furniture/appliances}: no (14.9)

-----  Trial 3:  -----

Decision tree:

amount &gt; 11054:
:...credit_history in {critical,good,perfect}: yes (24.9/2.7)
:   credit_history in {poor,very good}: no (4.7/0.5)
amount &lt;= 11054:
:...checking_balance in {&gt; 200 DM,unknown}:
    :...employment_duration = &gt; 7 years: no (91/18.6)
    :   employment_duration = unemployed: yes (14.3/6.6)
    :   employment_duration = 1 - 4 years:
    :   :...job = management: yes (16.6/6.6)
    :   :   job in {skilled,unemployed,unskilled}: no (113.5/30.7)
    :   employment_duration = 4 - 7 years:
    :   :...age &lt;= 22: yes (5.2/1.3)
    :   :   age &gt; 22: no (49.9/4.7)
    :   employment_duration = &lt; 1 year:
    :   :...purpose in {car,car0}: no (13.3)
    :       purpose in {business,education,furniture/appliances,renovations}:
    :       :...amount &gt; 6681: yes (7)
    :           amount &lt;= 6681:
    :           :...other_credit in {bank,store}: no (4)
    :               other_credit = none:
    :               :...months_loan_duration &gt; 33: no (2.5)
    :                   months_loan_duration &lt;= 33:
    :                   :...amount &lt;= 1503: no (12.7/2.3)
    :                       amount &gt; 1503: yes (18.3/5)
    checking_balance in {&lt; 0 DM,1 - 200 DM}:
    :...credit_history = perfect:
        :...percent_of_income &lt;= 3: no (16.5/5.9)
        :   percent_of_income &gt; 3: yes (6.9)
        credit_history = poor:
        :...percent_of_income &lt;= 1: no (7.2)
        :   percent_of_income &gt; 1:
        :   :...savings_balance in {&lt; 100 DM,&gt; 1000 DM,
        :       :                   500 - 1000 DM}: yes (19.2/3.9)
        :       savings_balance in {100 - 500 DM,unknown}: no (12.8/2.3)
        credit_history = very good:
        :...other_credit = none: yes (10.6)
        :   other_credit in {bank,store}:
        :   :...months_loan_duration &lt;= 9: yes (4.7)
        :       months_loan_duration &gt; 9: no (20.6/8.1)
        credit_history = critical:
        :...years_at_residence &lt;= 1: no (7.5)
        :   years_at_residence &gt; 1:
        :   :...savings_balance in {&gt; 1000 DM,100 - 500 DM,
        :       :                   unknown}: no (16.3/2.4)
        :       savings_balance = 500 - 1000 DM: yes (2.8/0.5)
        :       savings_balance = &lt; 100 DM:
        :       :...dependents &gt; 1: no (12.9/0.5)
        :           dependents &lt;= 1:
        :           :...other_credit = bank: yes (6.7/0.5)
        :               other_credit = store: no (1.7/0.5)
        :               other_credit = none:
        :               :...age &gt; 61: no (6.4)
        :                   age &lt;= 61:
        :                   :...existing_loans_count &gt; 2: no (3.3)
        :                       existing_loans_count &lt;= 2:
        :                       :...job in {management,unemployed,
        :                           :       unskilled}: yes (14.6/2.7)
        :                           job = skilled: no (41.3/17.6)
        credit_history = good:
        :...purpose in {business,car0,education,renovations}: no (40.7/12.7)
            purpose = furniture/appliances:
            :...months_loan_duration &lt;= 7: no (10.6)
            :   months_loan_duration &gt; 7:
            :   :...phone = no: no (123.2/45.7)
            :       phone = yes:
            :       :...years_at_residence &lt;= 3: yes (27.8/6.6)
            :           years_at_residence &gt; 3: no (9.4/3.1)
            purpose = car:
            :...employment_duration = unemployed: no (7.1)
                employment_duration in {&lt; 1 year,&gt; 7 years,1 - 4 years,
                :                       4 - 7 years}:
                :...dependents &gt; 1: no (17.3/5.8)
                    dependents &lt;= 1:
                    :...percent_of_income &lt;= 2:
                        :...amount &lt;= 2697: yes (8.6/1.3)
                        :   amount &gt; 2697: no (15.4/2.2)
                        percent_of_income &gt; 2:
                        :...percent_of_income &lt;= 3: yes (17/2.3)
                            percent_of_income &gt; 3:
                            :...phone = yes: no (5.7/1.1)
                                phone = no:
                                :...checking_balance = &lt; 0 DM: yes (16.7/1.3)
                                    checking_balance = 1 - 200 DM: no (10.6/4.3)

-----  Trial 4:  -----

Decision tree:

checking_balance = unknown:
:...other_credit in {bank,store}:
:   :...employment_duration in {&lt; 1 year,4 - 7 years}: no (16.1/3.4)
:   :   employment_duration = unemployed: yes (5.8/1.9)
:   :   employment_duration = &gt; 7 years:
:   :   :...age &lt;= 41: yes (16.4/6)
:   :   :   age &gt; 41: no (7.7)
:   :   employment_duration = 1 - 4 years:
:   :   :...years_at_residence &lt;= 1: no (3.1)
:   :       years_at_residence &gt; 1:
:   :       :...amount &lt;= 1503: no (3.6)
:   :           amount &gt; 1503: yes (26.3/6)
:   other_credit = none:
:   :...credit_history in {perfect,very good}: no (2.8)
:       credit_history = critical:
:       :...age &gt; 30: no (45.3)
:       :   age &lt;= 30:
:       :   :...purpose in {business,car,car0,furniture/appliances,
:       :       :           renovations}: no (21.4/3.9)
:       :       purpose = education: yes (3)
:       credit_history = poor:
:       :...dependents &gt; 1: yes (8.2/1.8)
:       :   dependents &lt;= 1:
:       :   :...age &lt;= 29: yes (11.8/4.6)
:       :       age &gt; 29: no (9.9)
:       credit_history = good:
:       :...existing_loans_count &gt; 1:
:           :...percent_of_income &lt;= 2: yes (13/0.4)
:           :   percent_of_income &gt; 2: no (7.5/1.3)
:           existing_loans_count &lt;= 1:
:           :...percent_of_income &lt;= 2: no (30.9/1.3)
:               percent_of_income &gt; 2:
:               :...employment_duration = &gt; 7 years: no (11.2)
:                   employment_duration in {&lt; 1 year,1 - 4 years,4 - 7 years,
:                   :                       unemployed}:
:                   :...job in {management,unemployed}: no (10.7/4.9)
:                       job = unskilled: yes (10/3.6)
:                       job = skilled:
:                       :...age &lt;= 23: yes (9.3/2.6)
:                           age &gt; 23: no (17.9)
checking_balance in {&lt; 0 DM,&gt; 200 DM,1 - 200 DM}:
:...credit_history = very good:
    :...age &lt;= 23: no (3)
    :   age &gt; 23: yes (38.4/9.1)
    credit_history = perfect:
    :...housing in {other,rent}: yes (9.1)
    :   housing = own:
    :   :...percent_of_income &gt; 3: yes (5)
    :       percent_of_income &lt;= 3:
    :       :...other_credit in {bank,none}: no (16/3.9)
    :           other_credit = store: yes (2.7)
    credit_history = poor:
    :...savings_balance in {&gt; 1000 DM,500 - 1000 DM}: yes (0)
    :   savings_balance = unknown: no (5.9)
    :   savings_balance in {&lt; 100 DM,100 - 500 DM}:
    :   :...housing = rent: no (4.7/0.4)
    :       housing in {other,own}:
    :       :...percent_of_income &lt;= 2: no (14.4/3.7)
    :           percent_of_income &gt; 2: yes (16.9/2.7)
    credit_history = good:
    :...amount &gt; 8648: yes (19.4/2.4)
    :   amount &lt;= 8648:
    :   :...purpose in {business,car0}: no (18/4.2)
    :       purpose = renovations: yes (7.1/3)
    :       purpose = education:
    :       :...checking_balance = &lt; 0 DM: yes (12.1/1.4)
    :       :   checking_balance in {&gt; 200 DM,1 - 200 DM}: no (8.7/1.1)
    :       purpose = car:
    :       :...employment_duration = unemployed: no (5.9)
    :       :   employment_duration in {&lt; 1 year,&gt; 7 years,1 - 4 years,
    :       :   :                       4 - 7 years}:
    :       :   :...job in {management,unemployed}: no (8.6/2.4)
    :       :       job = unskilled: yes (31.1/10.2)
    :       :       job = skilled:
    :       :       :...housing in {other,rent}: yes (24.2/6.4)
    :       :           housing = own:
    :       :           :...dependents &gt; 1: no (4.3)
    :       :               dependents &lt;= 1:
    :       :               :...existing_loans_count &gt; 1: no (3.6)
    :       :                   existing_loans_count &lt;= 1:
    :       :                   :...months_loan_duration &lt;= 13: no (9.2/1.5)
    :       :                       months_loan_duration &gt; 13: yes (11.6/1.4)
    :       purpose = furniture/appliances:
    :       :...savings_balance in {&gt; 1000 DM,500 - 1000 DM}: no (8.8/1.8)
    :           savings_balance = 100 - 500 DM: yes (16.1/3.5)
    :           savings_balance = unknown:
    :           :...employment_duration in {&lt; 1 year,&gt; 7 years,1 - 4 years,
    :           :   :                       unemployed}: yes (20.8/6.5)
    :           :   employment_duration = 4 - 7 years: no (4.9)
    :           savings_balance = &lt; 100 DM:
    :           :...years_at_residence &lt;= 1: no (31.1/9.5)
    :               years_at_residence &gt; 1:
    :               :...other_credit in {bank,store}: yes (14.9/4.8)
    :                   other_credit = none:
    :                   :...months_loan_duration &gt; 42: yes (5.5)
    :                       months_loan_duration &lt;= 42:
    :                       :...job in {management,unemployed}: no (11.9/3.4)
    :                           job in {skilled,unskilled}:
    :                           :...age &lt;= 22: yes (11.8/2.7)
    :                               age &gt; 22: no (76.6/33.4)
    credit_history = critical:
    :...savings_balance in {&gt; 1000 DM,100 - 500 DM,unknown}: no (23.6/5.9)
        savings_balance = 500 - 1000 DM: yes (6.2/1.6)
        savings_balance = &lt; 100 DM:
        :...dependents &gt; 1: no (12.2/1.1)
            dependents &lt;= 1:
            :...age &gt; 61: no (5.7)
                age &lt;= 61:
                :...years_at_residence &lt;= 1: no (6.1/1)
                    years_at_residence &gt; 1:
                    :...other_credit in {bank,store}: yes (8.3/2.1)
                        other_credit = none:
                        :...amount &gt; 5998: yes (7)
                            amount &lt;= 5998:
                            :...existing_loans_count &lt;= 1: no (11.6/3.9)
                                existing_loans_count &gt; 1:
                                :...existing_loans_count &gt; 2: no (2.7)
                                    existing_loans_count &lt;= 2:
                                    :...age &gt; 54: yes (3.9)
                                        age &lt;= 54:
                                        :...age &gt; 44: no (5)
                                            age &lt;= 44:
                                            :...amount &lt;= 5324: yes (30.9/10.8)
                                                amount &gt; 5324: no (2.7)

-----  Trial 5:  -----

Decision tree:

checking_balance = unknown:
:...other_credit = store: no (17.3/6.3)
:   other_credit = bank:
:   :...purpose = business: yes (8.9/4.1)
:   :   purpose in {car0,education,renovations}: no (7.2/1.8)
:   :   purpose = car:
:   :   :...credit_history in {critical,perfect,poor,very good}: yes (17.2/4.4)
:   :   :   credit_history = good: no (3.5)
:   :   purpose = furniture/appliances:
:   :   :...months_loan_duration &lt;= 13: yes (6.5/1.6)
:   :       months_loan_duration &gt; 13: no (17.4/2.5)
:   other_credit = none:
:   :...credit_history in {perfect,very good}: no (2.3)
:       credit_history = critical:
:       :...amount &lt;= 6967: no (50.3/2.5)
:       :   amount &gt; 6967: yes (8.9/3.4)
:       credit_history = good:
:       :...existing_loans_count &lt;= 1: no (86.1/19.3)
:       :   existing_loans_count &gt; 1:
:       :   :...percent_of_income &lt;= 2: yes (11.5/1.2)
:       :       percent_of_income &gt; 2: no (7.2/2.1)
:       credit_history = poor:
:       :...percent_of_income &lt;= 3: no (13.6/1)
:           percent_of_income &gt; 3:
:           :...amount &lt;= 1526: no (3.4)
:               amount &gt; 1526: yes (15.7/5.7)
checking_balance in {&lt; 0 DM,&gt; 200 DM,1 - 200 DM}:
:...savings_balance in {&gt; 1000 DM,500 - 1000 DM}: no (33.1/13.9)
    savings_balance = 100 - 500 DM:
    :...existing_loans_count &gt; 3: yes (3.5)
    :   existing_loans_count &lt;= 3:
    :   :...credit_history in {critical,poor}: no (12/1.4)
    :       credit_history in {perfect,very good}: yes (9.7/2.8)
    :       credit_history = good:
    :       :...months_loan_duration &gt; 30: yes (6.3)
    :           months_loan_duration &lt;= 30:
    :           :...amount &lt;= 836: yes (3.8)
    :               amount &gt; 836: no (25.9/7.2)
    savings_balance = unknown:
    :...months_loan_duration &lt;= 11: no (9.8)
    :   months_loan_duration &gt; 11:
    :   :...months_loan_duration &gt; 36: no (8.3)
    :       months_loan_duration &lt;= 36:
    :       :...purpose in {business,education,renovations}: no (8.9/1.8)
    :           purpose = car0: yes (1.8)
    :           purpose = car:
    :           :...amount &lt;= 1804: yes (9.3)
    :           :   amount &gt; 1804: no (14.4/4.1)
    :           purpose = furniture/appliances:
    :           :...housing in {other,rent}: yes (6.8/0.7)
    :               housing = own: no (25.6/8.1)
    savings_balance = &lt; 100 DM:
    :...months_loan_duration &gt; 47: yes (29.2/4.2)
        months_loan_duration &lt;= 47:
        :...credit_history in {perfect,very good}: yes (42.5/16.6)
            credit_history = poor:
            :...phone = no: no (10.6/2.3)
            :   phone = yes: yes (15.2/2.5)
            credit_history = critical:
            :...dependents &gt; 1: no (11/2)
            :   dependents &lt;= 1:
            :   :...housing = other: no (3.3)
            :       housing = rent: yes (14.4/4.7)
            :       housing = own:
            :       :...purpose in {business,car0,renovations}: no (6.4/1.8)
            :           purpose = education: yes (2.8/0.4)
            :           purpose = car:
            :           :...age &lt;= 29: yes (5.3)
            :           :   age &gt; 29: no (20.3/5.1)
            :           purpose = furniture/appliances:
            :           :...phone = yes: no (4.6)
            :               phone = no:
            :               :...years_at_residence &lt;= 3: yes (14.4/4.8)
            :                   years_at_residence &gt; 3: no (9.3/0.8)
            credit_history = good:
            :...job = unemployed: yes (2.9)
                job = management:
                :...amount &lt;= 7582: no (18.8/3.8)
                :   amount &gt; 7582: yes (11.1/2)
                job = skilled:
                :...employment_duration = 1 - 4 years: yes (61/25.1)
                :   employment_duration = unemployed: no (2.1)
                :   employment_duration = &lt; 1 year:
                :   :...amount &lt;= 3124: yes (32.1/10.7)
                :   :   amount &gt; 3124: no (6.1)
                :   employment_duration = &gt; 7 years:
                :   :...age &lt;= 33: no (3.7)
                :   :   age &gt; 33: yes (15.5/4.9)
                :   employment_duration = 4 - 7 years:
                :   :...dependents &lt;= 1: yes (20/8.3)
                :       dependents &gt; 1: no (5.5/0.9)
                job = unskilled:
                :...months_loan_duration &lt;= 8: no (5.7)
                    months_loan_duration &gt; 8:
                    :...employment_duration in {&lt; 1 year,
                        :                       unemployed}: yes (21.8/5.6)
                        employment_duration in {&gt; 7 years,
                        :                       4 - 7 years}: no (13.3/4.3)
                        employment_duration = 1 - 4 years:
                        :...phone = yes: yes (3.8/0.4)
                            phone = no:
                            :...checking_balance in {&lt; 0 DM,
                                :                    1 - 200 DM}: no (26.4/9.3)
                                checking_balance = &gt; 200 DM: yes (4.9)

-----  Trial 6:  -----

Decision tree:

checking_balance in {&gt; 200 DM,unknown}:
:...purpose in {business,car0}: no (47.2/16.3)
:   purpose = renovations: yes (6.8/3)
:   purpose = education:
:   :...years_at_residence &lt;= 2: yes (11/2)
:   :   years_at_residence &gt; 2: no (14.3/4.9)
:   purpose = car:
:   :...other_credit in {none,store}: no (82.6/19.2)
:   :   other_credit = bank:
:   :   :...existing_loans_count &lt;= 1: no (11.2/3.9)
:   :       existing_loans_count &gt; 1: yes (13.4/3.5)
:   purpose = furniture/appliances:
:   :...age &gt; 44: no (20.8)
:       age &lt;= 44:
:       :...credit_history in {critical,poor,very good}: no (42.4/8.2)
:           credit_history = perfect: yes (1.8/0.6)
:           credit_history = good:
:           :...existing_loans_count &gt; 1: yes (14.7/4)
:               existing_loans_count &lt;= 1:
:               :...job in {management,skilled,unemployed}: no (51.6/13.3)
:                   job = unskilled: yes (16.8/4.1)
checking_balance in {&lt; 0 DM,1 - 200 DM}:
:...years_at_residence &lt;= 1:
    :...employment_duration = unemployed: yes (6.4)
    :   employment_duration in {&lt; 1 year,&gt; 7 years,1 - 4 years,4 - 7 years}:
    :   :...housing in {other,own}: no (78/21.9)
    :       housing = rent: yes (9.7/3.2)
    years_at_residence &gt; 1:
    :...employment_duration = 4 - 7 years: no (67/24.6)
        employment_duration = unemployed:
        :...dependents &gt; 1: yes (7.5/0.6)
        :   dependents &lt;= 1:
        :   :...credit_history in {critical,good,very good}: no (23/2.7)
        :       credit_history in {perfect,poor}: yes (5.5/0.9)
        employment_duration = &lt; 1 year:
        :...savings_balance in {&gt; 1000 DM,100 - 500 DM,
        :   :                   500 - 1000 DM}: yes (17.6/2.4)
        :   savings_balance = unknown: no (6/2.1)
        :   savings_balance = &lt; 100 DM:
        :   :...months_loan_duration &gt; 22: yes (22.2/3)
        :       months_loan_duration &lt;= 22:
        :       :...dependents &gt; 1: no (2.1)
        :           dependents &lt;= 1:
        :           :...months_loan_duration &lt;= 12: yes (8.4/2)
        :               months_loan_duration &gt; 12: no (14.6/2.8)
        employment_duration = &gt; 7 years:
        :...months_loan_duration &gt; 40: yes (5.8)
        :   months_loan_duration &lt;= 40:
        :   :...purpose in {business,car0,education}: yes (20.2/6.2)
        :       purpose = renovations: no (1.3)
        :       purpose = furniture/appliances:
        :       :...years_at_residence &lt;= 3: yes (15.3/3.3)
        :       :   years_at_residence &gt; 3:
        :       :   :...amount &lt;= 5711: no (21.9/3.7)
        :       :       amount &gt; 5711: yes (5.3)
        :       purpose = car:
        :       :...months_loan_duration &lt;= 18: yes (18.6/4.1)
        :           months_loan_duration &gt; 18:
        :           :...job = unemployed: no (0)
        :               job = unskilled: yes (2.3)
        :               job in {management,skilled}:
        :               :...existing_loans_count &lt;= 3: no (18.3/2.8)
        :                   existing_loans_count &gt; 3: yes (2.1)
        employment_duration = 1 - 4 years:
        :...savings_balance = &gt; 1000 DM: no (2.9)
            savings_balance in {100 - 500 DM,500 - 1000 DM}: yes (20.2/6.7)
            savings_balance = unknown:
            :...other_credit in {bank,store}: no (2.8)
            :   other_credit = none: yes (17.4/7.3)
            savings_balance = &lt; 100 DM:
            :...months_loan_duration &gt; 36: yes (11.3)
                months_loan_duration &lt;= 36:
                :...purpose in {business,education,
                    :           renovations}: yes (12.4/3.2)
                    purpose = car0: no (3/1.4)
                    purpose = car:
                    :...housing = other: yes (1)
                    :   housing = rent: no (13.1/1.3)
                    :   housing = own:
                    :   :...dependents &gt; 1: no (3.4)
                    :       dependents &lt;= 1:
                    :       :...years_at_residence &lt;= 3: yes (12.5/3.7)
                    :           years_at_residence &gt; 3: no (6.7/0.7)
                    purpose = furniture/appliances:
                    :...months_loan_duration &gt; 24: no (5.6)
                        months_loan_duration &lt;= 24:
                        :...other_credit = bank: yes (9.3/2.7)
                            other_credit = store: no (4.3)
                            other_credit = none:
                            :...percent_of_income &lt;= 1: yes (4.9)
                                percent_of_income &gt; 1:
                                :...amount &lt;= 1164: no (14)
                                    amount &gt; 1164:
                                    :...phone = yes: yes (4.4)
                                        phone = no:
                                        :...age &lt;= 24: yes (13.6/1.9)
                                            age &gt; 24: no (23.6/7.8)

-----  Trial 7:  -----

Decision tree:

months_loan_duration &lt;= 8:
:...existing_loans_count &gt; 1: no (12.1)
:   existing_loans_count &lt;= 1:
:   :...amount &gt; 3161: yes (6.1/0.6)
:       amount &lt;= 3161:
:       :...age &lt;= 25: yes (9.4/3.2)
:           age &gt; 25: no (33/2.6)
months_loan_duration &gt; 8:
:...checking_balance = &lt; 0 DM:
    :...credit_history = critical: no (45.5/18.9)
    :   credit_history in {perfect,poor,very good}: yes (50.8/15.6)
    :   credit_history = good:
    :   :...purpose in {business,car0}: no (7.7/1.3)
    :       purpose in {education,renovations}: yes (11.2/2.8)
    :       purpose = car:
    :       :...savings_balance in {&gt; 1000 DM,100 - 500 DM}: no (2.9)
    :       :   savings_balance in {500 - 1000 DM,unknown}: yes (10.9/3.1)
    :       :   savings_balance = &lt; 100 DM:
    :       :   :...years_at_residence &lt;= 2: yes (18.3/3)
    :       :       years_at_residence &gt; 2:
    :       :       :...existing_loans_count &lt;= 1: no (23.8/9.1)
    :       :           existing_loans_count &gt; 1: yes (2.4)
    :       purpose = furniture/appliances:
    :       :...savings_balance in {&gt; 1000 DM,500 - 1000 DM}: no (1.7)
    :           savings_balance in {100 - 500 DM,unknown}: yes (15/3.3)
    :           savings_balance = &lt; 100 DM:
    :           :...phone = yes: yes (15.5/2.6)
    :               phone = no:
    :               :...years_at_residence &lt;= 1: no (13.4/1.3)
    :                   years_at_residence &gt; 1:
    :                   :...percent_of_income &lt;= 1: no (6.6/1)
    :                       percent_of_income &gt; 1:
    :                       :...age &lt;= 23: yes (7.5)
    :                           age &gt; 23:
    :                           :...housing in {other,rent}: no (6.1/0.6)
    :                               housing = own:
    :                               :...months_loan_duration &gt; 28: yes (7.7)
    :                                   months_loan_duration &lt;= 28:
    :                                   :...other_credit in {bank,
    :                                       :                store}: yes (8.1/2.1)
    :                                       other_credit = none: no (19.7/5.9)
    checking_balance in {&gt; 200 DM,1 - 200 DM,unknown}:
    :...savings_balance = &gt; 1000 DM:
        :...housing = other: yes (5.5)
        :   housing in {own,rent}:
        :   :...existing_loans_count &lt;= 2: no (16.6)
        :       existing_loans_count &gt; 2: yes (2.1)
        savings_balance = 100 - 500 DM:
        :...purpose in {business,car0,renovations}: no (15.7/1.9)
        :   purpose = education: yes (7/0.5)
        :   purpose = furniture/appliances:
        :   :...months_loan_duration &lt;= 27: no (16.6/3.8)
        :   :   months_loan_duration &gt; 27: yes (3.8)
        :   purpose = car:
        :   :...dependents &gt; 1: yes (4.2/0.5)
        :       dependents &lt;= 1:
        :       :...age &lt;= 29: yes (12/2.8)
        :           age &gt; 29: no (10.7/1.8)
        savings_balance = 500 - 1000 DM:
        :...existing_loans_count &gt; 2: yes (3.5)
        :   existing_loans_count &lt;= 2:
        :   :...job in {management,unemployed}: no (6)
        :       job in {skilled,unskilled}:
        :       :...other_credit = bank: yes (4.7)
        :           other_credit in {none,store}: no (21.8/7.7)
        savings_balance = unknown:
        :...purpose in {business,car,car0,education,
        :   :           renovations}: no (69.3/20.1)
        :   purpose = furniture/appliances:
        :   :...months_loan_duration &gt; 18: no (16.8/1.2)
        :       months_loan_duration &lt;= 18:
        :       :...age &lt;= 24: no (5)
        :           age &gt; 24: yes (21.6/6.9)
        savings_balance = &lt; 100 DM:
        :...months_loan_duration &gt; 26:
            :...years_at_residence &lt;= 1: no (14.4/4.8)
            :   years_at_residence &gt; 1:
            :   :...percent_of_income &lt;= 1: no (8.6/2.5)
            :       percent_of_income &gt; 1: yes (66.3/17.7)
            months_loan_duration &lt;= 26:
            :...age &gt; 47: no (16/0.6)
                age &lt;= 47:
                :...dependents &gt; 1:
                    :...age &lt;= 33: no (5.3)
                    :   age &gt; 33:
                    :   :...existing_loans_count &gt; 2: no (2.1)
                    :       existing_loans_count &lt;= 2:
                    :       :...months_loan_duration &lt;= 11: no (2.6)
                    :           months_loan_duration &gt; 11: yes (21.7/1)
                    dependents &lt;= 1:
                    :...existing_loans_count &gt; 1:
                        :...amount &lt;= 8133: no (61.5/14.6)
                        :   amount &gt; 8133: yes (5.4)
                        existing_loans_count &lt;= 1:
                        :...purpose in {business,car0,
                            :           education}: no (15.1/6.6)
                            purpose = renovations: yes (2.6)
                            purpose in {car,furniture/appliances}:
                            :...checking_balance = &gt; 200 DM: no (14.1/3.4)
                                checking_balance = unknown:
                                :...age &lt;= 25: yes (12.5/4)
                                :   age &gt; 25: no (11.9)
                                checking_balance = 1 - 200 DM:
                                :...other_credit in {bank,
                                    :                store}: yes (9.4/2.3)
                                    other_credit = none:
                                    :...housing = other: yes (2.3)
                                        housing = rent: no (12.5/4.1)
                                        housing = own:
                                        :...age &gt; 34: yes (7.5/0.5)
                                            age &lt;= 34: [S1]

SubTree [S1]

months_loan_duration &lt;= 9: yes (8.7/2.2)
months_loan_duration &gt; 9: no (21.2/7.2)

-----  Trial 8:  -----

Decision tree:

checking_balance = unknown:
:...employment_duration in {&gt; 7 years,4 - 7 years}:
:   :...months_loan_duration &gt; 24: no (28.1)
:   :   months_loan_duration &lt;= 24:
:   :   :...amount &lt;= 10222: no (75.5/20.4)
:   :       amount &gt; 10222: yes (3.6)
:   employment_duration in {&lt; 1 year,1 - 4 years,unemployed}:
:   :...dependents &gt; 1:
:       :...other_credit in {bank,none}: no (17.2/1.6)
:       :   other_credit = store: yes (2.9/0.4)
:       dependents &lt;= 1:
:       :...amount &gt; 4455: yes (50.2/14.1)
:           amount &lt;= 4455:
:           :...percent_of_income &lt;= 2: no (21.9/3.1)
:               percent_of_income &gt; 2:
:               :...employment_duration = &lt; 1 year: no (8.5/1.2)
:                   employment_duration = unemployed: yes (6.6/1.6)
:                   employment_duration = 1 - 4 years:
:                   :...existing_loans_count &gt; 1: no (20.7/4)
:                       existing_loans_count &lt;= 1:
:                       :...savings_balance in {&gt; 1000 DM,
:                           :                   100 - 500 DM}: no (4.8)
:                           savings_balance in {&lt; 100 DM,500 - 1000 DM,unknown}:
:                           :...other_credit in {bank,store}: yes (5.3)
:                               other_credit = none:
:                               :...age &lt;= 31: yes (21.1/5.9)
:                                   age &gt; 31: no (5.4)
checking_balance in {&lt; 0 DM,&gt; 200 DM,1 - 200 DM}:
:...savings_balance = &gt; 1000 DM: no (12.6/4.4)
    savings_balance = 500 - 1000 DM:
    :...other_credit in {bank,none}: yes (20.8/7.3)
    :   other_credit = store: no (1.6)
    savings_balance = 100 - 500 DM:
    :...existing_loans_count &gt; 3: yes (3.8)
    :   existing_loans_count &lt;= 3:
    :   :...credit_history in {critical,poor}: no (12.9/1.4)
    :       credit_history in {perfect,very good}: yes (12.3/3.8)
    :       credit_history = good:
    :       :...months_loan_duration &gt; 30: yes (4.1)
    :           months_loan_duration &lt;= 30:
    :           :...housing in {other,rent}: yes (8.3/2.1)
    :               housing = own:
    :               :...purpose in {business,car,car0,education,
    :                   :           renovations}: no (11.2/0.5)
    :                   purpose = furniture/appliances: yes (7.8/2.1)
    savings_balance = unknown:
    :...months_loan_duration &lt;= 11: no (6.9)
    :   months_loan_duration &gt; 11:
    :   :...job in {management,unemployed,unskilled}: no (22.6/7)
    :       job = skilled:
    :       :...purpose in {car0,renovations}: yes (0)
    :           purpose in {business,education}: no (10.5)
    :           purpose in {car,furniture/appliances}:
    :           :...amount &lt;= 1412: yes (7.7)
    :               amount &gt; 1412:
    :               :...existing_loans_count &gt; 1: no (4.5)
    :                   existing_loans_count &lt;= 1:
    :                   :...amount &gt; 10366: yes (2.6)
    :                       amount &lt;= 10366:
    :                       :...purpose = car: no (10.6/3.4)
    :                           purpose = furniture/appliances: yes (15.5/6.2)
    savings_balance = &lt; 100 DM:
    :...months_loan_duration &lt;= 15:
        :...credit_history in {perfect,very good}: yes (20.7/7.6)
        :   credit_history = poor: no (7.6/1.8)
        :   credit_history = critical:
        :   :...dependents &gt; 1: no (4.5)
        :   :   dependents &lt;= 1:
        :   :   :...job in {unemployed,unskilled}: no (5.8)
        :   :       job in {management,skilled}:
        :   :       :...percent_of_income &lt;= 3: yes (10.5/2.7)
        :   :           percent_of_income &gt; 3: no (15.5/3.4)
        :   credit_history = good:
        :   :...phone = yes:
        :       :...amount &lt;= 3021: no (17.8/0.6)
        :       :   amount &gt; 3021: yes (4.2/0.2)
        :       phone = no:
        :       :...purpose in {business,car0,renovations}: no (4.3/1)
        :           purpose = education: yes (4.7)
        :           purpose = car:
        :           :...months_loan_duration &gt; 13: no (2.8)
        :           :   months_loan_duration &lt;= 13:
        :           :   :...checking_balance in {&lt; 0 DM,
        :           :       :                    1 - 200 DM}: yes (20.6/4.8)
        :           :       checking_balance = &gt; 200 DM: no (2.3)
        :           purpose = furniture/appliances:
        :           :...other_credit = bank: no (3.6)
        :               other_credit = store: yes (4.1)
        :               other_credit = none:
        :               :...checking_balance = &lt; 0 DM: no (15.7/1.8)
        :                   checking_balance in {&gt; 200 DM,1 - 200 DM}:
        :                   :...months_loan_duration &lt;= 7: no (4.6)
        :                       months_loan_duration &gt; 7:
        :                       :...amount &gt; 2625: no (2.8)
        :                           amount &lt;= 2625:
        :                           :...amount &lt;= 601: no (2.4)
        :                               amount &gt; 601: yes (24.7/5.6)
        months_loan_duration &gt; 15:
        :...months_loan_duration &gt; 47: yes (28.1/4.8)
            months_loan_duration &lt;= 47:
            :...amount &lt;= 2320: yes (83.1/19.4)
                amount &gt; 2320:
                :...percent_of_income &lt;= 1:
                    :...amount &lt;= 11054: no (24/4.1)
                    :   amount &gt; 11054: yes (2.3)
                    percent_of_income &gt; 1:
                    :...credit_history = perfect: no (12.6/5.2)
                        credit_history in {poor,very good}: yes (12.1/2.4)
                        credit_history = critical:
                        :...age &lt;= 31: yes (12.8/2)
                        :   age &gt; 31: no (16.6/3)
                        credit_history = good:
                        :...other_credit = store: no (4.9)
                            other_credit in {bank,none}:
                            :...job = management: no (16.2/6.3)
                                job in {unemployed,unskilled}: yes (14.8/4.3)
                                job = skilled:
                                :...housing = other: no (3.8)
                                    housing in {own,rent}: [S1]

SubTree [S1]

checking_balance = &lt; 0 DM: yes (22.4/4.4)
checking_balance in {&gt; 200 DM,1 - 200 DM}: no (19.1/6.6)

-----  Trial 9:  -----

Decision tree:

checking_balance in {&gt; 200 DM,unknown}:
:...purpose in {business,education,renovations}:
:   :...employment_duration = 4 - 7 years: no (9.1)
:   :   employment_duration in {&lt; 1 year,&gt; 7 years,1 - 4 years,unemployed}:
:   :   :...other_credit = store: yes (7.1/0.4)
:   :       other_credit in {bank,none}:
:   :       :...credit_history in {critical,perfect}: no (19.3/4.7)
:   :           credit_history in {good,poor,very good}: yes (38.8/11.6)
:   purpose in {car,car0,furniture/appliances}:
:   :...existing_loans_count &lt;= 1: no (147.5/30.2)
:       existing_loans_count &gt; 1:
:       :...checking_balance = &gt; 200 DM: yes (12.9/4.2)
:           checking_balance = unknown:
:           :...housing = other: no (4.5)
:               housing = rent: yes (11.7/3.6)
:               housing = own:
:               :...months_loan_duration &lt;= 16: no (18.7)
:                   months_loan_duration &gt; 16:
:                   :...credit_history in {good,perfect,
:                       :                  very good}: yes (12.4/1.9)
:                       credit_history in {critical,poor}:
:                       :...percent_of_income &lt;= 2: no (11.3)
:                           percent_of_income &gt; 2:
:                           :...employment_duration in {&lt; 1 year,4 - 7 years,
:                               :                       unemployed}: no (10.9)
:                               employment_duration in {&gt; 7 years,1 - 4 years}: [S1]
checking_balance in {&lt; 0 DM,1 - 200 DM}:
:...months_loan_duration &gt; 26:
    :...months_loan_duration &gt; 47: yes (29.7/5.5)
    :   months_loan_duration &lt;= 47:
    :   :...dependents &lt;= 1: yes (86.5/30.6)
    :       dependents &gt; 1: no (14.8/5.1)
    months_loan_duration &lt;= 26:
    :...housing = other:
        :...amount &gt; 7409: yes (7.9)
        :   amount &lt;= 7409:
        :   :...job in {management,skilled}: no (22.5/4.7)
        :       job in {unemployed,unskilled}: yes (5)
        housing = rent:
        :...credit_history = perfect: yes (6.6)
        :   credit_history in {critical,good,poor,very good}:
        :   :...other_credit in {bank,store}: yes (18.4/5.6)
        :       other_credit = none:
        :       :...months_loan_duration &gt; 22:
        :           :...percent_of_income &lt;= 2: no (7.3/2.6)
        :           :   percent_of_income &gt; 2: yes (14.7/1.4)
        :           months_loan_duration &lt;= 22:
        :           :...job in {management,unemployed,unskilled}: no (16.8/1.9)
        :               job = skilled:
        :               :...credit_history = very good: yes (0)
        :                   credit_history in {critical,poor}: no (12/3)
        :                   credit_history = good:
        :                   :...amount &lt;= 1382: yes (9.6)
        :                       amount &gt; 1382: no (16.2/5.5)
        housing = own:
        :...employment_duration = unemployed: yes (16.9/4.2)
            employment_duration in {&lt; 1 year,&gt; 7 years,1 - 4 years,4 - 7 years}:
            :...savings_balance in {&gt; 1000 DM,500 - 1000 DM}: no (16.4/2.8)
                savings_balance = 100 - 500 DM:
                :...amount &lt;= 1442: yes (8.8/1.8)
                :   amount &gt; 1442: no (19.2/1.2)
                savings_balance = unknown:
                :...credit_history in {critical,good,perfect,
                :   :                  poor}: no (30.1/6.7)
                :   credit_history = very good: yes (3.8)
                savings_balance = &lt; 100 DM:
                :...job = management: yes (6.8/2)
                    job in {unemployed,unskilled}: no (69.1/23.1)
                    job = skilled:
                    :...purpose in {education,renovations}: yes (6.3)
                        purpose in {business,car,car0,furniture/appliances}:
                        :...months_loan_duration &lt;= 7: no (7)
                            months_loan_duration &gt; 7:
                            :...credit_history in {perfect,
                                :                  poor}: no (9.4/1.5)
                                credit_history = very good: yes (3.1)
                                credit_history = critical:
                                :...percent_of_income &lt;= 2: no (6.1)
                                :   percent_of_income &gt; 2:
                                :   :...percent_of_income &lt;= 3: yes (4.5)
                                :       percent_of_income &gt; 3: no (16.1/5.3)
                                credit_history = good:
                                :...years_at_residence &gt; 3: no (19.1/3.6)
                                    years_at_residence &lt;= 3:
                                    :...existing_loans_count &gt; 1: no (4.1/0.9)
                                        existing_loans_count &lt;= 1:
                                        :...years_at_residence &gt; 2: yes (14.1/2.8)
                                            years_at_residence &lt;= 2:
                                            :...amount &lt;= 999: yes (6.8/1.4)
                                                amount &gt; 999:
                                                :...age &lt;= 24: yes (10.4/2)
                                                    age &gt; 24: no (18.2/2)

SubTree [S1]

purpose = car: yes (12.4/4.1)
purpose in {car0,furniture/appliances}: no (6.9/1)


Evaluation on training data (900 cases):

Trial	    Decision Tree   
-----	  ----------------  
      Size      Errors  

   0	    66  125(13.9%)
   1	    40  205(22.8%)
   2	    46  196(21.8%)
   3	    45  193(21.4%)
   4	    68  163(18.1%)
   5	    62  175(19.4%)
   6	    56  186(20.7%)
   7	    62  188(20.9%)
   8	    66  156(17.3%)
   9	    49  200(22.2%)
boost	         31( 3.4%)   &lt;&lt;


       (a)   (b)    &lt;-classified as
      ----  ----
       626     6    (a): class no
        25   243    (b): class yes


	Attribute usage:

	100.00%	checking_balance
	100.00%	months_loan_duration
	100.00%	amount
	100.00%	employment_duration
     98.56%	credit_history
     97.44%	savings_balance
     94.11%	purpose
     88.44%	other_credit
     82.44%	existing_loans_count
     80.89%	job
     75.67%	age
     71.89%	percent_of_income
     71.67%	housing
     70.78%	dependents
     69.33%	years_at_residence
     49.56%	phone


Time: 0.0 secs
</code></pre>

</div>

</div>

<script>
  'use strict';

  var containerId = JSON.parse("\"ed5e34bcab38e1af\"");
  var containerElem = document.getElementById(containerId);
  var codetabLinks = null;
  var codetabContents = null;
  var ids = [];

  if (containerElem) {
    codetabLinks = containerElem.querySelectorAll('.codetab__link');
    codetabContents = containerElem.querySelectorAll('.codetab__content');
  }

  for (var i = 0; i < codetabContents.length; i++) {
    ids = ids.concat(codetabContents[i].getAttribute('id'));
    codetabContents[i].style.display = 'none';

    if (0 === parseInt(i, 10) && !codetabContents[i].classList.contains('active')) {
      codetabContents[i].classList.add('active');
    }
  }

  for (var i = 0; i < codetabLinks.length; i++) {
    codetabLinks[i].setAttribute('id', ids[i]);

    if (0 === parseInt(i, 10) && !codetabLinks[i].classList.contains('active')) {
      codetabLinks[i].classList.add('active');
    } else {
      codetabLinks[i].classList.remove('active');
    }
  }

  if (codetabContents.length > 0) {
    codetabContents[0].style.display = 'block';
  }
</script>
<p>åœ¨900ä¸ªè®­ç»ƒæ¡ˆä¾‹ä¸­ï¼Œè¯¥åˆ†ç±»çŠ¯äº†31ä¸ªé”™è¯¯ï¼Œé”™è¯¯çŽ‡ä¸º3.4%ã€‚åŠ å…¥boostingç®—æ³•ä¹‹å‰ï¼Œè®­ç»ƒæ¡ˆä¾‹çš„é”™è¯¯çŽ‡ä¸º13.9%ã€‚è¿™æ˜¯å¾ˆå¤§çš„æé«˜ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="n">credit_boost_pred10</span> <span class="o">&lt;-</span> <span class="nf">predict</span><span class="p">(</span><span class="n">credit_boost10</span><span class="p">,</span> <span class="n">credit_test</span><span class="p">)</span>
<span class="nf">CrossTable</span><span class="p">(</span><span class="n">credit_test</span><span class="o">$</span><span class="n">default</span><span class="p">,</span> <span class="n">credit_boost_pred10</span><span class="p">,</span> <span class="n">prop.chisq</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">,</span> <span class="n">prop.c</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">,</span> <span class="n">prop.r</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">,</span>
           <span class="n">dnn</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#39;actual default&#39;</span><span class="p">,</span> <span class="s">&#39;predicted default&#39;</span><span class="p">))</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-sos" data-lang="sos">     Cell Contents
  |-------------------------|
  |                       N |
  |         N / Table Total |
  |-------------------------|
  
   
  Total Observations in Table:  100 
  
   
                 | predicted default 
  actual default |        no |       yes | Row Total | 
  ---------------|-----------|-----------|-----------|
              no |        60 |         8 |        68 | 
                 |     0.600 |     0.080 |           | 
  ---------------|-----------|-----------|-----------|
             yes |        15 |        17 |        32 | 
                 |     0.150 |     0.170 |           | 
  ---------------|-----------|-----------|-----------|
    Column Total |        75 |        25 |       100 | 
  ---------------|-----------|-----------|-----------|
</code></pre><h5 id="çŠ¯ä¸€äº›æ¯”å…¶ä»–é”™è¯¯æ›´ä¸¥é‡çš„é”™è¯¯">çŠ¯ä¸€äº›æ¯”å…¶ä»–é”™è¯¯æ›´ä¸¥é‡çš„é”™è¯¯</h5>
<p>ç»™ä¸€ä¸ªå¾ˆæœ‰å¯èƒ½è¿çº¦çš„ç”³è¯·è€…ä¸€ç¬”è´·æ¬¾æ˜¯ä¸€ç§å¾ˆä¸¥é‡çš„é”™è¯¯ã€‚ä¸€ç§å‡å°‘é”™è¯¯åœ°å¦å®šç”³è¯·è€…æ•°é‡çš„æ–¹æ³•æ˜¯æ‹’ç»å¤§é‡å¤„äºŽè¾¹ç•Œçº¿çš„ç”³è¯·è€…ã€‚ä¸ºäº†é˜²æ­¢ä¸€æ£µå†³ç­–æ ‘çŠ¯æ›´ä¸¥é‡çš„é”™è¯¯ï¼ŒC5.0ç®—æ³•å…è®¸æˆ‘ä»¬å°†ä¸€ä¸ªæƒ©ç½šå› å­åˆ†é…åˆ°ä¸åŒç±»åž‹çš„é”™è¯¯ä¸Šã€‚è¿™äº›æƒ©ç½šå› å­è®¾å®šåœ¨ä¸€ä¸ªä»£ä»·çŸ©é˜µä¸­ï¼Œç”¨æ¥æŒ‡å®šæ¯ç§é”™è¯¯ç›¸å¯¹äºŽå…¶ä»–ä»»ä½•é”™è¯¯æœ‰å¤šå°‘å€çš„ä¸¥é‡æ€§ã€‚å‡è®¾æˆ‘ä»¬è®¤ä¸ºä¸€ä¸ªè´·æ¬¾è¿çº¦è€…ä½¿é“¶è¡ŒæŸå¤±äº†å››å€ï¼Œä¸äºšäºŽä¸€ä¸ªé”™å¤±çš„æœºé‡ï¼Œåˆ™ä»£ä»·çŸ©é˜µå¯ä»¥å®šä¹‰ä¸ºï¼š</p>

<div id="1215bd4368af4717" class="tab">
  <div class="tab__links">
    
      <button class="tab__link" aria-label="Tab link">R</button>
    
      <button class="tab__link" aria-label="Tab link">Output</button>
    
  </div>
  
  
<div id="80b31a51f1609d73" class="tab__content">
  <div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="n">error_cost</span> <span class="o">&lt;-</span> <span class="nf">matrix</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">4</span><span class="p">,</span> <span class="m">0</span><span class="p">),</span> <span class="n">nrow</span> <span class="o">=</span> <span class="m">2</span><span class="p">)</span>
<span class="n">error_cost_view</span> <span class="o">&lt;-</span> <span class="n">error_cost</span>
<span class="nf">colnames</span><span class="p">(</span><span class="n">error_cost_view</span><span class="p">)</span> <span class="o">&lt;-</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#39;real no&#39;</span><span class="p">,</span> <span class="s">&#39;real yes&#39;</span><span class="p">)</span>
<span class="nf">rownames</span><span class="p">(</span><span class="n">error_cost_view</span><span class="p">)</span> <span class="o">&lt;-</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#39;predict no&#39;</span><span class="p">,</span> <span class="s">&#39;predict yes&#39;</span><span class="p">)</span>
<span class="n">error_cost_view</span>
</code></pre></td></tr></table>
</div>
</div>
</div>
  
<div id="470e2495fd9b45f2" class="tab__content">
    <table class="dataframe">
  <caption>A matrix: 2 Ã— 2 of type dbl</caption>
  <thead>
  	<tr><th></th><th scope=col>real no</th><th scope=col>real yes</th></tr>
  </thead>
  <tbody>
  	<tr><th scope=row>predict no</th><td>0</td><td>4</td></tr>
  	<tr><th scope=row>predict yes</th><td>1</td><td>0</td></tr>
  </tbody>
  </table>

</div>

</div>

<script>
  'use strict';

  var containerId = JSON.parse("\"1215bd4368af4717\"");
  var containerElem = document.getElementById(containerId);
  var tabLinks = null;
  var tabContents = null;
  var ids = [];

  if (containerElem) {
    tabLinks = containerElem.querySelectorAll('.tab__link');
    tabContents = containerElem.querySelectorAll('.tab__content');
  }

  for (var i = 0; i < tabContents.length; i++) {
    ids = ids.concat(tabContents[i].getAttribute('id'));
    tabContents[i].style.display = 'none';

    if (0 === parseInt(i, 10) && !tabContents[i].classList.contains('active')) {
      tabContents[i].classList.add('active');
    }
  }

  for (var i = 0; i < tabLinks.length; i++) {
    tabLinks[i].setAttribute('id', ids[i]);

    if (0 === parseInt(i, 10) && !tabLinks[i].classList.contains('active')) {
      tabLinks[i].classList.add('active');
    } else {
      tabLinks[i].classList.remove('active');
    }
  }

  if (tabContents.length > 0) {
    tabContents[0].style.display = 'block';
  }
</script>
<p>å½“è¯¥ç®—æ³•æ­£ç¡®åœ°å°†ä¸€ä¸ªæ¡ˆä¾‹åˆ†ç±»ä¸ºnoæˆ–è€…yesæ—¶ï¼Œæ­¤æ—¶æ²¡æœ‰åˆ†é…ä»£ä»·ï¼Œç›¸å¯¹äºŽä»£ä»·ä¸º1çš„è‚¯å®šé”™è¯¯(false positive)çš„æ¡ˆä¾‹ï¼Œå¦å®šé”™è¯¯(false negtive)çš„æ¡ˆä¾‹çš„ä»£ä»·ä¸º4ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="n">credit_cost</span> <span class="o">&lt;-</span> <span class="nf">C5.0</span><span class="p">(</span><span class="n">credit_train[</span><span class="m">-17</span><span class="n">]</span><span class="p">,</span> <span class="n">credit_train</span><span class="o">$</span><span class="n">default</span><span class="p">,</span> <span class="n">costs</span> <span class="o">=</span> <span class="n">error_cost</span><span class="p">)</span>
<span class="n">credit_cost_pred</span> <span class="o">&lt;-</span> <span class="nf">predict</span><span class="p">(</span><span class="n">credit_cost</span><span class="p">,</span> <span class="n">credit_test</span><span class="p">)</span>
<span class="nf">CrossTable</span><span class="p">(</span><span class="n">credit_test</span><span class="o">$</span><span class="n">default</span><span class="p">,</span> <span class="n">credit_cost_pred</span><span class="p">,</span> <span class="n">prop.chisq</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">,</span> <span class="n">prop.c</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">,</span> <span class="n">prop.r</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">,</span> 
           <span class="n">dnn</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#39;actual default&#39;</span><span class="p">,</span> <span class="s">&#39;predicted default&#39;</span><span class="p">))</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-sos" data-lang="sos">   Cell Contents
|-------------------------|
|                       N |
|         N / Table Total |
|-------------------------|

 
Total Observations in Table:  100 

 
               | predicted default 
actual default |        no |       yes | Row Total | 
---------------|-----------|-----------|-----------|
            no |        42 |        26 |        68 | 
               |     0.420 |     0.260 |           | 
---------------|-----------|-----------|-----------|
           yes |         6 |        26 |        32 | 
               |     0.060 |     0.260 |           | 
---------------|-----------|-----------|-----------|
  Column Total |        48 |        52 |       100 | 
---------------|-----------|-----------|-----------|
</code></pre><h2 id="è§„åˆ™å­¦ä¹ è¯†åˆ«æœ‰æ¯’è˜‘è‡">è§„åˆ™å­¦ä¹ è¯†åˆ«æœ‰æ¯’è˜‘è‡</h2>
<h5 id="ç†è§£è§„åˆ™åˆ†ç±»">ç†è§£è§„åˆ™åˆ†ç±»</h5>
<p>è§„åˆ™å­¦ä¹ ç»å¸¸ä»¥ä¸€ç§ç±»ä¼¼äºŽå†³ç­–æ ‘çš„æ–¹å¼è¢«ä½¿ç”¨ã€‚ä¸Žå†³ç­–æ ‘ä¸åŒçš„æ˜¯ï¼Œå†³ç­–æ ‘å¿…é¡»ä»Žä¸Šè‡³ä¸‹åœ°åº”ç”¨ï¼Œè€Œè§„åˆ™æ˜¯å•ç‹¬å­˜åœ¨çš„äº‹å®žã€‚æ ¹æ®ç›¸åŒæ•°æ®å»ºç«‹çš„æ¨¡åž‹ï¼Œè§„åˆ™å­¦ä¹ çš„ç»“æžœå¾€å¾€æ¯”å†³ç­–æ ‘çš„ç»“æžœæ›´ç®€æ´ã€æ›´ç›´æŽ¥ã€æ›´å®¹æ˜“ç†è§£ã€‚å†³ç­–æ ‘ä¼šç»™ä»»åŠ¡å¸¦æ¥ä¸€ç»„ç‰¹å®šçš„åå·®ï¼Œè€Œè§„åˆ™å­¦ä¹ å¯ä»¥é€šè¿‡ç›´æŽ¥è¯†åˆ«è§„åˆ™è€Œé¿å…åå·®ã€‚å†³ç­–æ ‘ä¸­æ¯ä¸ªå†³ç­–èŠ‚ç‚¹æ˜¯ä¼šå—åˆ°è¿‡åŽ»å†³ç­–åŽ†å²çš„å½±å“ã€‚è€Œè§„åˆ™å­¦ä¹ ä¸å­˜åœ¨è¿™æ ·çš„æ²¿è¢­ï¼Œä¸€æ—¦è§„åˆ™å­¦ä¹ ç®—æ³•åˆ†ç¦»å‡ºä¸€ç»„æ¡ˆä¾‹ï¼Œä¸‹ä¸€ç»„æ¡ˆä¾‹å¯èƒ½ä¼šæ ¹æ®å®Œå…¨ä¸åŒçš„ç‰¹å¾ï¼Œä»¥å®Œå…¨ä¸åŒçš„é¡ºåºåˆ†ç¦»å‡ºæ¥ã€‚</p>
<h5 id="å•è§„åˆ™1rç®—æ³•">å•è§„åˆ™ï¼ˆ1Rï¼‰ç®—æ³•</h5>
<ul>
<li>Zero Rï¼šå¯¹äºŽä¸€ä¸ªæœªæ ‡è®°çš„æ¡ˆä¾‹ï¼Œä¸ç”¨è€ƒè™‘å®ƒçš„ç‰¹å¾å€¼å°±ä¼šæŠŠå®ƒé¢„æµ‹ä¸ºæœ€å¸¸è§çš„ç±»ã€‚</li>
<li>å•è§„åˆ™ç®—æ³•ï¼ˆ1Rï¼‰:é€šè¿‡é€‰æ‹©ä¸€ä¸ªå•ä¸€çš„è§„åˆ™æ¥æé«˜Zeroç®—æ³•çš„æ€§èƒ½ã€‚å¯¹äºŽæ¯ä¸€ä¸ªç‰¹å¾ï¼ŒåŸºäºŽç›¸ä¼¼çš„ç‰¹å¾å€¼1Rå¯¹æ•°æ®åˆ†ç»„ã€‚ç„¶åŽï¼Œå¯¹æ¯ä¸€ä¸ªæ•°æ®åˆ†ç»„ï¼Œæ”¹ç®—æ³•çš„é¢„æµ‹ç±»ä¸ºå å¤šæ•°çš„ç±»ã€‚è§„åˆ™é”™è¯¯çŽ‡çš„è®¡ç®—åŸºäºŽæ¯ä¸€ä¸ªç‰¹å¾å€¼ï¼ŒçŠ¯æœ€å°‘é”™è¯¯çš„è§„åˆ™é€‰ä¸ºå”¯ä¸€çš„è§„åˆ™ã€‚</li>
</ul>
<h5 id="é‡å¤å¢žé‡ä¿®å‰ªripperç®—æ³•">é‡å¤å¢žé‡ä¿®å‰ªï¼ˆRIPPERï¼‰ç®—æ³•</h5>
<p>é’ˆå¯¹æ—©æœŸè§„åˆ’å­¦ä¹ ç®—æ³•å­˜åœ¨é€Ÿåº¦æ…¢å’Œå¯¹å™ªå£°æ•°æ®ä¸å‡†ç¡®çš„é—®é¢˜ï¼ŒRIPPERç®—æ³•ä¸»è¦é€šè¿‡ç”Ÿé•¿ã€ä¿®å‰ªå’Œä¼˜åŒ–ä¸‰ä¸ªè¿‡ç¨‹æé«˜æ¨¡åž‹çš„æ€§èƒ½ã€‚</p>
<h5 id="æ¥è‡ªå†³ç­–æ ‘çš„è§„åˆ™">æ¥è‡ªå†³ç­–æ ‘çš„è§„åˆ™</h5>
<p>ä½¿ç”¨å†³ç­–æ ‘ç”Ÿæˆè§„åˆ™çš„ä¸»è¦ç¼ºç‚¹æ—¶ç”±æ­¤äº§ç”Ÿçš„è§„åˆ™é€šå¸¸æ¯”é‚£äº›ç”±å†³ç­–è§„åˆ™å­¦ä¹ ç®—æ³•å­¦åˆ°çš„è§„åˆ™æ›´å¤æ‚ã€‚</p>
<h3 id="æ•°æ®å¤„ç†-3">æ•°æ®å¤„ç†</h3>
<p>æ•°æ®é›†æ˜¯23ä¸ªå¸¦æœ‰èŒè¤¶çš„è˜‘è‡å“ç§çš„8124ä¸ªè˜‘è‡æ¡ˆä¾‹ä¿¡æ¯ã€‚æ¯ç§è˜‘è‡è¢«é‰´å®šä¸ºâ€œè‚¯å®šå¯ä»¥ä½¿ç”¨â€ã€â€œè‚¯å®šæ˜¯æœ‰æ¯’çš„â€å’Œâ€œå¯èƒ½æœ‰æ¯’ï¼Œä¸å»ºè®®ä½¿ç”¨â€ã€å°†æœ€åŽä¸€ç±»å’Œâ€œè‚¯å®šæ˜¯æœ‰æ¯’çš„â€ä¸€ç±»åˆå¹¶åˆ°èµ·ä¹‰ï¼Œä»Žè€Œæœ€ç»ˆç”±ä¸¤ä¸ªåˆ†ç±»ï¼šæœ‰æ¯’å’Œæ— æ¯’ã€‚æ¯ä¸ªè˜‘è‡æ¡ˆä¾‹åŒ…å«è˜‘è‡å¸½çš„å½¢çŠ¶ã€è˜‘è‡å¸½çš„é¢œè‰²ã€è˜‘è‡çš„æ°”å‘³ã€èŒè¤¶çš„å¤§å°å’Œé¢œè‰²ã€èŒŽçš„å½¢çŠ¶å’Œç”Ÿå­˜çš„çŽ¯å¢ƒç­‰22ä¸ªç‰¹å¾ã€‚</p>
<p>22ä¸ªç‰¹å¾å’Œç›®æ ‡ç±»éƒ½æ˜¯åä¹‰å˜é‡ï¼Œè¿›è¡Œå› å­è½¬æ¢ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="n">mushrooms</span> <span class="o">&lt;-</span> <span class="nf">read.csv</span><span class="p">(</span><span class="s">&#34;G:/R/Machine Learning With R/data/Chapter 05/mushrooms.csv&#34;</span><span class="p">,</span> 
                      <span class="n">stringsAsFactors</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span>
<span class="nf">str</span><span class="p">(</span><span class="n">mushrooms</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-SOS" data-lang="SOS">  'data.frame':	8124 obs. of  23 variables:
   $ type                    : Factor w/ 2 levels &quot;edible&quot;,&quot;poisonous&quot;: 2 1 1 2 1 1 1 1 2 1 ...
   $ cap_shape               : Factor w/ 6 levels &quot;bell&quot;,&quot;conical&quot;,..: 3 3 1 3 3 3 1 1 3 1 ...
   $ cap_surface             : Factor w/ 4 levels &quot;fibrous&quot;,&quot;grooves&quot;,..: 4 4 4 3 4 3 4 3 3 4 ...
   $ cap_color               : Factor w/ 10 levels &quot;brown&quot;,&quot;buff&quot;,..: 1 10 9 9 4 10 9 9 9 10 ...
   $ bruises                 : Factor w/ 2 levels &quot;no&quot;,&quot;yes&quot;: 2 2 2 2 1 2 2 2 2 2 ...
   $ odor                    : Factor w/ 9 levels &quot;almond&quot;,&quot;anise&quot;,..: 8 1 2 8 7 1 1 2 8 1 ...
   $ gill_attachment         : Factor w/ 2 levels &quot;attached&quot;,&quot;free&quot;: 2 2 2 2 2 2 2 2 2 2 ...
   $ gill_spacing            : Factor w/ 2 levels &quot;close&quot;,&quot;crowded&quot;: 1 1 1 1 2 1 1 1 1 1 ...
   $ gill_size               : Factor w/ 2 levels &quot;broad&quot;,&quot;narrow&quot;: 2 1 1 2 1 1 1 1 2 1 ...
   $ gill_color              : Factor w/ 12 levels &quot;black&quot;,&quot;brown&quot;,..: 1 1 2 2 1 2 5 2 8 5 ...
   $ stalk_shape             : Factor w/ 2 levels &quot;enlarging&quot;,&quot;tapering&quot;: 1 1 1 1 2 1 1 1 1 1 ...
   $ stalk_root              : Factor w/ 5 levels &quot;bulbous&quot;,&quot;club&quot;,..: 3 2 2 3 3 2 2 2 3 2 ...
   $ stalk_surface_above_ring: Factor w/ 4 levels &quot;fibrous&quot;,&quot;scaly&quot;,..: 4 4 4 4 4 4 4 4 4 4 ...
   $ stalk_surface_below_ring: Factor w/ 4 levels &quot;fibrous&quot;,&quot;scaly&quot;,..: 4 4 4 4 4 4 4 4 4 4 ...
   $ stalk_color_above_ring  : Factor w/ 9 levels &quot;brown&quot;,&quot;buff&quot;,..: 8 8 8 8 8 8 8 8 8 8 ...
   $ stalk_color_below_ring  : Factor w/ 9 levels &quot;brown&quot;,&quot;buff&quot;,..: 8 8 8 8 8 8 8 8 8 8 ...
   $ veil_type               : Factor w/ 1 level &quot;partial&quot;: 1 1 1 1 1 1 1 1 1 1 ...
   $ veil_color              : Factor w/ 4 levels &quot;brown&quot;,&quot;orange&quot;,..: 3 3 3 3 3 3 3 3 3 3 ...
   $ ring_number             : Factor w/ 3 levels &quot;none&quot;,&quot;one&quot;,&quot;two&quot;: 2 2 2 2 2 2 2 2 2 2 ...
   $ ring_type               : Factor w/ 5 levels &quot;evanescent&quot;,&quot;flaring&quot;,..: 5 5 5 5 1 5 5 5 5 5 ...
   $ spore_print_color       : Factor w/ 9 levels &quot;black&quot;,&quot;brown&quot;,..: 1 2 2 1 2 1 1 2 1 1 ...
   $ population              : Factor w/ 6 levels &quot;abundant&quot;,&quot;clustered&quot;,..: 4 3 3 4 1 3 3 4 5 4 ...
   $ habitat                 : Factor w/ 7 levels &quot;grasses&quot;,&quot;leaves&quot;,..: 5 1 3 5 1 1 3 3 1 3 ...
</code></pre><p>æ³¨æ„åˆ°<code>veil_type</code>å¯èƒ½æ˜¯ç¼–ç é”™è¯¯ï¼Œåªæœ‰ä¸€ä¸ªæ°´å¹³å€¼ï¼Œä¸èƒ½ä¸ºé¢„æµ‹æä¾›ä»»ä½•æœ‰ç”¨çš„ä¿¡æ¯ï¼Œå°†å…¶åˆ é™¤ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="n">mushrooms</span><span class="o">$</span><span class="n">veil_type</span> <span class="o">&lt;-</span> <span class="kc">NULL</span>
<span class="nf">table</span><span class="p">(</span><span class="n">mushrooms</span><span class="o">$</span><span class="n">type</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-SOS" data-lang="SOS"> edible poisonous 
   4208      3916 
</code></pre><p>è¿™é‡Œä¸éœ€è¦æ‹…å¿ƒæ•°æ®ä¸å¹³è¡¡ï¼ˆåˆ†åˆ™åˆ†ç±»åœ¨é¢„æµ‹å°‘æ•°ç±»æ—¶ä¼šæœ‰å›°éš¾ï¼‰ã€‚</p>
<h3 id="æ¨¡åž‹è®­ç»ƒ-3">æ¨¡åž‹è®­ç»ƒ</h3>
<p>åº”ç”¨1Råˆ†ç±»å™¨ï¼Œå®ƒèƒ½å¤Ÿè¯†åˆ«å¯¹äºŽç›®æ ‡ç±»æœ€å…·æœ‰é¢„æµ‹æ€§çš„å•ä¸€ç‰¹å¾ï¼Œå¹¶åˆ©ç”¨è¯¥ç‰¹å¾æž„å»ºä¸€ä¸ªè§„åˆ™é›†ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="nf">Sys.setenv</span><span class="p">(</span><span class="n">JAVA_HOME</span><span class="o">=</span><span class="s">&#39;D:\\Program Files\\Java\\jdk1.8.0_191\\jre&#39;</span><span class="p">)</span>
<span class="nf">library</span><span class="p">(</span><span class="n">RWeka</span><span class="p">)</span>

<span class="n">mushroom_1R</span> <span class="o">&lt;-</span> <span class="nf">OneR</span><span class="p">(</span><span class="n">type</span> <span class="o">~</span> <span class="n">.,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">mushrooms</span><span class="p">)</span>
<span class="n">mushroom_1R</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-SOS" data-lang="SOS">odor:
	almond	-&gt; edible
	anise	-&gt; edible
	creosote	-&gt; poisonous
	fishy	-&gt; poisonous
	foul	-&gt; poisonous
	musty	-&gt; poisonous
	none	-&gt; edible
	pungent	-&gt; poisonous
	spicy	-&gt; poisonous
  (8004/8124 instances correct)
</code></pre><p>ç‰¹å¾<code>odor(æ°”å‘³)</code>è¢«é€‰æ‹©ä¸ºè§„åˆ™ç”Ÿæˆã€‚ç‰¹å¾odorçš„ç±»åˆ«ï¼Œæ¯”å¦‚<code>almond(æä»å‘³)</code>ã€<code>anise(èŒ´é¦™å‘³)</code>ç­‰ï¼Œæ³¨æ˜Žè˜‘è‡æ˜¯å¦æ˜¯å¯ä½¿ç”¨çš„æˆ–è€…æ˜¯æœ‰æ¯’çš„è§„åˆ™ã€‚ä¾‹å¦‚ï¼Œå¦‚æžœè˜‘è‡é—»èµ·æ¥<code>fishy(è…¥å‘³)</code>ã€<code>foul(è‡­å‘³)</code>ã€<code>musty(éœ‰å‘³)</code>ã€<code>pungent(åˆºé¼»)</code>ã€<code>spicy(è¾›è¾£)</code>æˆ–è€…åƒ<code>creosote(æœ¨ç„¦æ²¹)</code>ï¼Œé‚£ä¹ˆè˜‘è‡å¾ˆå¯èƒ½æ˜¯æœ‰æ¯’çš„ã€‚å¦ä¸€æ–¹é¢ï¼Œæ›´åŠ ä»¤äººæ„‰æ‚¦çš„æ°”å‘³ï¼Œåƒ<code>almond(æä»å‘³)</code>ã€<code>anise(èŒ´é¦™å‘³)</code>ï¼ˆæˆ–è€…<code>none</code>ï¼Œæ ¹æœ¬æ²¡æœ‰æ°”å‘³ï¼‰ï¼Œåˆ™è¡¨æ˜Žæ˜¯å¯é£Ÿç”¨çš„è˜‘è‡ã€‚å¯¹äºŽè˜‘è‡é‡‡é›†çš„å®žç”¨æŒ‡å—ï¼Œè¿™äº›è§„åˆ™å¯èƒ½å½’çº³åœ¨ä¸€ä¸ªå•ä¸€çš„ç®€å•ç»éªŒè§„åˆ™ï¼ˆå¤§æ‹‡æŒ‡è§„åˆ™ï¼‰é‡Œï¼šâ€œå¦‚æžœè˜‘è‡é—»èµ·æ¥ä¸å¥½åƒï¼Œé‚£ä¹ˆå®ƒå¾ˆæœ‰å¯èƒ½æ˜¯æœ‰æ¯’çš„â€ã€‚</p>
<h3 id="æ€§èƒ½è¯„ä¼°-3">æ€§èƒ½è¯„ä¼°</h3>
<p>è¾“å‡ºè¡¨æ˜Žè¯¥è§„åˆ™æ­£ç¡®åœ°æŒ‡å®šäº†8124ä¸ªè˜‘è‡æ¡ˆä¾‹ä¸­çš„8004ä¸ªæ¡ˆä¾‹ï¼Œæ­£ç¡®çŽ‡æŽ¥è¿‘99%ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="nf">summary</span><span class="p">(</span><span class="n">mushroom_1R</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-SOS" data-lang="SOS">=== Summary ===

Correctly Classified Instances        8004               98.5229 %
Incorrectly Classified Instances       120                1.4771 %
Kappa statistic                          0.9704
Mean absolute error                      0.0148
Root mean squared error                  0.1215
Relative absolute error                  2.958  %
Root relative squared error             24.323  %
Total Number of Instances             8124     

=== Confusion Matrix ===

    a    b   &lt;-- classified as
 4208    0 |    a = edible
  120 3796 |    b = poisonous
</code></pre><p>æ··æ·†çŸ©é˜µä¸­åˆ—è¡¨ç¤ºè˜‘è‡çš„çœŸå®žç±»åˆ«ï¼Œè¡Œè¡¨ç¤ºé¢„æµ‹å€¼ï¼Œè¡¨ä¸­120ä¸­è˜‘è‡å®žé™…ä¸Šæ˜¯å¯ä½¿ç”¨çš„ï¼Œä½†è¢«å½’ç±»ä¸ºäº†æœ‰æ¯’çš„ï¼Œä¸”æ²¡æœ‰æœ‰æ¯’çš„è˜‘è‡è¢«å½’ç±»ä¸ºå¯é£Ÿç”¨çš„ã€‚</p>
<h3 id="æ€§èƒ½æå‡-3">æ€§èƒ½æå‡</h3>
<p>å¯¹äºŽæ›´å¤æ‚çš„è§„åˆ™å­¦ä¹ ç®—æ³•ï¼Œå®žç”¨<code>JRip()</code>å‡½æ•°ï¼Œä¸€ä¸ªåŸºäºŽJavaå®žçŽ°çš„RIPPERè§„åˆ™å­¦ä¹ ç®—æ³•ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="n">mushroom_JRip</span> <span class="o">&lt;-</span> <span class="nf">JRip</span><span class="p">(</span><span class="n">type</span> <span class="o">~</span> <span class="n">.,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">mushrooms</span><span class="p">)</span>
<span class="n">mushroom_JRip</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-SOS" data-lang="SOS">JRIP rules:
===========

(odor = foul) =&gt; type=poisonous (2160.0/0.0)
(gill_size = narrow) and (gill_color = buff) =&gt; type=poisonous (1152.0/0.0)
(gill_size = narrow) and (odor = pungent) =&gt; type=poisonous (256.0/0.0)
(odor = creosote) =&gt; type=poisonous (192.0/0.0)
(spore_print_color = green) =&gt; type=poisonous (72.0/0.0)
(stalk_surface_below_ring = scaly) and (stalk_surface_above_ring = silky) =&gt; type=poisonous (68.0/0.0)
(habitat = leaves) and (cap_color = white) =&gt; type=poisonous (8.0/0.0)
(stalk_color_above_ring = yellow) =&gt; type=poisonous (8.0/0.0)
 =&gt; type=edible (4208.0/0.0)

Number of Rules : 9
</code></pre><p><code>JRip()</code>åˆ†ç±»å™¨ä»Žmushroomæ•°æ®ä¸­å­¦ä¹ äº†9æ¡è§„åˆ™ã€‚ç†è§£è¿™äº›è§„åˆ™çš„ä¸€ç§ç®€å•æ–¹æ³•å°±æ˜¯æŠŠå®ƒä»¬å½“åšç±»ä¼¼äºŽç¼–ç¨‹ä¸­<code>if-else</code>è¯­å¥çš„ä¸€ä¸ªåˆ—è¡¨ã€‚å‰ä¸‰æ¡è§„åˆ™å¯ä»¥è¿™æ ·è¡¨è¾¾ï¼š</p>
<ul>
<li>å¦‚æžœæ°”å‘³æ˜¯è‡­çš„ï¼Œé‚£ä¹ˆè¯¥è˜‘è‡ç±»æ˜¯æœ‰æ¯’çš„ã€‚</li>
<li>å¦‚æžœèŒè¤¶çš„å°ºå¯¸ç‹­å°è€Œä¸”èŒè¤¶çš„é¢œè‰²æ˜¯æµ…é»„è‰²çš„ï¼Œé‚£ä¹ˆè¯¥è˜‘è‡ç±»æ˜¯æœ‰æ¯’çš„ã€‚</li>
<li>å¦‚æžœèŒè¤¶çš„å°ºå¯¸ç‹­å°è€Œä¸”æ°”å‘³æ˜¯åˆºé¼»çš„ï¼Œé‚£ä¹ˆè¯¥è˜‘è‡ç±»æ˜¯æœ‰æ¯’çš„ã€‚</li>
</ul>
<p>æœ€åŽï¼Œç¬¬9æ¡è§„åˆ™è¡¨ç¤ºä¸å±žäºŽä¸Šè¿°8æ¡è§„åˆ™çš„ä»»ä½•è˜‘è‡æ¡ˆä¾‹éƒ½æ˜¯å¯ä½¿ç”¨çš„ã€‚æ¯ä¸ªè§„åˆ™åŽé¢çš„æ•°å­—è¡¨ç¤ºè¢«è§„åˆ™è¦†ç›–çš„æ¡ˆä¾‹æ•°å’Œè¢«é”™è¯¯åˆ†ç±»çš„æ¡ˆä¾‹æ•°ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œé£Ÿç”¨è¿™9ä¸ªè§„åˆ™å°±æ²¡æœ‰é”™è¯¯åˆ†ç±»çš„è˜‘è‡æ¡ˆä¾‹ã€‚å› æ­¤ï¼Œè¢«æœ€åŽä¸€ä¸ªè§„åˆ™è¦†ç›–çš„æ¡ˆä¾‹æ•°æ­£å¥½ç­‰äºŽæ•°æ®ä¸­å¯é£Ÿç”¨çš„è˜‘è‡æ•°é‡(N=4208)ã€‚</p>
<h2 id="çº¿æ€§å›žå½’é¢„æµ‹åŒ»ç–—è´¹ç”¨">çº¿æ€§å›žå½’é¢„æµ‹åŒ»ç–—è´¹ç”¨</h2>
<h5 id="ç†è§£å›žå½’">ç†è§£å›žå½’</h5>
<p>ç®€å•çº¿æ€§å›žå½’å’Œå¤šå…ƒå›žå½’æ¨¡åž‹éƒ½å‡è®¾å› å˜é‡æ˜¯è¿žç»­çš„ï¼›é€»è¾‘å›žå½’å¯ä»¥ç”¨æ¥å¯¹äºŒå…ƒåˆ†ç±»çš„ç»“æžœå»ºæ¨¡ï¼›æ³Šæ¾å›žå½’å¯ä»¥ç”¨æ¥å¯¹æ•´åž‹çš„è®¡æ•°æ•°æ®å»ºæ¨¡ã€‚</p>
<p>ç®€å•çº¿æ€§å›žå½’çš„æˆªè·é¡¹ï¼š$$b=\frac{Cov(x,y)}{Var(x)}$$</p>
<p>Pearsonç›¸å…³ç³»æ•°ï¼š$$\rho_{x,y}=Corr(x,y)=\frac{Cov(x,y)}{\sigma_x\sigma_y}$$</p>
<p>é€šå¸¸ï¼Œç›¸å…³æ€§å¿…é¡»æ ¹æ®å¿…é¡»æ ¹æ®ä¸Šä¸‹æ–‡è§£é‡Šï¼Œå¯¹äºŽæ¶‰åŠäººç±»çš„æ•°æ®ï¼Œ0.5çš„ç›¸å…³æ€§å¯èƒ½è®¤ä¸ºæ˜¯éžå¸¸å¼ºçš„ï¼›å¯¹äºŽæœºæ¢°è¿‡ç¨‹äº§ç”Ÿçš„æ•°æ®ï¼Œ0.5çš„ç›¸å…³æ€§å¯èƒ½è®¤ä¸ºæ˜¯å¼±çš„ã€‚</p>
<p>å¤šå…ƒçº¿æ€§å›žå½’æ–¹ç¨‹ï¼š$$\mathbf Y=\mathbf X \mathbf \beta + \epsilon$$</p>
<p>å› å˜é‡$\mathbf Y$æ˜¯ä¸€ä¸ªå‘é‡ï¼Œä¸€è¡Œæ¯”æ¾hiä¸€ä¸ªæ¡ˆä¾‹ï¼›è‡ªå˜é‡è¢«è¡¨ç¤ºæˆä¸€ä¸ªçŸ©é˜µ$\mathbf X$ï¼Œä¸€åˆ—è¡¨ç¤ºä¸€ä¸ªç‰¹å¾ï¼Œå†åŠ ä¸Šé¢å¤–çš„ä¸€åˆ—ç”¨æ¥è¡¨ç¤ºæˆªè·é¡¹çš„å€¼å…¨ä¸ºâ€œ1â€çš„åˆ—ã€‚åŒæ ·ï¼Œå›žå½’ç³»æ•°$\mathbf \beta$å’Œè¯¯å·®$\epsilon$éƒ½æ˜¯å‘é‡ã€‚</p>
<ul>
<li>$\mathbf \beta$çš„ä¼°è®¡ï¼š$$\hat{\mathbf \beta}=\mathbf{(X^TX)^{-1}X^TY}$$</li>
</ul>
<h3 id="æ•°æ®å¤„ç†-4">æ•°æ®å¤„ç†</h3>
<p>æ•°æ®åŒ…å«1338ä¸ªæ¡ˆä¾‹ï¼Œå³ç›®å‰å·²ç»ç™»è®°è¿‡çš„ä¿é™©è®¡åˆ’å—ç›Šè€…ä»¥åŠè¡¨ç¤ºç—…äººç‰¹ç‚¹å’ŒåŽ†å¹´è®¡åˆ’è®¡å…¥çš„æ€»çš„åŒ»ç–—è´¹ç”¨çš„ç‰¹å¾ã€‚è¿™äº›ç‰¹å¾æ˜¯ï¼š</p>
<ul>
<li>ageï¼šè¿™æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºä¸»è¦å—ç›Šè€…çš„å¹´é¾„(ä¸åŒ…æ‹¬è¶…è¿‡64å²çš„äººï¼Œå› ä¸ºä»–ä»¬ä¸€èˆ¬ç”±æ”¿åºœæ”¯ä»˜)ã€‚</li>
<li>sexï¼šè¿™æ˜¯ä¿å•æŒæœ‰äººçš„æ€§åˆ«ï¼Œè¦ä¹ˆæ˜¯male,è¦ä¹ˆæ˜¯femaleã€‚</li>
<li>bmiï¼šè¿™æ˜¯<strong>èº«ä½“è´¨é‡æŒ‡æ•°</strong>(Body Mass Index, BMI)å®ƒæä¾›äº†ä¸€ä¸ªåˆ¤æ–­äººçš„ä½“é‡ç›¸å¯¹äºŽèº«é«˜æ˜¯è¿‡é‡è¿˜æ˜¯åè½»çš„æ–¹æ³•ï¼ŒBMIæŒ‡æ•°ç­‰äºŽä½“é‡(å…¬æ–¤)é™¤ä»¥èº«é«˜(ç±³)çš„å¹³æ–¹ã€‚ä¸€ä¸ªç†æƒ³çš„BMIæŒ‡æ•°åœ¨18.5 ~ 24.9çš„èŒƒå›´å†…ã€‚</li>
<li>childrenï¼šè¿™æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºä¿é™©è®¡åˆ’ä¸­æ‰€åŒ…æ‹¬çš„å­©å­/å—æŠšå…»è€…çš„æ•°é‡ã€‚<br />
-smokerï¼šæ ¹æ®è¢«ä¿é™©äººæ˜¯å¦å¸çƒŸåˆ¤æ–­yesæˆ–è€…noã€‚<br />
-regionï¼šæ ¹æ®å—ç›Šäººåœ¨ç¾Žå›½çš„å±…ä½åœ°ï¼Œåˆ†ä¸º4ä¸ªåœ°ç†åŒºåŸŸï¼šnortheastã€southeastã€southwestã€northwestã€‚</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="n">insurance</span> <span class="o">&lt;-</span> <span class="nf">read.csv</span><span class="p">(</span><span class="s">&#34;G:/R/Machine Learning With R/data/Chapter 06/insurance.csv&#34;</span><span class="p">,</span> 
                      <span class="n">stringsAsFactors</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span>
<span class="nf">str</span><span class="p">(</span><span class="n">insurance</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-SOS" data-lang="SOS">'data.frame':	1338 obs. of  7 variables:
 $ age     : int  19 18 28 33 32 31 46 37 37 60 ...
 $ sex     : Factor w/ 2 levels &quot;female&quot;,&quot;male&quot;: 1 2 2 2 2 1 1 1 2 1 ...
 $ bmi     : num  27.9 33.8 33 22.7 28.9 25.7 33.4 27.7 29.8 25.8 ...
 $ children: int  0 1 3 0 0 0 1 3 2 0 ...
 $ smoker  : Factor w/ 2 levels &quot;no&quot;,&quot;yes&quot;: 2 1 1 1 1 1 1 1 1 1 ...
 $ region  : Factor w/ 4 levels &quot;northeast&quot;,&quot;northwest&quot;,..: 4 3 3 2 2 3 3 2 1 2 ...
 $ expenses: num  16885 1726 4449 21984 3867 ...
</code></pre><p>æ•°æ®æ¡†ä¸­æœ‰3ä¸ªå› å­ç±»åž‹çš„ç‰¹å¾ã€‚æŸ¥çœ‹å› å˜é‡çš„åˆ†å¸ƒï¼Œå› ä¸ºå‡å€¼å¤§äºŽä¸­ä½æ•°ï¼Œæ‰€ä»¥å³åï¼Œéžæ­£æ€åˆ†å¸ƒã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="nf">summary</span><span class="p">(</span><span class="n">insurance</span><span class="o">$</span><span class="n">expenses</span><span class="p">)</span>
<span class="nf">hist</span><span class="p">(</span><span class="n">insurance</span><span class="o">$</span><span class="n">expenses</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-SOS" data-lang="SOS">Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
1122    4740    9382   13270   16640   63770 
</code></pre><p><img src="./fig20210924/output_3_1.png" alt="png" /></p>
<h5 id="ç›¸å…³ç³»æ•°çŸ©é˜µ">ç›¸å…³ç³»æ•°çŸ©é˜µ</h5>
<p>åœ¨ä½¿ç”¨å›žå½’æ¨¡åž‹æ‹Ÿåˆæ•°æ®ä¹‹å‰ï¼Œæœ‰å¿…è¦ç¡®å®šè‡ªå˜é‡ä¸Žå› å˜é‡ä¹‹é—´ä»¥åŠè‡ªå˜é‡ä¹‹é—´æ˜¯å¦‚ä½•ç›¸å…³çš„ã€‚å¯¹4ä¸ªæ•°å€¼åž‹å˜é‡åˆ›å»ºç›¸å…³ç³»æ•°çŸ©é˜µï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="nf">cor</span><span class="p">(</span><span class="n">insurance</span><span class="nf">[c</span><span class="p">(</span><span class="s">&#39;age&#39;</span><span class="p">,</span> <span class="s">&#39;bmi&#39;</span><span class="p">,</span> <span class="s">&#39;children&#39;</span><span class="p">,</span> <span class="s">&#39;expenses&#39;</span><span class="p">)</span><span class="n">]</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><table class="dataframe">
<caption>A matrix: 4 Ã— 4 of type dbl</caption>
<thead>
	<tr><th></th><th scope=col>age</th><th scope=col>bmi</th><th scope=col>children</th><th scope=col>expenses</th></tr>
</thead>
<tbody>
	<tr><th scope=row>age</th><td>1.0000000</td><td>0.10934101</td><td>0.04246900</td><td>0.29900819</td></tr>
	<tr><th scope=row>bmi</th><td>0.1093410</td><td>1.00000000</td><td>0.01264471</td><td>0.19857626</td></tr>
	<tr><th scope=row>children</th><td>0.0424690</td><td>0.01264471</td><td>1.00000000</td><td>0.06799823</td></tr>
	<tr><th scope=row>expenses</th><td>0.2990082</td><td>0.19857626</td><td>0.06799823</td><td>1.00000000</td></tr>
</tbody>
</table>
<h5 id="æ•£ç‚¹å›¾çŸ©é˜µ">æ•£ç‚¹å›¾çŸ©é˜µ</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="nf">pairs</span><span class="p">(</span><span class="n">insurance</span><span class="nf">[c</span><span class="p">(</span><span class="s">&#39;age&#39;</span><span class="p">,</span> <span class="s">&#39;bmi&#39;</span><span class="p">,</span> <span class="s">&#39;children&#39;</span><span class="p">,</span> <span class="s">&#39;expenses&#39;</span><span class="p">)</span><span class="n">]</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p><img src="./fig20210924/output_7_0.png" alt="png" /></p>
<p>ageå’Œexpensesä¹‹é—´çš„å…³ç³»å‘ˆçŽ°å‡ºå‡ æ¡ç›¸å¯¹çš„ç›´çº¿ï¼Œè€Œbmiå’Œexpenseçš„æ•£ç‚¹æž„æˆäº†ä¸¤ä¸ªä¸åŒçš„ç¾¤ä½“ã€‚ä¸‹é¢ä½¿ç”¨<code>psych</code>åŒ…ä¸­çš„<code>pairs.panels()</code>å‡½æ•°åˆ›å»ºæ•£ç‚¹å›¾çŸ©é˜µï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="c1"># install.packages(&#34;psych&#34;)</span>
<span class="nf">library</span><span class="p">(</span><span class="n">psych</span><span class="p">)</span>
<span class="nf">pairs.panels</span><span class="p">(</span><span class="n">insurance</span><span class="nf">[c</span><span class="p">(</span><span class="s">&#39;age&#39;</span><span class="p">,</span> <span class="s">&#39;bmi&#39;</span><span class="p">,</span> <span class="s">&#39;children&#39;</span><span class="p">,</span> <span class="s">&#39;expenses&#39;</span><span class="p">)</span><span class="n">]</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p><img src="./fig20210924/output_9_1.png" alt="png" /></p>
<p>åœ¨å¯¹è§’çº¿çš„ä¸Šæ–¹ï¼Œæ•£ç‚¹å›¾è¢«ç›¸å…³å…³ç³»çŸ©é˜µæ‰€å–ä»£ï¼Œåœ¨å¯¹è§’çº¿ä¸Šï¼Œç›´æ–¹å›¾æç»˜äº†æ¯ä¸ªç‰¹å¾çš„æ•°å€¼åˆ†å¸ƒã€‚æœ€åŽï¼Œå¯¹è§’çº¿ä¸‹æ–¹çš„æ•£ç‚¹å›¾å¸¦æœ‰é¢å¤–çš„å¯è§†åŒ–ä¿¡æ¯ã€‚æ¯ä¸ªæ•£ç‚¹å›¾ä¸­å‘ˆæ¤­åœ†å½¢çš„å¯¹è±¡ç§°ä¸º<strong>ç›¸å…³æ¤­åœ†</strong>(correlation ellipse)ï¼Œå®ƒæä¾›äº†ä¸€ç§å˜é‡ä¹‹é—´æ˜¯å¦‚ä½•å¯†åˆ‡ç›¸å…³çš„å¯è§†åŒ–ä¿¡æ¯ã€‚ä½äºŽæ¤­åœ†ä¸­å¿ƒçš„ç‚¹è¡¨ç¤ºxè½´å˜é‡çš„å‡å€¼å’Œyè½´å˜é‡å‡å€¼æ‰€ç¡®å®šçš„ç‚¹ã€‚ä¸¤ä¸ªå˜é‡ä¹‹é—´çš„ç›¸å…³æ€§ç”±æ¤­åœ†çš„å½¢çŠ¶æ¥è¡¨ç¤ºï¼Œæ¤­åœ†è¶Šè¢«æ‹‰ä¼¸ï¼Œå…¶ç›¸å…³æ€§è¶Šå¼ºã€‚ä¸€ä¸ªå‡ ä¹Žç±»ä¼¼äºŽåœ†çš„å®Œç¾Žçš„æ¤­åœ†å½¢ï¼Œå¦‚bmiå’Œchildrenï¼Œè¡¨ç¤ºä¸€ç§éžå¸¸å¼±çš„ç›¸å…³æ€§(åœ¨è¿™ç§æƒ…å†µä¸‹ç›¸å…³ç³»æ•°ä¸º0.01)ã€‚</p>
<p>æ•£ç‚¹å›¾ä¸­ç»˜åˆ¶çš„æ›²çº¿ç§°ä¸º<strong>å±€éƒ¨å›žå½’å¹³æ»‘</strong>(loess smooth),å®ƒè¡¨ç¤ºxè½´å’Œyè½´å˜é‡ä¹‹é—´çš„ä¸€èˆ¬å…³ç³»ã€‚æœ€å¥½é€šè¿‡ä¾‹å­æ¥ç†è§£ã€‚æ•£ç‚¹å›¾ä¸­ageå’Œchildrençš„æ›²çº¿æ˜¯ä¸€ä¸ªå€’ç½®çš„U,å³°å€¼åœ¨ä¸­å¹´é™„è¿‘ï¼Œè¿™æ„å‘³ç€æ¡ˆä¾‹ä¸­å¹´é¾„æœ€å¤§çš„äººå’Œå¹´é¾„æœ€å°çš„äººæ¯”å¹´é¾„å¤§çº¦åœ¨ä¸­å¹´äººé™„è¿‘çš„äººæ‹¥æœ‰çš„å­©å­è¦å°‘ã€‚å› ä¸ºè¿™ç§è¶‹åŠ¿æ˜¯éžçº¿æ€§çš„ï¼Œæ‰€ä»¥è¿™ä¸€å‘çŽ°å·²ç»ä¸èƒ½å•ç‹¬ä»Žç›¸å…³æ€§æŽ¨æ–­å‡ºæ¥ã€‚å¦ä¸€æ–¹é¢ï¼Œå¯¹äºŽageå’Œbmiï¼Œå±€éƒ¨å›žå½’å…‰æ»‘æ˜¯ä¸€æ¡å€¾æ–œçš„é€æ¸ä¸Šå‡çš„çº¿ï¼Œè¿™è¡¨æ˜ŽBMIä¼šéšç€å¹´é¾„(age)çš„å¢žé•¿è€Œå¢žåŠ ã€‚å…¶å®žå·²ç»ä»Žç›¸å…³ç³»æ•°çŸ©é˜µä¸­æŽ¨æ–­å‡ºè¯¥ç»“è®ºã€‚</p>
<h3 id="æ¨¡åž‹è®­ç»ƒ-4">æ¨¡åž‹è®­ç»ƒ</h3>
<p>é»˜è®¤æˆªè·é¡¹å­˜åœ¨ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="n">ins_model</span> <span class="o">&lt;-</span> <span class="nf">lm</span><span class="p">(</span><span class="n">expenses</span> <span class="o">~</span> <span class="n">.,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">insurance</span><span class="p">)</span>
<span class="n">ins_model</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-SOS" data-lang="SOS">Call:
lm(formula = expenses ~ ., data = insurance)

Coefficients:
    (Intercept)              age          sexmale              bmi  
       -11941.6            256.8           -131.4            339.3  
       children        smokeryes  regionnorthwest  regionsoutheast  
          475.7          23847.5           -352.8          -1035.6  
regionsouthwest  
         -959.3  
</code></pre><p><code>lm()</code>å‡½æ•°è‡ªåŠ¨å°†<code>dummy coding</code>çš„æŠ€æœ¯åº”ç”¨äºŽæ¨¡åž‹æ‰€åŒ…å«çš„æ¯ä¸€ä¸ªå› å­ç±»åž‹çš„å˜é‡ä¸­ã€‚å®ƒå…è®¸åä¹‰ç‰¹å¾é€šè¿‡ä¸ºä¸€ä¸ªç‰¹å¾çš„æ¯ä¸€ç±»åˆ›å»ºä¸€ä¸ªäºŒå…ƒå˜é‡æ¥å°†å…¶å¤„ç†æˆæ•°å€¼åž‹å˜é‡ï¼Œå³å¦‚æžœè§‚æµ‹å€¼å±žäºŽæŸä¸€ç±»ï¼Œé‚£å°±è®¾å®šä¸º1ï¼Œå¦åˆ™è®¾å®šä¸º0ã€‚</p>
<p>å½“æ·»åŠ ä¸€ä¸ªè™šæ‹Ÿç¼–ç çš„å˜é‡åˆ°å›žå½’æ¨¡åž‹ä¸­æ—¶ï¼Œä¸€ä¸ªç±»åˆ«æ€»æ˜¯è¢«æŽ’é™¤åœ¨å¤–ä½œä¸ºå‚ç…§ç±»åˆ«ã€‚ç„¶åŽï¼Œä¼°è®¡çš„ç³»æ•°å°±æ˜¯ç›¸å¯¹äºŽå‚ç…§ç±»åˆ«è§£é‡Šçš„ã€‚åœ¨æˆ‘ä»¬çš„æ¨¡åž‹ä¸­ï¼ŒRè‡ªåŠ¨ä¿ç•™sexfemaleã€smokernoå’Œregionnortheastå˜é‡ï¼Œä½¿ä¸œåŒ—åœ°åŒºçš„å¥³æ€§éžå¸çƒŸè€…ä½œä¸ºå‚ç…§ç»„ã€‚å› æ­¤ï¼Œç›¸å¯¹äºŽå¥³æ€§æ¥è¯´ï¼Œç”·æ€§æ¯å¹´çš„åŒ»ç–—è´¹ç”¨è¦å°‘131.4ç¾Žå…ƒï¼›å¸çƒŸè€…å¹³å‡å¤šè¯23847.5ç¾Žå…ƒï¼Œè¿œè¿œè¶…è¿‡éžå¸çƒŸè€…ã€‚æ­¤å¤–ï¼Œæ¨¡åž‹ä¸­å¦å¤–3ä¸ªåœ°åŒºçš„ç³»æ•°æ˜¯è´Ÿçš„ï¼Œè¿™æ„å‘³ç€ä¸œåŒ—åœ°åŒºå€¾å‘äºŽå…·æœ‰æœ€é«˜çš„å¹³å‡åŒ»ç–—è´¹ç”¨ã€‚</p>
<p>é»˜è®¤Rä¸­ä½¿ç”¨factor(å› å­)å˜é‡çš„ç¬¬ä¸€ä¸ªæ°´å¹³ä½œä¸ºå‚ç…§ç»„ã€‚å¦‚æžœæƒ³ä½¿ç”¨å¦ä¸€ç±»(æ°´å¹³)ï¼Œå¯ä½¿ç”¨relevel()å‡½æ•°æ¥æ‰‹åŠ¨æŒ‡å®šå‚ç…§ç»„ã€‚</p>
<h3 id="æ€§èƒ½è¯„ä¼°-4">æ€§èƒ½è¯„ä¼°</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="nf">summary</span><span class="p">(</span><span class="n">ins_model</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-SOS" data-lang="SOS">Call:
lm(formula = expenses ~ ., data = insurance)

Residuals:
   Min       1Q   Median       3Q      Max 
-11302.7  -2850.9   -979.6   1383.9  29981.7 

Coefficients:
              Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)     -11941.6      987.8 -12.089  &lt; 2e-16 ***
age                256.8       11.9  21.586  &lt; 2e-16 ***
sexmale           -131.3      332.9  -0.395 0.693255    
bmi                339.3       28.6  11.864  &lt; 2e-16 ***
children           475.7      137.8   3.452 0.000574 ***
smokeryes        23847.5      413.1  57.723  &lt; 2e-16 ***
regionnorthwest   -352.8      476.3  -0.741 0.458976    
regionsoutheast  -1035.6      478.7  -2.163 0.030685 *  
regionsouthwest   -959.3      477.9  -2.007 0.044921 *  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 6062 on 1329 degrees of freedom
Multiple R-squared:  0.7509,	Adjusted R-squared:  0.7494 
F-statistic: 500.9 on 8 and 1329 DF,  p-value: &lt; 2.2e-16
</code></pre><p>Ræ–¹å€¼ä¸º0.7509ï¼Œæ‰€ä»¥æˆ‘ä»¬çŸ¥é“ï¼Œè¿‘75%çš„å› å˜é‡å˜åŒ–ç¨‹åº¦å¯ä»¥ç”±æ¨¡åž‹è§£é‡Šã€‚å› ä¸ºæ¨¡åž‹çš„ç‰¹å¾è¶Šå¤šï¼Œæ¨¡åž‹è§£é‡Šå˜åŒ–çš„ç¨‹åº¦å°±è¶Šå¤§ï¼Œæ‰€ä»¥è°ƒæ•´çš„Ræ–¹å€¼é€šè¿‡æƒ©ç½šå…·æœ‰å¾ˆå¤šè‡ªå˜é‡çš„æ¨¡åž‹æ¥ä¿®æ­£Ræ–¹å€¼ï¼Œç”¨å®ƒæ¥æ¯”è¾ƒå…·æœ‰ä¸åŒæ•°ç›®çš„è§£é‡Šå˜é‡çš„æ¨¡åž‹çš„æ€§èƒ½æ˜¯å¾ˆæœ‰ç”¨çš„ã€‚</p>
<h3 id="æ€§èƒ½æå‡-4">æ€§èƒ½æå‡</h3>
<h5 id="æ·»åŠ éžçº¿æ€§å…³ç³»">æ·»åŠ éžçº¿æ€§å…³ç³»</h5>
<p>è€ƒè™‘åˆ°éžçº¿æ€§å…³ç³»ï¼Œå¯ä»¥æ·»åŠ ä¸€ä¸ªé«˜é˜¶é¡¹åˆ°å›žå½’æ¨¡åž‹ä¸­ï¼ŒæŠŠæ¨¡åž‹å½“åšå¤šé¡¹å¼å¤„ç†ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="n">insurance</span><span class="o">$</span><span class="n">age2</span> <span class="o">&lt;-</span> <span class="n">insurance</span><span class="o">$</span><span class="n">age^2</span>
</code></pre></td></tr></table>
</div>
</div><h5 id="äºŒè¿›åˆ¶æŒ‡æ ‡è½¬æ¢">äºŒè¿›åˆ¶æŒ‡æ ‡è½¬æ¢</h5>
<p>å¦‚æžœä¸€ä¸ªç‰¹å¾çš„å½±å“ä¸æ˜¯ç´¯è®¡çš„ï¼Œè€Œæ˜¯å½“ç‰¹å¾çš„å–å€¼è¾¾åˆ°ä¸€ä¸ªç»™å®šçš„é˜ˆå€¼ä¹‹åŽæ‰äº§ç”Ÿå½±å“ï¼Œå¯ä»¥å¯¹æ•°å€¼åž‹å˜é‡è¿›è¡Œç¦»æ•£åŒ–ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="n">insurance</span><span class="o">$</span><span class="n">bmi30</span> <span class="o">&lt;-</span> <span class="nf">ifelse</span><span class="p">(</span><span class="n">insurance</span><span class="o">$</span><span class="n">bmi</span> <span class="o">&gt;=</span><span class="m">30</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">0</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><h5 id="åŠ å…¥ç›¸äº’ä½œç”¨çš„å½±å“">åŠ å…¥ç›¸äº’ä½œç”¨çš„å½±å“</h5>
<p>å½“ä¸¤ä¸ªç‰¹å¾å­˜åœ¨å…±åŒçš„å½±å“æ—¶ï¼Œç§°ä¸º<strong>ç›¸äº’ä½œç”¨</strong>ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="c1"># ç­‰ä»·å†™æ³•ï¼šexpenses ~ bmi30 + smokeryes + bmi30:smokeryes</span>
<span class="n">expenses</span> <span class="o">~</span> <span class="n">bmi30</span><span class="o">*</span><span class="n">smoker</span>
</code></pre></td></tr></table>
</div>
</div><h5 id="æ”¹è¿›çš„å›žå½’æ¨¡åž‹">æ”¹è¿›çš„å›žå½’æ¨¡åž‹</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="n">ins_model2</span> <span class="o">&lt;-</span> <span class="nf">lm</span><span class="p">(</span><span class="n">expenses</span> <span class="o">~</span> <span class="n">age</span> <span class="o">+</span> <span class="n">age2</span> <span class="o">+</span> <span class="n">children</span> <span class="o">+</span> <span class="n">bmi</span> <span class="o">+</span> <span class="n">sex</span> <span class="o">+</span>
                   <span class="n">bmi30</span><span class="o">*</span><span class="n">smoker</span> <span class="o">+</span> <span class="n">region</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">insurance</span><span class="p">)</span>
<span class="nf">summary</span><span class="p">(</span><span class="n">ins_model2</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-SOS" data-lang="SOS">Call:
lm(formula = expenses ~ age + age2 + children + bmi + sex + bmi30 * 
  smoker + region, data = insurance)

Residuals:
   Min       1Q   Median       3Q      Max 
-17297.1  -1656.0  -1262.7   -727.8  24161.6 

Coefficients:
                Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)       139.0053  1363.1359   0.102 0.918792    
age               -32.6181    59.8250  -0.545 0.585690    
age2                3.7307     0.7463   4.999 6.54e-07 ***
children          678.6017   105.8855   6.409 2.03e-10 ***
bmi               119.7715    34.2796   3.494 0.000492 ***
sexmale          -496.7690   244.3713  -2.033 0.042267 *  
bmi30            -997.9355   422.9607  -2.359 0.018449 *  
smokeryes       13404.5952   439.9591  30.468  &lt; 2e-16 ***
regionnorthwest  -279.1661   349.2826  -0.799 0.424285    
regionsoutheast  -828.0345   351.6484  -2.355 0.018682 *  
regionsouthwest -1222.1619   350.5314  -3.487 0.000505 ***
bmi30:smokeryes 19810.1534   604.6769  32.762  &lt; 2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 4445 on 1326 degrees of freedom
Multiple R-squared:  0.8664,	Adjusted R-squared:  0.8653 
F-statistic: 781.7 on 11 and 1326 DF,  p-value: &lt; 2.2e-16
</code></pre><p>ç›¸å¯¹ç¬¬ä¸€ä¸ªæ¨¡åž‹ï¼ŒRæ–¹å€¼ä»Ž0.75æé«˜åˆ°äº†0.87ï¼Œæ¨¡åž‹çŽ°åœ¨èƒ½è§£é‡ŠåŒ»ç–—è´¹ç”¨å˜åŒ–çš„87%ã€‚æ­¤å¤–ï¼Œå…³äºŽæ¨¡åž‹å‡½æ•°å½¢å¼çš„ç†è®ºä¼¼ä¹Žå¾—åˆ°äº†éªŒè¯ï¼Œé«˜é˜¶é¡¹age2åœ¨ç»Ÿè®¡ä¸Šæ˜¯æ˜¾è‘—çš„ï¼Œè‚¥èƒ–æŒ‡æ ‡bmi30ä¹Ÿæ˜¯æ˜¾è‘—çš„ã€‚è‚¥èƒ–å’Œå¸çƒŸä¹‹é—´çš„ç›¸äº’ä½œç”¨è¡¨æ˜Žäº†ä¸€ä¸ªå·¨å¤§çš„å½±å“ï¼Œé™¤äº†å•ç‹¬å¸çƒŸå¢žåŠ çš„è¶…è¿‡13404ç¾Žå…ƒçš„è´¹ç”¨å¤–ï¼Œè‚¥èƒ–çš„å¸çƒŸè€…æ¯å¹´è¦å¦èŠ±è´¹19810ç¾Žå…ƒï¼Œè¿™å¯èƒ½è¡¨æ˜Žå¸çƒŸä¼šåŠ å‰§(æ¶åŒ–)ä¸Žè‚¥èƒ–æœ‰å…³çš„ç–¾ç—…ã€‚</p>
<h2 id="å›žå½’æ ‘å’Œæ¨¡åž‹æ ‘ä¼°è®¡è‘¡è„é…’è´¨é‡">å›žå½’æ ‘å’Œæ¨¡åž‹æ ‘ä¼°è®¡è‘¡è„é…’è´¨é‡</h2>
<p>å†³ç­–æ ‘ç”¨äºŽæ•°å€¼é¢„æµ‹å¯åˆ†ä¸ºä¸¤ç±»ã€‚ç¬¬ä¸€ç±»ç§°ä¸º<strong>å›žå½’æ ‘</strong>(regression tree)ï¼Œå›žå½’æ ‘å¹¶æ²¡æœ‰ä½¿ç”¨çº¿æ€§å›žå½’çš„æ–¹æ³•ï¼Œè€Œæ˜¯åŸºäºŽåˆ°è¾¾å¶èŠ‚ç‚¹çš„æ¡ˆä¾‹çš„å¹³å‡å€¼åšå‡ºé¢„æµ‹ã€‚ç¬¬äºŒç±»å†³ç­–æ ‘ç§°ä¸º<strong>æ¨¡åž‹æ ‘</strong>(model trees)ï¼Œæ¨¡åž‹æ ‘å’Œå›žå½’æ ‘ä»¥å¤§è‡´ç›¸åŒçš„æ–¹å¼ç”Ÿé•¿ï¼Œä½†æ˜¯åœ¨æ¯ä¸ªå¶èŠ‚ç‚¹æ ¹æ®åˆ°è¾¾è¯¥èŠ‚ç‚¹çš„æ¡ˆä¾‹å»ºç«‹å¤šå…ƒçº¿æ€§å›žå½’æ¨¡åž‹ã€‚æ ¹æ®å¶èŠ‚ç‚¹çš„æ•°ç›®ï¼Œä¸€æ£µæ¨¡åž‹æ ‘å¯èƒ½ä¼šå»ºç«‹å‡ åç”šè‡³ä¸Šç™¾ä¸ªè¿™æ ·çš„æ¨¡åž‹ï¼Œè¿™å¯èƒ½ä¼šä½¿æ¨¡åž‹æ ‘æ¯”åŒç­‰çš„å›žå½’æ ‘æ›´éš¾ç†è§£ï¼Œä½†å¥½å¤„æ˜¯å®ƒä»¬ä¹Ÿè®¸èƒ½å»ºç«‹ä¸€ä¸ªæ›´åŠ ç²¾ç¡®çš„æ¨¡åž‹ã€‚</p>
<h5 id="å°†å›žå½’åŠ å…¥åˆ°å†³ç­–æ ‘">å°†å›žå½’åŠ å…¥åˆ°å†³ç­–æ ‘</h5>
<p>åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæ•°å€¼å†³ç­–æ ‘æä¾›äº†æ˜Žæ˜¾çš„ä¼˜åŠ¿ã€‚ä¾‹å¦‚ï¼Œå†³ç­–æ ‘å¯èƒ½æ›´é€‚åˆäºŽå…·æœ‰è®¸å¤šç‰¹å¾å’Œç»“æžœä¹‹é—´å…·æœ‰è®¸å¤šå¤æ‚ã€éžçº¿æ€§å…³ç³»çš„ä»»åŠ¡ï¼Œè¿™äº›æƒ…æ™¯ç»™å›žå½’å¸¦æ¥äº†æŒ‘æˆ˜ã€‚è€Œä¸”ï¼Œå›žå½’å»ºæ¨¡å…³äºŽæ•°å€¼åž‹æ•°æ®æ˜¯å¦‚ä½•åˆ†å¸ƒçš„å‡è®¾å¾€å¾€è¢«çŽ°å®žä¸–ç•Œçš„æ•°æ®æ‰€è¿èƒŒï¼Œä½†å†³ç­–æ ‘å°±ä¸å­˜åœ¨è¿™æ ·çš„æƒ…å†µã€‚</p>
<p>åœ¨åˆ†ç±»å†³ç­–æ ‘ä¸­ï¼Œä¸€è‡´æ€§(å‡åŒ€æ€§)æ˜¯ç”±ç†µå€¼æ¥åº¦é‡çš„ï¼Œè€Œå¯¹äºŽæ•°å€¼åž‹æ•°æ®æ˜¯æœªå®šä¹‰çš„ã€‚äºŽæ˜¯ï¼Œå¯¹äºŽæ•°å€¼å†³ç­–æ ‘ï¼Œä¸€è‡´æ€§(å‡åŒ€æ€§)å¯ä»¥é€šè¿‡ç»Ÿè®¡é‡æ¥åº¦é‡(æ¯”å¦‚æ–¹å·®ã€æ ‡å‡†å·®æˆ–è€…æ˜¯å¹³å‡ç»å¯¹åå·®)æ¥åº¦é‡ã€‚æ ¹æ®æ‰€ä½¿ç”¨çš„å†³ç­–æ ‘ç”Ÿé•¿ç®—æ³•ï¼Œä¸€è‡´æ€§(å‡åŒ€æ€§)åº¦é‡å¯èƒ½ä¼šæœ‰æ‰€ä¸åŒï¼Œä½†åŸºæœ¬åŽŸç†æ˜¯ç›¸åŒçš„ã€‚</p>
<p>ä¸€ä¸ªå¸¸è§çš„åˆ†å‰²æ ‡å‡†ç§°ä¸º<strong>æ ‡å‡†åå·®å‡å°‘</strong>(Standard Deviation Reduction, SDR)ï¼Œå®ƒç”±ä¸‹é¢çš„å…¬å¼å®šä¹‰ï¼š$$SDR=sd(T)-\sum_i{\frac{|T_i|}{|T|}} \times sd(T_i)$$</p>
<p>åœ¨è¿™ä¸ªå…¬å¼ä¸­ï¼Œå‡½æ•°$sd(T)$æŒ‡çš„æ˜¯é›†åˆ$T$ä¸­çš„å€¼çš„æ ‡å‡†å·®ï¼Œè€Œ$T_i,T_2,\cdots,T_n$æ˜¯ç”±å¯¹äºŽä¸€ä¸ªç‰¹å¾çš„ä¸€æ¬¡åˆ†å‰²äº§ç”Ÿçš„å€¼çš„åˆé›†ï¼›$|T|$é¡¹æŒ‡çš„æ˜¯é›†åˆ$T$ä¸­è§‚æµ‹å€¼çš„æ•°é‡ã€‚ä»Žæœ¬è´¨ä¸Šè®²ï¼Œå…¬å¼åº¦é‡çš„æ˜¯ä»ŽåŽŸå§‹å€¼çš„æ ‡å‡†å·®å‡åŽ»åˆ†å‰²åŽåŠ æƒçš„æ ‡å‡†å·®çš„å‡å°‘é‡ã€‚ä¸‹ä¾‹ï¼Œå†³ç­–æ ‘è®¡ç®—SDRå†³å®šå¯¹äºŒå…ƒç‰¹å¾Aè¿›è¡Œåˆ†å‰²è¿˜æ—¶å¯¹äºŒå…ƒç‰¹å¾Bè¿›è¡Œåˆ†å‰²</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>åŽŸå§‹æ•°æ®</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>2</td>
<td>2</td>
<td>3</td>
<td>4</td>
<td>5</td>
<td>5</td>
<td>6</td>
<td>6</td>
<td>7</td>
<td>7</td>
<td>7</td>
<td>7</td>
</tr>
<tr>
<td>æ ¹æ®ç‰¹å¾Aåˆ’åˆ†</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>2</td>
<td>2</td>
<td>3</td>
<td>4</td>
<td>5</td>
<td>5</td>
<td>$</td>
<td>$6</td>
<td>6</td>
<td>7</td>
<td>7</td>
<td>7</td>
</tr>
<tr>
<td>æ ¹æ®ç‰¹å¾Båˆ’åˆ†</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>2</td>
<td>2</td>
<td>3</td>
<td>4</td>
<td>$</td>
<td>$5</td>
<td>5</td>
<td>6</td>
<td>6</td>
<td>7</td>
<td>7</td>
<td>7</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td>T_1</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>T_2</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="n">tee</span> <span class="o">&lt;-</span> <span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">,</span> <span class="m">4</span><span class="p">,</span> <span class="m">5</span><span class="p">,</span> <span class="m">5</span><span class="p">,</span> <span class="m">6</span><span class="p">,</span> <span class="m">6</span><span class="p">,</span> <span class="m">7</span><span class="p">,</span> <span class="m">7</span><span class="p">,</span> <span class="m">7</span><span class="p">,</span> <span class="m">7</span><span class="p">)</span> 
<span class="n">at1</span> <span class="o">&lt;-</span> <span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">,</span> <span class="m">4</span><span class="p">,</span> <span class="m">5</span><span class="p">,</span> <span class="m">5</span><span class="p">)</span>
<span class="n">at2</span> <span class="o">&lt;-</span> <span class="nf">c</span><span class="p">(</span><span class="m">6</span><span class="p">,</span> <span class="m">6</span><span class="p">,</span> <span class="m">7</span><span class="p">,</span> <span class="m">7</span><span class="p">,</span> <span class="m">7</span><span class="p">,</span> <span class="m">7</span><span class="p">)</span>
<span class="n">bt1</span> <span class="o">&lt;-</span> <span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">,</span> <span class="m">4</span><span class="p">)</span>
<span class="n">bt2</span> <span class="o">&lt;-</span> <span class="nf">c</span><span class="p">(</span><span class="m">5</span><span class="p">,</span> <span class="m">5</span><span class="p">,</span> <span class="m">6</span><span class="p">,</span> <span class="m">6</span><span class="p">,</span> <span class="m">7</span><span class="p">,</span> <span class="m">7</span><span class="p">,</span> <span class="m">7</span><span class="p">,</span> <span class="m">7</span><span class="p">)</span>
<span class="n">sdr_a</span> <span class="o">&lt;-</span> <span class="nf">sd</span><span class="p">(</span><span class="n">tee</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="nf">length</span><span class="p">(</span><span class="n">at1</span><span class="p">)</span> <span class="o">/</span> <span class="nf">length</span><span class="p">(</span><span class="n">tee</span><span class="p">)</span> <span class="o">*</span> <span class="nf">sd</span><span class="p">(</span><span class="n">at1</span><span class="p">)</span> <span class="o">+</span> 
         <span class="nf">length</span><span class="p">(</span><span class="n">at2</span><span class="p">)</span> <span class="o">/</span> <span class="nf">length</span><span class="p">(</span><span class="n">tee</span><span class="p">)</span> <span class="o">*</span> <span class="nf">sd</span><span class="p">(</span><span class="n">at2</span><span class="p">))</span>
<span class="n">sdr_b</span> <span class="o">&lt;-</span> <span class="nf">sd</span><span class="p">(</span><span class="n">tee</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="nf">length</span><span class="p">(</span><span class="n">bt1</span><span class="p">)</span> <span class="o">/</span> <span class="nf">length</span><span class="p">(</span><span class="n">tee</span><span class="p">)</span> <span class="o">*</span> <span class="nf">sd</span><span class="p">(</span><span class="n">bt1</span><span class="p">)</span> <span class="o">+</span> 
         <span class="nf">length</span><span class="p">(</span><span class="n">bt2</span><span class="p">)</span> <span class="o">/</span> <span class="nf">length</span><span class="p">(</span><span class="n">tee</span><span class="p">)</span> <span class="o">*</span> <span class="nf">sd</span><span class="p">(</span><span class="n">bt2</span><span class="p">))</span>
<span class="n">sdr_a</span>
<span class="n">sdr_b</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-SOS" data-lang="SOS">1.20281456809792
1.39275139353039
</code></pre><p>å¯¹ç‰¹å¾Bï¼Œæ ‡å‡†å·®å‡å°‘åœ°æ›´å¤šï¼Œæ‰€ä»¥å†³ç­–æ ‘é¦–å…ˆä½¿ç”¨ç‰¹å¾Bï¼Œå®ƒäº§ç”Ÿäº†æ¯”ç‰¹å¾Aç•¥å¤šçš„ä¸€è‡´æ€§(å‡åŒ€æ€§)é›†åˆã€‚å‡è®¾å†³ç­–æ ‘åœ¨è¿™é‡Œåœæ­¢ç”Ÿé•¿ï¼Œåªä½¿ç”¨äº†è¿™ä¸€ä¸ªåˆ†å‰²ï¼Œé‚£ä¹ˆå›žå½’æ ‘çš„å·¥ä½œå°±å®Œæˆäº†ã€‚å®ƒå¯ä»¥ä¸ºæ–°çš„æ¡ˆä¾‹è¿›è¡Œé¢„æµ‹ï¼Œå–å†³äºŽå®ƒä»¬æ˜¯è½å…¥ç»„T1è¿˜æ˜¯ç»„T2ã€‚å¦‚æžœæ¡ˆä¾‹æœ€åŽåœ¨T1ä¸­ï¼Œé‚£ä¹ˆæ¨¡åž‹å°†é¢„æµ‹mean(bt1)=2ï¼Œå¦åˆ™å°†é¢„æµ‹mean(bt2)=6.25ã€‚</p>
<p>ç›¸æ¯”ä¹‹ä¸‹ï¼Œæ¨¡åž‹æ ‘å°†å¤šèµ°ä¸€æ­¥ã€‚ä½¿ç”¨è½å…¥bt1çš„7ä¸ªè®­ç»ƒæ¡ˆä¾‹å’Œè½å…¥bt2çš„8ä¸ªè®­ç»ƒæ¡ˆä¾‹ï¼Œæ¨¡åž‹æ ‘å¯ä»¥å»ºç«‹ä¸€ä¸ªç»“æžœç›¸å¯¹äºŽç‰¹å¾Açš„çº¿æ€§å›žå½’æ¨¡åž‹(åœ¨å›žå½’æ¨¡åž‹ä¸­ï¼Œç‰¹å¾Bæ²¡æœ‰ä»»ä½•å¸®åŠ©ï¼Œå› ä¸ºæ‰€æœ‰ä½äºŽå¶èŠ‚ç‚¹çš„ä¸ªæ¡ˆä¸ŽBæœ‰ç›¸åŒå€¼)ã€‚ç„¶åŽï¼Œæ¨¡åž‹æ ‘å¯ä»¥ä½¿ç”¨ä¸¤ä¸ªçº¿æ€§æ¨¡åž‹ä¸­çš„ä»»ä½•ä¸€ä¸ªä¸ºæ–°çš„æ¡ˆä¾‹åšå‡ºé¢„æµ‹ã€‚</p>
<h3 id="æ•°æ®å¤„ç†-5">æ•°æ®å¤„ç†</h3>
<p>ç™½è‘¡è„é…’æ•°æ®åŒ…å«äº†4898ä¸ªè‘¡è„é…’æ¡ˆä¾‹çš„11ç§åŒ–å­¦ç‰¹æ€§ä¿¡æ¯ã€‚å¯¹äºŽæ¯ç§è‘¡è„é…’ï¼Œå®žéªŒå®¤åˆ†æžæµ‹é‡çš„ç‰¹æ€§åŒ…æ‹¬é…¸æ€§ã€å«ç³–é‡ã€æ°¯åŒ–ç‰©å«é‡ã€ç¡«çš„å«é‡ã€é…’ç²¾åº¦ã€pHå€¼å’Œå¯†åº¦ã€‚ç„¶åŽï¼Œè¿™äº›æ ·æœ¬ä¼šç”±ä¸å°‘äºŽ3ååšå®šè€…ç»„æˆçš„å°ç»„ä»¥ç›²å“çš„æ–¹å¼è¿›è¡Œè¯„çº§ï¼Œè´¨é‡å°ºåº¦ä»Ž0ï¼ˆå¾ˆå·®ï¼‰åˆ°10ï¼ˆæžå¥½ï¼‰ã€‚å¦‚æžœé‰´å®šè€…å¯¹äºŽè¯„çº§æ²¡æœ‰è¾¾æˆä¸€è‡´æ„è§ï¼Œé‚£ä¹ˆå°±ä¼šä½¿ç”¨ä¸­é—´å€¼ã€‚</p>
<p>ç”±äºŽç‰¹å¾éƒ½æ˜¯æ•°å€¼åž‹çš„ï¼Œå¯å¿½ç•¥<code>stringAsFactor</code>å‚æ•°ã€‚è‘¡è„é…’çš„11ä¸ªç‰¹å¾å’Œå“è´¨(quality)å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="n">wine</span> <span class="o">&lt;-</span> <span class="nf">read.csv</span><span class="p">(</span><span class="s">&#34;G:/R/Machine Learning With R/data/Chapter 06/whitewines.csv&#34;</span><span class="p">)</span>
<span class="nf">str</span><span class="p">(</span><span class="n">wine</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-SOS" data-lang="SOS">'data.frame':	4898 obs. of  12 variables:
$ fixed.acidity       : num  6.7 5.7 5.9 5.3 6.4 7 7.9 6.6 7 6.5 ...
$ volatile.acidity    : num  0.62 0.22 0.19 0.47 0.29 0.14 0.12 0.38 0.16 0.37 ...
$ citric.acid         : num  0.24 0.2 0.26 0.1 0.21 0.41 0.49 0.28 0.3 0.33 ...
$ residual.sugar      : num  1.1 16 7.4 1.3 9.65 0.9 5.2 2.8 2.6 3.9 ...
$ chlorides           : num  0.039 0.044 0.034 0.036 0.041 0.037 0.049 0.043 0.043 0.027 ...
$ free.sulfur.dioxide : num  6 41 33 11 36 22 33 17 34 40 ...
$ total.sulfur.dioxide: num  62 113 123 74 119 95 152 67 90 130 ...
$ density             : num  0.993 0.999 0.995 0.991 0.993 ...
$ pH                  : num  3.41 3.22 3.49 3.48 2.99 3.25 3.18 3.21 2.88 3.28 ...
$ sulphates           : num  0.32 0.46 0.42 0.54 0.34 0.43 0.47 0.47 0.47 0.39 ...
$ alcohol             : num  10.4 8.9 10.1 11.2 10.9 ...
$ quality             : int  5 6 6 4 6 6 6 6 6 7 ...
</code></pre></br>
ç›¸å…³ç³»æ•°çŸ©é˜µï¼š
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="c1"># install.packages(&#39;corrplot&#39;)</span>
<span class="nf">library</span><span class="p">(</span><span class="n">corrplot</span><span class="p">)</span>
<span class="n">corr</span> <span class="o">&lt;-</span> <span class="nf">cor</span><span class="p">(</span><span class="n">wine</span><span class="p">)</span>
<span class="nf">corrplot</span><span class="p">(</span><span class="n">corr</span> <span class="o">=</span> <span class="n">corr</span><span class="p">,</span> <span class="n">order</span> <span class="o">=</span><span class="s">&#39;AOE&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p><img src="./fig20210924/output_6_1.png" alt="png" /></p>
<p>å†³ç­–æ ‘çš„ä¼˜ç‚¹ä¹‹ä¸€å°±æ˜¯å®ƒä»¬å¯ä»¥å¤„ç†å¤šç§ç±»åž‹çš„æ•°æ®è€Œæ— éœ€å°†ç‰¹å¾è§„èŒƒåŒ–æˆ–è€…æ ‡å‡†åŒ–ã€‚æŸ¥çœ‹è‘¡è„é…’è´¨é‡åˆ†å¸ƒï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="nf">hist</span><span class="p">(</span><span class="n">wine</span><span class="o">$</span><span class="n">quality</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p><img src="./fig20210924/output_8_0.png" alt="png" /></p>
<p>è‘¡è„é…’çš„è´¨é‡å€¼ä¼¼ä¹Žéµå¾ªä¸€ä¸ªç›¸å½“äºŽæ­£æ€çš„é’Ÿåž‹åˆ†å¸ƒï¼Œå¤§çº¦ä»¥æ•°å€¼6ä¸ºä¸­å¿ƒã€‚ä»Žç›´è§‚ä¸Šçœ‹è¿™æ˜¯æœ‰æ„ä¹‰çš„ï¼Œå› ä¸ºå¤§éƒ¨åˆ†è‘¡è„é…’çš„è´¨é‡ä¸ºå¹³å‡è´¨é‡ï¼Œå°‘æ•°è‘¡è„é…’ç‰¹åˆ«å·®æˆ–è€…ç‰¹åˆ«å¥½ã€‚ç”±äºŽwine(è‘¡è„é…’)æ•°æ®å·²ç»å¤„ç†æˆéšæœºçš„é¡ºåºï¼Œæ‰€ä»¥å¯ä»¥å°†æ•°æ®åˆ†å‰²æˆä¸¤ä¸ªè¿žç»­è¡Œçš„é›†åˆï¼Œè¿™é‡Œç”¨75%çš„æ•°æ®é›†ç”¨äºŽè®­ç»ƒï¼Œ25%çš„æ•°æ®é›†ç”¨äºŽæµ‹è¯•ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="n">wine_train</span> <span class="o">&lt;-</span> <span class="n">wine[1</span><span class="o">:</span><span class="m">3750</span><span class="p">,</span><span class="n">]</span>
<span class="n">wine_test</span> <span class="o">&lt;-</span> <span class="n">wine[3751</span><span class="o">:</span><span class="m">4898</span><span class="p">,</span><span class="n">]</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="æ¨¡åž‹è®­ç»ƒ-5">æ¨¡åž‹è®­ç»ƒ</h3>
<p><code>rpart</code>(é€’å½’åˆ’åˆ†)æ·»åŠ åŒ…ä¸­æä¾›<code>CART</code>(åˆ†ç±»å›žå½’æ ‘)çš„å®žçŽ°ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="c1"># install.packages(&#34;rpart&#34;)</span>
<span class="nf">library</span><span class="p">(</span><span class="n">rpart</span><span class="p">)</span>
<span class="n">m.rpart</span> <span class="o">&lt;-</span> <span class="nf">rpart</span><span class="p">(</span><span class="n">quality</span> <span class="o">~</span> <span class="n">.,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">wine_train</span><span class="p">)</span>
<span class="n">m.rpart</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-SOS" data-lang="SOS">n= 3750 

node), split, n, deviance, yval
      * denotes terminal node

 1) root 3750 2945.53200 5.870933  
   2) alcohol&lt; 10.85 2372 1418.86100 5.604975  
     4) volatile.acidity&gt;=0.2275 1611  821.30730 5.432030  
       8) volatile.acidity&gt;=0.3025 688  278.97670 5.255814 *
       9) volatile.acidity&lt; 0.3025 923  505.04230 5.563380 *
     5) volatile.acidity&lt; 0.2275 761  447.36400 5.971091 *
   3) alcohol&gt;=10.85 1378 1070.08200 6.328737  
     6) free.sulfur.dioxide&lt; 10.5 84   95.55952 5.369048 *
     7) free.sulfur.dioxide&gt;=10.5 1294  892.13600 6.391036  
      14) alcohol&lt; 11.76667 629  430.11130 6.173291  
        28) volatile.acidity&gt;=0.465 11   10.72727 4.545455 *
        29) volatile.acidity&lt; 0.465 618  389.71680 6.202265 *
      15) alcohol&gt;=11.76667 665  403.99400 6.596992 *
</code></pre><p>æ‰€æœ‰çš„3750ä¸ªæ¡ˆä¾‹ä»Žæ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œå…¶ä¸­ï¼Œæœ‰2372ä¸ªæ¡ˆä¾‹alcohol&lt;10.85,1378ä¸ªæ¡ˆä¾‹çš„alcohol&gt;=10.85ã€‚å› ä¸ºalcohol(é…’ç²¾)æ˜¯å†³ç­–æ ‘ä¸­ç¬¬ä¸€ä¸ªä½¿ç”¨çš„å˜é‡ï¼Œæ‰€ä»¥å®ƒæ˜¯è‘¡è„é…’è´¨é‡ä¸­å”¯ä¸€æœ€é‡è¦çš„æŒ‡æ ‡ã€‚ç”¨*è¡¨ç¤ºçš„èŠ‚ç‚¹æ˜¯ç»ˆç«¯æˆ–è€…å¶èŠ‚ç‚¹ï¼Œè¿™æ„å‘³ç€å®ƒä»¬ä¼šäº§ç”Ÿé¢„æµ‹(è¿™é‡Œä½œä¸ºyvalåˆ—å‡ºæ¥)ã€‚ä¾‹å¦‚ï¼ŒèŠ‚ç‚¹5æœ‰ä¸€ä¸ª5.971091çš„yvalã€‚å½“è¯¥å†³ç­–æ ‘ç”¨æ¥é¢„æµ‹æ—¶ï¼Œå¯¹ä»»æ„ä¸€ä¸ªè‘¡è„é…’æ¡ˆä¾‹ï¼Œå¦‚æžœå…¶alcohol&lt;10.85ä¸”volatile.acidity&lt;0.2275ï¼Œé‚£ä¹ˆå®ƒçš„è´¨é‡å°†é¢„æµ‹ä¸º5.97ã€‚å…³äºŽè¯¥å†³ç­–æ ‘æ‹Ÿåˆçš„æ›´è¯¦ç»†çš„æ€»ç»“ï¼ŒåŒ…æ‹¬æ¯ä¸€ä¸ªèŠ‚ç‚¹çš„å‡æ–¹è¯¯å·®å’Œæ•´ä½“ç‰¹å¾é‡è¦æ€§çš„åº¦é‡ï¼Œä½¿ç”¨<code>summary(m.rpart)</code>å‘½ä»¤èŽ·å¾—ã€‚</p>
<h5 id="å¯è§†åŒ–å†³ç­–æ ‘">å¯è§†åŒ–å†³ç­–æ ‘</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="c1"># install.packages(&#39;rpart.plot&#39;)</span>
<span class="nf">library</span><span class="p">(</span><span class="n">rpart.plot</span><span class="p">)</span>
<span class="nf">rpart.plot</span><span class="p">(</span><span class="n">m.rpart</span><span class="p">,</span> <span class="n">digits</span> <span class="o">=</span> <span class="m">3</span><span class="p">)</span><span class="c1">#åŸºæœ¬å†³ç­–æ ‘å›¾</span>
</code></pre></td></tr></table>
</div>
</div><p><img src="./fig20210924/output_14_1.png" alt="png" /></p>
<p>å‚æ•°<code>digits</code>æŽ§åˆ¶åŒ…å«åœ¨å›¾å½¢ä¸­æ•°å­—ä½æ•°ï¼Œå‚æ•°<code>fallen.leaves</code>å¼ºåˆ¶å¶èŠ‚ç‚¹ä¸Žå›¾çš„åº•éƒ¨ä¿æŒä¸€è‡´(å¯¹é½)ï¼Œå‚æ•°<code>type</code>å’Œå‚æ•°<code>extra</code>å½±å“å†³ç­–æ ‘å’ŒèŠ‚ç‚¹è¢«æ ‡è®°çš„æ–¹å¼ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="nf">rpart.plot</span><span class="p">(</span><span class="n">m.rpart</span><span class="p">,</span> <span class="n">digits</span> <span class="o">=</span> <span class="m">4</span><span class="p">,</span> <span class="n">fallen.leaves</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">,</span> <span class="n">type</span> <span class="o">=</span> <span class="m">4</span><span class="p">,</span> <span class="n">extra</span> <span class="o">=</span> <span class="m">101</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p><img src="./fig20210924/output_16_0.png" alt="png" /></p>
<h3 id="æ€§èƒ½è¯„ä¼°-5">æ€§èƒ½è¯„ä¼°</h3>
<p><code>p &lt;- predict(m, test, type=&quot;vector&quot;)</code>å‚æ•°<code>type</code>ç»™å®šè¿”å›žçš„é¢„æµ‹å€¼çš„ç±»åž‹ï¼Œå–å€¼ä¸º&quot;vector&quot;(é¢„æµ‹æ•°å€¼åž‹æ•°æ®)ï¼Œæˆ–è€…&quot;class&quot;(é¢„æµ‹ç±»åˆ«)ï¼Œæˆ–è€…&quot;prob&quot;(é¢„æµ‹ç±»åˆ«çš„æ¦‚çŽ‡)è¯¥å‡½æ•°çš„è¿”å›žå€¼å–å†³äºŽtypeå‚æ•°ï¼Œå®ƒæ˜¯ä¸€ä¸ªå«æœ‰é¢„æµ‹å€¼çš„å‘é‡ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="n">p.rpart</span> <span class="o">&lt;-</span> <span class="nf">predict</span><span class="p">(</span><span class="n">m.rpart</span><span class="p">,</span> <span class="n">wine_test</span><span class="p">)</span>
<span class="nf">summary</span><span class="p">(</span><span class="n">p.rpart</span><span class="p">)</span>
<span class="nf">summary</span><span class="p">(</span><span class="n">wine_test</span><span class="o">$</span><span class="n">quality</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-SOS" data-lang="SOS"> Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
4.545   5.563   5.971   5.893   6.202   6.597 

 Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
3.000   5.000   6.000   5.901   6.000   9.000 
</code></pre><p>è¯¥æ¨¡åž‹ä¸èƒ½æ­£ç¡®è¯†åˆ«æžç«¯çš„æƒ…å½¢ï¼Œå°¤å…¶æ˜¯æœ€å¥½çš„å’Œæœ€å·®çš„è‘¡è„é…’ã€‚é¢„æµ‹è´¨é‡(quality)å€¼å’ŒçœŸå®žçš„è´¨é‡å•Š(quality)å€¼ä¹‹é—´çš„ç›¸å…³æ€§æä¾›äº†ä¸€ç§åº¦é‡æ¨¡åž‹æ€§èƒ½çš„ç®€å•æ–¹æ³•ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="nf">cor</span><span class="p">(</span><span class="n">p.rpart</span><span class="p">,</span> <span class="n">wine_test</span><span class="o">$</span><span class="n">quality</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-SOS" data-lang="SOS">0.53695245485698
</code></pre><p>ç›¸å…³ç³»æ•°=0.54æ˜¯å¯ä»¥æŽ¥å—çš„ã€‚ç„¶è€Œï¼Œç›¸å…³ç³»æ•°åªæ˜¯åº¦é‡äº†é¢„æµ‹å€¼ä¸ŽçœŸå®žå€¼çš„ç›¸å…³æ€§æœ‰å¤šå¼ºï¼Œä¸èƒ½åº¦é‡é¢„æµ‹å€¼ç¦»çœŸå®žå€¼æœ‰å¤šè¿œã€‚</p>
<h5 id="ç”¨å¹³å‡ç»å¯¹è¯¯å·®åº¦é‡æ€§èƒ½">ç”¨å¹³å‡ç»å¯¹è¯¯å·®åº¦é‡æ€§èƒ½</h5>
<p><strong>å¹³å‡ç»å¯¹è¯¯å·®</strong>(Mean Absolute Error, MAE)èƒ½å¤Ÿåº¦é‡é¢„æµ‹å€¼ç¦»çœŸå®žå€¼æœ‰å¤šè¿œã€‚MAEçš„æ–¹ç¨‹å¦‚ä¸‹ï¼Œå…¶ä¸­$n$è¡¨ç¤ºé¢„æµ‹å€¼çš„æ•°é‡ï¼Œ$e_i$è¡¨ç¤ºç¬¬$i$ä¸ªé¢„æµ‹å€¼çš„è¯¯å·®ã€‚ä»Žæœ¬è´¨ä¸Šè®²ï¼Œè¿™ä¸ªæ–¹ç¨‹å¾—åˆ°çš„<br />
#æ˜¯è¯¯å·®ç»å¯¹å€¼çš„å‡å€¼ã€‚$$MAE=\frac{1}{n}\sum_{i=1}^n|e_i|$$</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="n">MAE</span> <span class="o">&lt;-</span> <span class="nf">function</span><span class="p">(</span><span class="n">actual</span><span class="p">,</span> <span class="n">predicted</span><span class="p">){</span>
    <span class="nf">mean</span><span class="p">(</span><span class="nf">abs</span><span class="p">(</span><span class="n">actual</span> <span class="o">-</span> <span class="n">predicted</span><span class="p">))</span>
<span class="p">}</span>
<span class="nf">MAE</span><span class="p">(</span><span class="n">p.rpart</span><span class="p">,</span> <span class="n">wine_test</span><span class="o">$</span><span class="n">quality</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-SOS" data-lang="SOS">0.587265173945366
</code></pre><p>å°±å¹³å‡è€Œè¨€ï¼Œè¿™æ„å‘³ç€æ¨¡åž‹çš„é¢„æµ‹å€¼ä¸ŽçœŸå®žçš„è´¨é‡åˆ†æ•°ä¹‹é—´çš„å·®å€¼å¤§çº¦ä¸º0.59ã€‚åŸºäºŽè´¨é‡çš„å°ºåº¦0-10ï¼Œè¿™ä¼¼ä¹Žè¡¨æ˜Žæˆ‘ä»¬çš„æ¨¡åž‹åšå¾—ç›¸å½“å¥½ã€‚å¦ä¸€æ–¹é¢ï¼Œå¤§å¤šæ•°è‘¡è„é…’æ—¢ä¸æ˜¯å¾ˆå¥½ä¹Ÿä¸æ˜¯å¾ˆå·®ï¼Œè´¨é‡çš„åˆ†æ•°å¤§çº¦ä¸º5-6ã€‚å› æ­¤ï¼Œæ ¹æ®è¿™ä¸ªæŒ‡æ ‡ï¼Œä¸€ä¸ªä»€ä¹ˆéƒ½æ²¡æœ‰åšè€Œä»…ä»…æ˜¯é¢„æµ‹äº†å‡å€¼çš„åˆ†ç±»å™¨å¯èƒ½ä¼šåšå¾—ç›¸å½“å¥½ã€‚è®­ç»ƒæ•°æ®é›†ä¸­çš„å¹³å‡è´¨é‡ç­‰çº§å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="nf">mean</span><span class="p">(</span><span class="n">wine_train</span><span class="o">$</span><span class="n">quality</span><span class="p">)</span>
<span class="nf">MAE</span><span class="p">(</span><span class="nf">mean</span><span class="p">(</span><span class="n">wine_train</span><span class="o">$</span><span class="n">quality</span><span class="p">),</span> <span class="n">wine_test</span><span class="o">$</span><span class="n">quality</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-SOS" data-lang="SOS">5.87093333333333

0.671923809523809
</code></pre><p>å¦‚æžœå¯¹æ¯ä¸€ä¸ªè‘¡è„é…’æ¡ˆä¾‹é¢„æµ‹çš„å€¼ä¸º5.87ï¼Œé‚£ä¹ˆå°†åªæœ‰å¤§çº¦0.67çš„å¹³å‡ç»å¯¹è¯¯å·®å›žå½’æ ‘(MAE=0.59)æ¯”ä¼°ç®—çš„å‡å€¼(MAE=0.67)å¹³å‡æ›´æŽ¥è¿‘äºŽçœŸå®žçš„è´¨é‡åˆ†æ•°ï¼Œä½†ç›¸å·®ä¸æ˜¯å¾ˆå¤§ã€‚</p>
<h3 id="æ€§èƒ½æå‡-5">æ€§èƒ½æå‡</h3>
<p>æ¨¡åž‹æ ‘å¯ä»¥é€šè¿‡å›žå½’æ¨¡åž‹å–ä»£å¶èŠ‚ç‚¹æ¥æ”¹å–„å›žå½’æ ‘ã€‚è¿™é€šå¸¸ä¼šå¯¼è‡´æ¯”å›žå½’æ ‘æ›´ç²¾ç¡®çš„ç»“æžœï¼Œè€Œå›žå½’æ ‘åœ¨å¶èŠ‚ç‚¹è¿›è¡Œé¢„æµ‹æ—¶åªä½¿ç”¨äº†ä¸€ä¸ªå•ä¸€çš„å€¼ã€‚ç›®å‰ï¼Œæ¨¡åž‹æ ‘ä¸­æœ€å…ˆè¿›çš„ç®—æ³•æ˜¯<code>M5'ç®—æ³•</code>(M5-prime)ã€‚</p>

<div id="a205e2b298947ed3" class="codetab">
  <div class="codetab__links">
    
      <button class="codetab__link" aria-label="Tab link">R</button>
    
      <button class="codetab__link" aria-label="Tab link">Output</button>
    
  </div>
  
  
<div id="47d30456d9101c25" class="codetab__content">
  <div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="nf">Sys.setenv</span><span class="p">(</span><span class="n">JAVA_HOME</span><span class="o">=</span><span class="s">&#39;D:\\Program Files\\Java\\jdk1.8.0_191\\jre&#39;</span><span class="p">)</span>
<span class="nf">library</span><span class="p">(</span><span class="n">RWeka</span><span class="p">)</span>
<span class="n">m.m5p</span> <span class="o">&lt;-</span> <span class="nf">M5P</span><span class="p">(</span><span class="n">quality</span> <span class="o">~</span> <span class="n">.,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">wine_train</span><span class="p">)</span>
<span class="n">m.m5p</span>
</code></pre></td></tr></table>
</div>
</div>
</div>
  
  
<div id="4a4d3ffd92f54464" class="codetab__content">
  <pre><code>M5 pruned model tree:
(using smoothed linear models)

alcohol &lt;= 10.85 : 
|   volatile.acidity &lt;= 0.237 : 
|   |   fixed.acidity &lt;= 6.85 : 
|   |   |   sulphates &lt;= 0.485 : 
|   |   |   |   fixed.acidity &lt;= 6.55 : 
|   |   |   |   |   chlorides &lt;= 0.038 : LM1 (34/79.918%)
|   |   |   |   |   chlorides &gt;  0.038 : 
|   |   |   |   |   |   free.sulfur.dioxide &lt;= 42 : LM2 (65/50.3%)
|   |   |   |   |   |   free.sulfur.dioxide &gt;  42 : LM3 (53/59.54%)
|   |   |   |   fixed.acidity &gt;  6.55 : 
|   |   |   |   |   total.sulfur.dioxide &lt;= 132 : LM4 (38/51.023%)
|   |   |   |   |   total.sulfur.dioxide &gt;  132 : 
|   |   |   |   |   |   total.sulfur.dioxide &lt;= 148.5 : LM5 (16/50.024%)
|   |   |   |   |   |   total.sulfur.dioxide &gt;  148.5 : LM6 (27/48.375%)
|   |   |   sulphates &gt;  0.485 : 
|   |   |   |   alcohol &lt;= 10.117 : 
|   |   |   |   |   total.sulfur.dioxide &lt;= 124 : 
|   |   |   |   |   |   pH &lt;= 3.26 : LM7 (19/0%)
|   |   |   |   |   |   pH &gt;  3.26 : 
|   |   |   |   |   |   |   pH &lt;= 3.295 : LM8 (3/0%)
|   |   |   |   |   |   |   pH &gt;  3.295 : LM9 (11/0%)
|   |   |   |   |   total.sulfur.dioxide &gt;  124 : 
|   |   |   |   |   |   fixed.acidity &lt;= 6.65 : 
|   |   |   |   |   |   |   density &lt;= 0.995 : LM10 (22/41.911%)
|   |   |   |   |   |   |   density &gt;  0.995 : 
|   |   |   |   |   |   |   |   residual.sugar &lt;= 13.3 : 
|   |   |   |   |   |   |   |   |   density &lt;= 0.997 : LM11 (6/28.351%)
|   |   |   |   |   |   |   |   |   density &gt;  0.997 : LM12 (5/0%)
|   |   |   |   |   |   |   |   residual.sugar &gt;  13.3 : LM13 (6/0%)
|   |   |   |   |   |   fixed.acidity &gt;  6.65 : 
|   |   |   |   |   |   |   free.sulfur.dioxide &lt;= 32 : LM14 (5/0%)
|   |   |   |   |   |   |   free.sulfur.dioxide &gt;  32 : 
|   |   |   |   |   |   |   |   residual.sugar &lt;= 11.4 : 
|   |   |   |   |   |   |   |   |   chlorides &lt;= 0.041 : LM15 (3/0%)
|   |   |   |   |   |   |   |   |   chlorides &gt;  0.041 : 
|   |   |   |   |   |   |   |   |   |   sulphates &lt;= 0.55 : LM16 (3/0%)
|   |   |   |   |   |   |   |   |   |   sulphates &gt;  0.55 : LM17 (2/0%)
|   |   |   |   |   |   |   |   residual.sugar &gt;  11.4 : LM18 (3/0%)
|   |   |   |   alcohol &gt;  10.117 : 
|   |   |   |   |   chlorides &lt;= 0.042 : LM19 (34/58.912%)
|   |   |   |   |   chlorides &gt;  0.042 : LM20 (51/51.98%)
|   |   fixed.acidity &gt;  6.85 : 
|   |   |   free.sulfur.dioxide &lt;= 24.5 : 
|   |   |   |   chlorides &lt;= 0.037 : LM21 (30/106.707%)
|   |   |   |   chlorides &gt;  0.037 : LM22 (83/75.354%)
|   |   |   free.sulfur.dioxide &gt;  24.5 : 
|   |   |   |   alcohol &lt;= 9.15 : 
|   |   |   |   |   citric.acid &lt;= 0.305 : 
|   |   |   |   |   |   residual.sugar &lt;= 14.45 : 
|   |   |   |   |   |   |   residual.sugar &lt;= 13.8 : 
|   |   |   |   |   |   |   |   chlorides &lt;= 0.052 : LM23 (6/77.537%)
|   |   |   |   |   |   |   |   chlorides &gt;  0.052 : LM24 (13/0%)
|   |   |   |   |   |   |   residual.sugar &gt;  13.8 : LM25 (11/0%)
|   |   |   |   |   |   residual.sugar &gt;  14.45 : LM26 (12/0%)
|   |   |   |   |   citric.acid &gt;  0.305 : 
|   |   |   |   |   |   total.sulfur.dioxide &lt;= 169.5 : 
|   |   |   |   |   |   |   total.sulfur.dioxide &lt;= 161.5 : 
|   |   |   |   |   |   |   |   pH &lt;= 3.355 : 
|   |   |   |   |   |   |   |   |   volatile.acidity &lt;= 0.215 : 
|   |   |   |   |   |   |   |   |   |   free.sulfur.dioxide &lt;= 44 : LM27 (3/53.19%)
|   |   |   |   |   |   |   |   |   |   free.sulfur.dioxide &gt;  44 : LM28 (8/48.858%)
|   |   |   |   |   |   |   |   |   volatile.acidity &gt;  0.215 : LM29 (3/0%)
|   |   |   |   |   |   |   |   pH &gt;  3.355 : LM30 (4/0%)
|   |   |   |   |   |   |   total.sulfur.dioxide &gt;  161.5 : LM31 (6/0%)
|   |   |   |   |   |   total.sulfur.dioxide &gt;  169.5 : 
|   |   |   |   |   |   |   sulphates &lt;= 0.56 : 
|   |   |   |   |   |   |   |   free.sulfur.dioxide &lt;= 48.5 : LM32 (7/0%)
|   |   |   |   |   |   |   |   free.sulfur.dioxide &gt;  48.5 : 
|   |   |   |   |   |   |   |   |   fixed.acidity &lt;= 7.3 : LM33 (5/0%)
|   |   |   |   |   |   |   |   |   fixed.acidity &gt;  7.3 : LM34 (4/0%)
|   |   |   |   |   |   |   sulphates &gt;  0.56 : LM35 (11/0%)
|   |   |   |   alcohol &gt;  9.15 : 
|   |   |   |   |   density &lt;= 0.996 : 
|   |   |   |   |   |   sulphates &lt;= 0.395 : LM36 (38/85.791%)
|   |   |   |   |   |   sulphates &gt;  0.395 : 
|   |   |   |   |   |   |   volatile.acidity &lt;= 0.195 : LM37 (66/59.494%)
|   |   |   |   |   |   |   volatile.acidity &gt;  0.195 : LM38 (54/79.956%)
|   |   |   |   |   density &gt;  0.996 : 
|   |   |   |   |   |   residual.sugar &lt;= 14.7 : LM39 (84/45.874%)
|   |   |   |   |   |   residual.sugar &gt;  14.7 : LM40 (24/62.764%)
|   volatile.acidity &gt;  0.237 : 
|   |   alcohol &lt;= 10.15 : 
|   |   |   volatile.acidity &lt;= 0.302 : 
|   |   |   |   citric.acid &lt;= 0.265 : 
|   |   |   |   |   free.sulfur.dioxide &lt;= 25.5 : LM41 (39/41.77%)
|   |   |   |   |   free.sulfur.dioxide &gt;  25.5 : 
|   |   |   |   |   |   total.sulfur.dioxide &lt;= 143.5 : 
|   |   |   |   |   |   |   total.sulfur.dioxide &lt;= 114 : LM42 (8/0%)
|   |   |   |   |   |   |   total.sulfur.dioxide &gt;  114 : 
|   |   |   |   |   |   |   |   total.sulfur.dioxide &lt;= 132 : 
|   |   |   |   |   |   |   |   |   pH &lt;= 3.105 : 
|   |   |   |   |   |   |   |   |   |   citric.acid &lt;= 0.205 : LM43 (2/0%)
|   |   |   |   |   |   |   |   |   |   citric.acid &gt;  0.205 : 
|   |   |   |   |   |   |   |   |   |   |   fixed.acidity &lt;= 6.8 : LM44 (2/0%)
|   |   |   |   |   |   |   |   |   |   |   fixed.acidity &gt;  6.8 : LM45 (2/0%)
|   |   |   |   |   |   |   |   |   pH &gt;  3.105 : LM46 (7/0%)
|   |   |   |   |   |   |   |   total.sulfur.dioxide &gt;  132 : 
|   |   |   |   |   |   |   |   |   chlorides &lt;= 0.04 : LM47 (4/0%)
|   |   |   |   |   |   |   |   |   chlorides &gt;  0.04 : LM48 (9/35.46%)
|   |   |   |   |   |   total.sulfur.dioxide &gt;  143.5 : LM49 (97/66.41%)
|   |   |   |   citric.acid &gt;  0.265 : 
|   |   |   |   |   citric.acid &lt;= 0.395 : 
|   |   |   |   |   |   residual.sugar &lt;= 12.825 : 
|   |   |   |   |   |   |   sulphates &lt;= 0.475 : LM50 (49/50.397%)
|   |   |   |   |   |   |   sulphates &gt;  0.475 : 
|   |   |   |   |   |   |   |   chlorides &lt;= 0.05 : LM51 (59/65.173%)
|   |   |   |   |   |   |   |   chlorides &gt;  0.05 : LM52 (25/62.229%)
|   |   |   |   |   |   residual.sugar &gt;  12.825 : 
|   |   |   |   |   |   |   pH &lt;= 3.185 : 
|   |   |   |   |   |   |   |   free.sulfur.dioxide &lt;= 29 : LM53 (11/0%)
|   |   |   |   |   |   |   |   free.sulfur.dioxide &gt;  29 : 
|   |   |   |   |   |   |   |   |   total.sulfur.dioxide &lt;= 179.5 : 
|   |   |   |   |   |   |   |   |   |   fixed.acidity &lt;= 6.75 : LM54 (5/0%)
|   |   |   |   |   |   |   |   |   |   fixed.acidity &gt;  6.75 : LM55 (16/0%)
|   |   |   |   |   |   |   |   |   total.sulfur.dioxide &gt;  179.5 : 
|   |   |   |   |   |   |   |   |   |   density &lt;= 0.998 : 
|   |   |   |   |   |   |   |   |   |   |   fixed.acidity &lt;= 7 : LM56 (2/0%)
|   |   |   |   |   |   |   |   |   |   |   fixed.acidity &gt;  7 : LM57 (3/0%)
|   |   |   |   |   |   |   |   |   |   density &gt;  0.998 : LM58 (17/47.23%)
|   |   |   |   |   |   |   pH &gt;  3.185 : 
|   |   |   |   |   |   |   |   free.sulfur.dioxide &lt;= 56.5 : 
|   |   |   |   |   |   |   |   |   residual.sugar &lt;= 17.675 : 
|   |   |   |   |   |   |   |   |   |   free.sulfur.dioxide &lt;= 30.5 : LM59 (5/0%)
|   |   |   |   |   |   |   |   |   |   free.sulfur.dioxide &gt;  30.5 : 
|   |   |   |   |   |   |   |   |   |   |   citric.acid &lt;= 0.31 : LM60 (3/0%)
|   |   |   |   |   |   |   |   |   |   |   citric.acid &gt;  0.31 : 
|   |   |   |   |   |   |   |   |   |   |   |   chlorides &lt;= 0.054 : LM61 (5/0%)
|   |   |   |   |   |   |   |   |   |   |   |   chlorides &gt;  0.054 : LM62 (2/0%)
|   |   |   |   |   |   |   |   |   residual.sugar &gt;  17.675 : LM63 (5/0%)
|   |   |   |   |   |   |   |   free.sulfur.dioxide &gt;  56.5 : LM64 (6/0%)
|   |   |   |   |   citric.acid &gt;  0.395 : 
|   |   |   |   |   |   pH &lt;= 3.205 : 
|   |   |   |   |   |   |   total.sulfur.dioxide &lt;= 172.5 : 
|   |   |   |   |   |   |   |   free.sulfur.dioxide &lt;= 29.5 : 
|   |   |   |   |   |   |   |   |   fixed.acidity &lt;= 9.4 : LM65 (11/0%)
|   |   |   |   |   |   |   |   |   fixed.acidity &gt;  9.4 : LM66 (3/53.19%)
|   |   |   |   |   |   |   |   free.sulfur.dioxide &gt;  29.5 : 
|   |   |   |   |   |   |   |   |   density &lt;= 0.998 : 
|   |   |   |   |   |   |   |   |   |   sulphates &lt;= 0.415 : LM67 (7/0%)
|   |   |   |   |   |   |   |   |   |   sulphates &gt;  0.415 : 
|   |   |   |   |   |   |   |   |   |   |   fixed.acidity &lt;= 7.1 : LM68 (21/42.821%)
|   |   |   |   |   |   |   |   |   |   |   fixed.acidity &gt;  7.1 : LM69 (6/42.05%)
|   |   |   |   |   |   |   |   |   density &gt;  0.998 : LM70 (20/49.357%)
|   |   |   |   |   |   |   total.sulfur.dioxide &gt;  172.5 : 
|   |   |   |   |   |   |   |   citric.acid &lt;= 0.505 : 
|   |   |   |   |   |   |   |   |   citric.acid &lt;= 0.435 : 
|   |   |   |   |   |   |   |   |   |   free.sulfur.dioxide &lt;= 63 : 
|   |   |   |   |   |   |   |   |   |   |   total.sulfur.dioxide &lt;= 197 : LM71 (5/0%)
|   |   |   |   |   |   |   |   |   |   |   total.sulfur.dioxide &gt;  197 : LM72 (10/32.187%)
|   |   |   |   |   |   |   |   |   |   free.sulfur.dioxide &gt;  63 : LM73 (5/0%)
|   |   |   |   |   |   |   |   |   citric.acid &gt;  0.435 : 
|   |   |   |   |   |   |   |   |   |   free.sulfur.dioxide &lt;= 59.5 : LM74 (25/0%)
|   |   |   |   |   |   |   |   |   |   free.sulfur.dioxide &gt;  59.5 : 
|   |   |   |   |   |   |   |   |   |   |   fixed.acidity &lt;= 6.25 : LM75 (5/0%)
|   |   |   |   |   |   |   |   |   |   |   fixed.acidity &gt;  6.25 : 
|   |   |   |   |   |   |   |   |   |   |   |   citric.acid &lt;= 0.445 : LM76 (4/0%)
|   |   |   |   |   |   |   |   |   |   |   |   citric.acid &gt;  0.445 : LM77 (5/26.531%)
|   |   |   |   |   |   |   |   citric.acid &gt;  0.505 : 
|   |   |   |   |   |   |   |   |   free.sulfur.dioxide &lt;= 58.5 : 
|   |   |   |   |   |   |   |   |   |   volatile.acidity &lt;= 0.285 : 
|   |   |   |   |   |   |   |   |   |   |   free.sulfur.dioxide &lt;= 42.5 : LM78 (3/0%)
|   |   |   |   |   |   |   |   |   |   |   free.sulfur.dioxide &gt;  42.5 : 
|   |   |   |   |   |   |   |   |   |   |   |   citric.acid &lt;= 0.515 : LM79 (3/0%)
|   |   |   |   |   |   |   |   |   |   |   |   citric.acid &gt;  0.515 : LM80 (4/30.264%)
|   |   |   |   |   |   |   |   |   |   volatile.acidity &gt;  0.285 : LM81 (3/0%)
|   |   |   |   |   |   |   |   |   free.sulfur.dioxide &gt;  58.5 : LM82 (7/0%)
|   |   |   |   |   |   pH &gt;  3.205 : LM83 (42/58.71%)
|   |   |   volatile.acidity &gt;  0.302 : 
|   |   |   |   volatile.acidity &lt;= 0.422 : 
|   |   |   |   |   pH &lt;= 3.235 : 
|   |   |   |   |   |   total.sulfur.dioxide &lt;= 153.5 : 
|   |   |   |   |   |   |   pH &lt;= 3.055 : LM84 (26/21.699%)
|   |   |   |   |   |   |   pH &gt;  3.055 : 
|   |   |   |   |   |   |   |   free.sulfur.dioxide &lt;= 34.5 : 
|   |   |   |   |   |   |   |   |   free.sulfur.dioxide &lt;= 20.5 : 
|   |   |   |   |   |   |   |   |   |   sulphates &lt;= 0.445 : 
|   |   |   |   |   |   |   |   |   |   |   density &lt;= 0.993 : LM85 (5/0%)
|   |   |   |   |   |   |   |   |   |   |   density &gt;  0.993 : 
|   |   |   |   |   |   |   |   |   |   |   |   free.sulfur.dioxide &lt;= 14 : LM86 (6/0%)
|   |   |   |   |   |   |   |   |   |   |   |   free.sulfur.dioxide &gt;  14 : 
|   |   |   |   |   |   |   |   |   |   |   |   |   density &lt;= 0.996 : LM87 (8/48.858%)
|   |   |   |   |   |   |   |   |   |   |   |   |   density &gt;  0.996 : LM88 (3/0%)
|   |   |   |   |   |   |   |   |   |   sulphates &gt;  0.445 : 
|   |   |   |   |   |   |   |   |   |   |   pH &lt;= 3.175 : 
|   |   |   |   |   |   |   |   |   |   |   |   fixed.acidity &lt;= 7.55 : 
|   |   |   |   |   |   |   |   |   |   |   |   |   chlorides &lt;= 0.052 : LM89 (4/0%)
|   |   |   |   |   |   |   |   |   |   |   |   |   chlorides &gt;  0.052 : LM90 (7/29.301%)
|   |   |   |   |   |   |   |   |   |   |   |   fixed.acidity &gt;  7.55 : LM91 (3/0%)
|   |   |   |   |   |   |   |   |   |   |   pH &gt;  3.175 : LM92 (5/31.989%)
|   |   |   |   |   |   |   |   |   free.sulfur.dioxide &gt;  20.5 : 
|   |   |   |   |   |   |   |   |   |   residual.sugar &lt;= 7.25 : 
|   |   |   |   |   |   |   |   |   |   |   volatile.acidity &lt;= 0.315 : LM93 (5/0%)
|   |   |   |   |   |   |   |   |   |   |   volatile.acidity &gt;  0.315 : 
|   |   |   |   |   |   |   |   |   |   |   |   free.sulfur.dioxide &lt;= 29.5 : 
|   |   |   |   |   |   |   |   |   |   |   |   |   sulphates &lt;= 0.47 : LM94 (8/32.572%)
|   |   |   |   |   |   |   |   |   |   |   |   |   sulphates &gt;  0.47 : LM95 (6/0%)
|   |   |   |   |   |   |   |   |   |   |   |   free.sulfur.dioxide &gt;  29.5 : LM96 (5/0%)
|   |   |   |   |   |   |   |   |   |   residual.sugar &gt;  7.25 : LM97 (15/0%)
|   |   |   |   |   |   |   |   free.sulfur.dioxide &gt;  34.5 : LM98 (23/23.01%)
|   |   |   |   |   |   total.sulfur.dioxide &gt;  153.5 : 
|   |   |   |   |   |   |   citric.acid &lt;= 0.405 : 
|   |   |   |   |   |   |   |   volatile.acidity &lt;= 0.345 : LM99 (75/52.518%)
|   |   |   |   |   |   |   |   volatile.acidity &gt;  0.345 : 
|   |   |   |   |   |   |   |   |   pH &lt;= 3.105 : 
|   |   |   |   |   |   |   |   |   |   free.sulfur.dioxide &lt;= 46.5 : LM100 (7/0%)
|   |   |   |   |   |   |   |   |   |   free.sulfur.dioxide &gt;  46.5 : LM101 (7/19.418%)
|   |   |   |   |   |   |   |   |   pH &gt;  3.105 : LM102 (32/56.306%)
|   |   |   |   |   |   |   citric.acid &gt;  0.405 : 
|   |   |   |   |   |   |   |   free.sulfur.dioxide &lt;= 61.5 : 
|   |   |   |   |   |   |   |   |   citric.acid &lt;= 0.485 : 
|   |   |   |   |   |   |   |   |   |   volatile.acidity &lt;= 0.365 : LM103 (16/0%)
|   |   |   |   |   |   |   |   |   |   volatile.acidity &gt;  0.365 : 
|   |   |   |   |   |   |   |   |   |   |   total.sulfur.dioxide &lt;= 179.5 : LM104 (4/0%)
|   |   |   |   |   |   |   |   |   |   |   total.sulfur.dioxide &gt;  179.5 : LM105 (2/0%)
|   |   |   |   |   |   |   |   |   citric.acid &gt;  0.485 : 
|   |   |   |   |   |   |   |   |   |   fixed.acidity &lt;= 7.55 : 
|   |   |   |   |   |   |   |   |   |   |   residual.sugar &lt;= 10.85 : LM106 (12/43.907%)
|   |   |   |   |   |   |   |   |   |   |   residual.sugar &gt;  10.85 : LM107 (8/0%)
|   |   |   |   |   |   |   |   |   |   fixed.acidity &gt;  7.55 : LM108 (19/38.717%)
|   |   |   |   |   |   |   |   free.sulfur.dioxide &gt;  61.5 : 
|   |   |   |   |   |   |   |   |   alcohol &lt;= 8.75 : LM109 (4/0%)
|   |   |   |   |   |   |   |   |   alcohol &gt;  8.75 : LM110 (12/0%)
|   |   |   |   |   pH &gt;  3.235 : LM111 (97/68.305%)
|   |   |   |   volatile.acidity &gt;  0.422 : LM112 (128/68.354%)
|   |   alcohol &gt;  10.15 : 
|   |   |   free.sulfur.dioxide &lt;= 26.5 : 
|   |   |   |   free.sulfur.dioxide &lt;= 17.5 : 
|   |   |   |   |   sulphates &lt;= 0.475 : 
|   |   |   |   |   |   chlorides &lt;= 0.032 : LM113 (12/0%)
|   |   |   |   |   |   chlorides &gt;  0.032 : LM114 (33/62.949%)
|   |   |   |   |   sulphates &gt;  0.475 : 
|   |   |   |   |   |   total.sulfur.dioxide &lt;= 90.5 : LM115 (13/83.25%)
|   |   |   |   |   |   total.sulfur.dioxide &gt;  90.5 : LM116 (13/89.087%)
|   |   |   |   free.sulfur.dioxide &gt;  17.5 : LM117 (80/68.84%)
|   |   |   free.sulfur.dioxide &gt;  26.5 : 
|   |   |   |   total.sulfur.dioxide &lt;= 161.5 : 
|   |   |   |   |   pH &lt;= 3.325 : LM118 (105/73.188%)
|   |   |   |   |   pH &gt;  3.325 : 
|   |   |   |   |   |   density &lt;= 0.994 : 
|   |   |   |   |   |   |   volatile.acidity &lt;= 0.278 : LM119 (8/0%)
|   |   |   |   |   |   |   volatile.acidity &gt;  0.278 : 
|   |   |   |   |   |   |   |   residual.sugar &lt;= 2.05 : LM120 (11/36.291%)
|   |   |   |   |   |   |   |   residual.sugar &gt;  2.05 : LM121 (5/0%)
|   |   |   |   |   |   density &gt;  0.994 : 
|   |   |   |   |   |   |   chlorides &lt;= 0.038 : 
|   |   |   |   |   |   |   |   alcohol &lt;= 10.45 : LM122 (2/56.416%)
|   |   |   |   |   |   |   |   alcohol &gt;  10.45 : LM123 (4/0%)
|   |   |   |   |   |   |   chlorides &gt;  0.038 : LM124 (7/0%)
|   |   |   |   total.sulfur.dioxide &gt;  161.5 : LM125 (77/77.736%)
alcohol &gt;  10.85 : 
|   alcohol &lt;= 11.767 : 
|   |   free.sulfur.dioxide &lt;= 21.5 : 
|   |   |   free.sulfur.dioxide &lt;= 11.5 : 
|   |   |   |   density &lt;= 0.992 : LM126 (19/84.403%)
|   |   |   |   density &gt;  0.992 : 
|   |   |   |   |   fixed.acidity &lt;= 6.85 : LM127 (6/108.029%)
|   |   |   |   |   fixed.acidity &gt;  6.85 : LM128 (21/69.935%)
|   |   |   free.sulfur.dioxide &gt;  11.5 : 
|   |   |   |   volatile.acidity &lt;= 0.195 : LM129 (36/61.98%)
|   |   |   |   volatile.acidity &gt;  0.195 : 
|   |   |   |   |   chlorides &lt;= 0.036 : LM130 (34/115.199%)
|   |   |   |   |   chlorides &gt;  0.036 : LM131 (59/78.207%)
|   |   free.sulfur.dioxide &gt;  21.5 : 
|   |   |   fixed.acidity &lt;= 7.35 : 
|   |   |   |   citric.acid &lt;= 0.265 : LM132 (82/61.849%)
|   |   |   |   citric.acid &gt;  0.265 : 
|   |   |   |   |   sulphates &lt;= 0.585 : 
|   |   |   |   |   |   total.sulfur.dioxide &lt;= 136.5 : 
|   |   |   |   |   |   |   total.sulfur.dioxide &lt;= 101.5 : LM133 (54/63.926%)
|   |   |   |   |   |   |   total.sulfur.dioxide &gt;  101.5 : LM134 (99/92.852%)
|   |   |   |   |   |   total.sulfur.dioxide &gt;  136.5 : LM135 (67/68.985%)
|   |   |   |   |   sulphates &gt;  0.585 : LM136 (75/60.543%)
|   |   |   fixed.acidity &gt;  7.35 : 
|   |   |   |   fixed.acidity &lt;= 8.15 : LM137 (92/78.47%)
|   |   |   |   fixed.acidity &gt;  8.15 : LM138 (26/102.779%)
|   alcohol &gt;  11.767 : 
|   |   free.sulfur.dioxide &lt;= 21.5 : LM139 (181/88.599%)
|   |   free.sulfur.dioxide &gt;  21.5 : 
|   |   |   residual.sugar &lt;= 1.85 : 
|   |   |   |   pH &lt;= 3.295 : LM140 (120/66.869%)
|   |   |   |   pH &gt;  3.295 : LM141 (46/68.585%)
|   |   |   residual.sugar &gt;  1.85 : 
|   |   |   |   sulphates &lt;= 0.495 : 
|   |   |   |   |   chlorides &lt;= 0.035 : 
|   |   |   |   |   |   total.sulfur.dioxide &lt;= 112.5 : LM142 (48/80.266%)
|   |   |   |   |   |   total.sulfur.dioxide &gt;  112.5 : 
|   |   |   |   |   |   |   free.sulfur.dioxide &lt;= 41.5 : 
|   |   |   |   |   |   |   |   fixed.acidity &lt;= 6.95 : LM143 (29/58.058%)
|   |   |   |   |   |   |   |   fixed.acidity &gt;  6.95 : 
|   |   |   |   |   |   |   |   |   alcohol &lt;= 12.6 : 
|   |   |   |   |   |   |   |   |   |   alcohol &lt;= 11.85 : LM144 (4/0%)
|   |   |   |   |   |   |   |   |   |   alcohol &gt;  11.85 : LM145 (11/48.112%)
|   |   |   |   |   |   |   |   |   alcohol &gt;  12.6 : LM146 (9/0%)
|   |   |   |   |   |   |   free.sulfur.dioxide &gt;  41.5 : 
|   |   |   |   |   |   |   |   pH &lt;= 3.05 : LM147 (7/39.483%)
|   |   |   |   |   |   |   |   pH &gt;  3.05 : LM148 (21/59.02%)
|   |   |   |   |   chlorides &gt;  0.035 : 
|   |   |   |   |   |   volatile.acidity &lt;= 0.245 : LM149 (34/83.494%)
|   |   |   |   |   |   volatile.acidity &gt;  0.245 : 
|   |   |   |   |   |   |   total.sulfur.dioxide &lt;= 147.5 : LM150 (59/68.359%)
|   |   |   |   |   |   |   total.sulfur.dioxide &gt;  147.5 : LM151 (21/59.587%)
|   |   |   |   sulphates &gt;  0.495 : 
|   |   |   |   |   total.sulfur.dioxide &lt;= 104.5 : LM152 (46/49.848%)
|   |   |   |   |   total.sulfur.dioxide &gt;  104.5 : 
|   |   |   |   |   |   fixed.acidity &lt;= 7.15 : 
|   |   |   |   |   |   |   fixed.acidity &lt;= 6.15 : 
|   |   |   |   |   |   |   |   total.sulfur.dioxide &lt;= 123 : LM153 (10/32.843%)
|   |   |   |   |   |   |   |   total.sulfur.dioxide &gt;  123 : 
|   |   |   |   |   |   |   |   |   fixed.acidity &lt;= 5.6 : 
|   |   |   |   |   |   |   |   |   |   free.sulfur.dioxide &lt;= 26 : LM154 (2/0%)
|   |   |   |   |   |   |   |   |   |   free.sulfur.dioxide &gt;  26 : LM155 (3/0%)
|   |   |   |   |   |   |   |   |   fixed.acidity &gt;  5.6 : LM156 (5/0%)
|   |   |   |   |   |   |   fixed.acidity &gt;  6.15 : 
|   |   |   |   |   |   |   |   total.sulfur.dioxide &lt;= 133.5 : 
|   |   |   |   |   |   |   |   |   total.sulfur.dioxide &lt;= 110.5 : LM157 (7/39.483%)
|   |   |   |   |   |   |   |   |   total.sulfur.dioxide &gt;  110.5 : 
|   |   |   |   |   |   |   |   |   |   chlorides &lt;= 0.033 : LM158 (11/0%)
|   |   |   |   |   |   |   |   |   |   chlorides &gt;  0.033 : 
|   |   |   |   |   |   |   |   |   |   |   sulphates &lt;= 0.565 : LM159 (3/0%)
|   |   |   |   |   |   |   |   |   |   |   sulphates &gt;  0.565 : LM160 (4/0%)
|   |   |   |   |   |   |   |   total.sulfur.dioxide &gt;  133.5 : 
|   |   |   |   |   |   |   |   |   alcohol &lt;= 12.25 : LM161 (4/0%)
|   |   |   |   |   |   |   |   |   alcohol &gt;  12.25 : LM162 (5/42.761%)
|   |   |   |   |   |   fixed.acidity &gt;  7.15 : LM163 (18/56.779%)

LM num: 1
quality = 
	0.0441 * volatile.acidity 
	+ 1.1525 * citric.acid 
	+ 0.2871 * residual.sugar 
	+ 0.0217 * chlorides 
	+ 0.1126 * free.sulfur.dioxide 
	+ 0.0048 * total.sulfur.dioxide 
	- 0 * density 
	- 47.7049 * pH 
	+ 0.3169 * sulphates 
	+ 0.3086 * alcohol 
	+ 48.7806

LM num: 2
quality = 
	0.0441 * volatile.acidity 
	- 0.2359 * citric.acid 
	+ 0.1502 * residual.sugar 
	+ 0.015 * chlorides 
	+ 0.1126 * free.sulfur.dioxide 
	+ 0 * total.sulfur.dioxide 
	- 26.2386 * density 
	- 34.3822 * pH 
	+ 0.174 * sulphates 
	+ 0.1016 * alcohol 
	+ 64.8657

LM num: 3
quality = 
	0.0441 * volatile.acidity 
	+ 1.1924 * citric.acid 
	+ 0.1237 * residual.sugar 
	+ 0.015 * chlorides 
	+ 0.1126 * free.sulfur.dioxide 
	+ 0 * total.sulfur.dioxide 
	- 30.8689 * density 
	- 34.3581 * pH 
	+ 0.174 * sulphates 
	+ 0.0967 * alcohol 
	+ 69.0853

LM num: 4
quality = 
	-0.7764 * volatile.acidity 
	- 0.3428 * citric.acid 
	+ 0.0672 * residual.sugar 
	+ 1.4754 * chlorides 
	+ 0.1109 * free.sulfur.dioxide 
	+ 0 * total.sulfur.dioxide 
	- 0 * density 
	- 33.2781 * pH 
	+ 2.3466 * sulphates 
	+ 0.1861 * alcohol 
	+ 36.9842

LM num: 5
quality = 
	-0.7043 * volatile.acidity 
	- 0.3428 * citric.acid 
	+ 0.0672 * residual.sugar 
	+ 1.3494 * chlorides 
	+ 0.1202 * free.sulfur.dioxide 
	+ 0.0031 * total.sulfur.dioxide 
	- 0 * density 
	- 33.2781 * pH 
	+ 0.9067 * sulphates 
	+ 0.1812 * alcohol 
	+ 36.3733

LM num: 6
quality = 
	-0.7043 * volatile.acidity 
	- 0.3428 * citric.acid 
	+ 0.0672 * residual.sugar 
	+ 1.3494 * chlorides 
	+ 0.111 * free.sulfur.dioxide 
	+ 0.0023 * total.sulfur.dioxide 
	- 0 * density 
	- 33.2781 * pH 
	+ 0.9067 * sulphates 
	+ 0.1812 * alcohol 
	+ 37.0739

LM num: 7
quality = 
	0.0715 * fixed.acidity 
	+ 0.0724 * volatile.acidity 
	- 0.8627 * citric.acid 
	- 0.012 * residual.sugar 
	+ 0.0158 * chlorides 
	+ 0.1126 * free.sulfur.dioxide 
	- 0.0009 * total.sulfur.dioxide 
	- 0.0005 * density 
	- 35.9382 * pH 
	+ 0.035 * sulphates 
	+ 0.1552 * alcohol 
	+ 41.2295

LM num: 8
quality = 
	0.0715 * fixed.acidity 
	+ 0.0724 * volatile.acidity 
	- 0.8627 * citric.acid 
	- 0.012 * residual.sugar 
	+ 0.0158 * chlorides 
	+ 0.1126 * free.sulfur.dioxide 
	- 0.0009 * total.sulfur.dioxide 
	- 0.0005 * density 
	- 35.2429 * pH 
	+ 0.035 * sulphates 
	+ 0.1552 * alcohol 
	+ 38.7956

LM num: 9
quality = 
	0.0715 * fixed.acidity 
	+ 0.0724 * volatile.acidity 
	- 0.8627 * citric.acid 
	- 0.012 * residual.sugar 
	+ 0.0158 * chlorides 
	+ 0.1126 * free.sulfur.dioxide 
	- 0.0009 * total.sulfur.dioxide 
	- 0.0005 * density 
	- 35.4569 * pH 
	+ 0.035 * sulphates 
	+ 0.1552 * alcohol 
	+ 39.5718

LM num: 10
quality = 
	0.1337 * fixed.acidity 
	+ 0.0724 * volatile.acidity 
	- 0.8627 * citric.acid 
	+ 0.0032 * residual.sugar 
	+ 0.0158 * chlorides 
	+ 0.1078 * free.sulfur.dioxide 
	- 0.0006 * total.sulfur.dioxide 
	+ 12.3946 * density 
	- 35.8336 * pH 
	+ 0.035 * sulphates 
	+ 0.1552 * alcohol 
	+ 28.1942

LM num: 11
quality = 
	0.2426 * fixed.acidity 
	+ 0.0724 * volatile.acidity 
	- 0.8627 * citric.acid 
	+ 0.025 * residual.sugar 
	+ 0.0158 * chlorides 
	+ 0.1075 * free.sulfur.dioxide 
	- 0.0006 * total.sulfur.dioxide 
	- 26.8954 * density 
	- 36.0338 * pH 
	+ 0.035 * sulphates 
	+ 0.1552 * alcohol 
	+ 66.8444

LM num: 12
quality = 
	0.2426 * fixed.acidity 
	+ 0.0724 * volatile.acidity 
	- 0.8627 * citric.acid 
	+ 0.0192 * residual.sugar 
	+ 0.0158 * chlorides 
	+ 0.1075 * free.sulfur.dioxide 
	- 0.0006 * total.sulfur.dioxide 
	- 28.4276 * density 
	- 36.0338 * pH 
	+ 0.035 * sulphates 
	+ 0.1552 * alcohol 
	+ 68.4143

LM num: 13
quality = 
	0.2685 * fixed.acidity 
	+ 0.0724 * volatile.acidity 
	- 0.8627 * citric.acid 
	+ 0.0032 * residual.sugar 
	+ 0.0158 * chlorides 
	+ 0.1075 * free.sulfur.dioxide 
	- 0.0006 * total.sulfur.dioxide 
	+ 11.355 * density 
	- 36.0338 * pH 
	+ 0.035 * sulphates 
	+ 0.1552 * alcohol 
	+ 28.8194

LM num: 14
quality = 
	0.1965 * fixed.acidity 
	+ 0.0724 * volatile.acidity 
	- 0.8627 * citric.acid 
	+ 0.0324 * residual.sugar 
	+ 0.0158 * chlorides 
	+ 0.1044 * free.sulfur.dioxide 
	- 0.0006 * total.sulfur.dioxide 
	- 49.1196 * density 
	- 35.8909 * pH 
	+ 0.035 * sulphates 
	+ 0.1552 * alcohol 
	+ 89.241

LM num: 15
quality = 
	0.1965 * fixed.acidity 
	+ 0.0724 * volatile.acidity 
	- 0.8627 * citric.acid 
	+ 0.0283 * residual.sugar 
	- 7.3015 * chlorides 
	+ 0.1052 * free.sulfur.dioxide 
	- 0.0006 * total.sulfur.dioxide 
	- 49.1196 * density 
	- 35.8909 * pH 
	+ 0.035 * sulphates 
	+ 0.1552 * alcohol 
	+ 89.4915

LM num: 16
quality = 
	0.1965 * fixed.acidity 
	+ 0.0724 * volatile.acidity 
	- 0.8627 * citric.acid 
	+ 0.0283 * residual.sugar 
	- 7.0229 * chlorides 
	+ 0.1052 * free.sulfur.dioxide 
	- 0.0006 * total.sulfur.dioxide 
	- 49.1196 * density 
	- 35.8909 * pH 
	+ 0.2111 * sulphates 
	+ 0.1552 * alcohol 
	+ 89.3683

LM num: 17
quality = 
	0.1965 * fixed.acidity 
	+ 0.0724 * volatile.acidity 
	- 0.8627 * citric.acid 
	+ 0.0283 * residual.sugar 
	- 7.0229 * chlorides 
	+ 0.1052 * free.sulfur.dioxide 
	- 0.0006 * total.sulfur.dioxide 
	- 49.1196 * density 
	- 35.8909 * pH 
	+ 0.2214 * sulphates 
	+ 0.1552 * alcohol 
	+ 89.3642

LM num: 18
quality = 
	0.1965 * fixed.acidity 
	+ 0.0724 * volatile.acidity 
	- 0.8627 * citric.acid 
	+ 0.0283 * residual.sugar 
	- 5.774 * chlorides 
	+ 0.1052 * free.sulfur.dioxide 
	- 0.0006 * total.sulfur.dioxide 
	- 49.1196 * density 
	- 35.8909 * pH 
	+ 0.035 * sulphates 
	+ 0.1552 * alcohol 
	+ 89.4132

LM num: 19
quality = 
	-3.314 * volatile.acidity 
	- 0.8771 * citric.acid 
	- 0.012 * residual.sugar 
	+ 0.016 * chlorides 
	+ 0.115 * free.sulfur.dioxide 
	- 0.0013 * total.sulfur.dioxide 
	- 0.0005 * density 
	- 36.2617 * pH 
	+ 1.7704 * sulphates 
	+ 0.1552 * alcohol 
	+ 41.5421

LM num: 20
quality = 
	0.0737 * volatile.acidity 
	- 0.8771 * citric.acid 
	- 0.012 * residual.sugar 
	+ 0.016 * chlorides 
	+ 0.1143 * free.sulfur.dioxide 
	- 0.001 * total.sulfur.dioxide 
	- 0.0005 * density 
	- 36.2617 * pH 
	+ 0.035 * sulphates 
	+ 0.1552 * alcohol 
	+ 41.7077

LM num: 21
quality = 
	-0.336 * fixed.acidity 
	- 0.0911 * volatile.acidity 
	- 0.8082 * citric.acid 
	- 0.1062 * residual.sugar 
	+ 0.0331 * chlorides 
	+ 0.0973 * free.sulfur.dioxide 
	+ 0.0006 * total.sulfur.dioxide 
	+ 0.0003 * density 
	- 88.2321 * pH 
	+ 0.0323 * sulphates 
	+ 0.2628 * alcohol 
	+ 91.4131

LM num: 22
quality = 
	-0.1356 * fixed.acidity 
	- 0.0466 * volatile.acidity 
	- 0.8082 * citric.acid 
	- 0.1062 * residual.sugar 
	+ 0.0221 * chlorides 
	+ 0.0973 * free.sulfur.dioxide 
	+ 0.0006 * total.sulfur.dioxide 
	+ 0.0003 * density 
	- 55.2776 * pH 
	- 0.847 * sulphates 
	- 0.1116 * alcohol 
	+ 62.5581

LM num: 23
quality = 
	0.0713 * fixed.acidity 
	+ 0.0012 * volatile.acidity 
	- 1.5127 * citric.acid 
	- 0.1767 * residual.sugar 
	+ 105.2911 * chlorides 
	+ 0.0943 * free.sulfur.dioxide 
	+ 0.0002 * total.sulfur.dioxide 
	+ 0.0001 * density 
	- 31.5856 * pH 
	+ 0.0323 * sulphates 
	+ 0.1199 * alcohol 
	+ 32.2345

LM num: 24
quality = 
	0.0713 * fixed.acidity 
	+ 0.0012 * volatile.acidity 
	- 1.5127 * citric.acid 
	- 0.1767 * residual.sugar 
	+ 99.3471 * chlorides 
	+ 0.0943 * free.sulfur.dioxide 
	+ 0.0002 * total.sulfur.dioxide 
	+ 0.0001 * density 
	- 31.5856 * pH 
	+ 0.0323 * sulphates 
	+ 0.1199 * alcohol 
	+ 32.6786

LM num: 25
quality = 
	0.0932 * fixed.acidity 
	+ 0.0012 * volatile.acidity 
	- 1.5127 * citric.acid 
	- 0.1807 * residual.sugar 
	+ 95.7703 * chlorides 
	+ 0.0943 * free.sulfur.dioxide 
	+ 0.0002 * total.sulfur.dioxide 
	+ 0.0001 * density 
	- 31.5856 * pH 
	+ 0.0323 * sulphates 
	+ 0.1199 * alcohol 
	+ 32.9544

LM num: 26
quality = 
	0.0012 * volatile.acidity 
	- 1.5127 * citric.acid 
	- 0.157 * residual.sugar 
	+ 54.236 * chlorides 
	+ 0.0943 * free.sulfur.dioxide 
	+ 0.0002 * total.sulfur.dioxide 
	+ 0.0001 * density 
	- 31.5856 * pH 
	+ 0.0323 * sulphates 
	+ 0.1199 * alcohol 
	+ 35.4429

LM num: 27
quality = 
	-1.6198 * volatile.acidity 
	- 1.9058 * citric.acid 
	- 0.1764 * residual.sugar 
	+ 5.7111 * chlorides 
	+ 0.0824 * free.sulfur.dioxide 
	+ 0.0002 * total.sulfur.dioxide 
	+ 0.0001 * density 
	- 30.985 * pH 
	+ 0.0323 * sulphates 
	+ 0.1199 * alcohol 
	+ 36.9235

LM num: 28
quality = 
	-1.6198 * volatile.acidity 
	- 1.9058 * citric.acid 
	- 0.1764 * residual.sugar 
	+ 5.7111 * chlorides 
	+ 0.0829 * free.sulfur.dioxide 
	+ 0.0002 * total.sulfur.dioxide 
	+ 0.0001 * density 
	- 30.985 * pH 
	+ 0.0323 * sulphates 
	+ 0.1199 * alcohol 
	+ 36.8808

LM num: 29
quality = 
	-2.3403 * volatile.acidity 
	- 1.9058 * citric.acid 
	- 0.1764 * residual.sugar 
	+ 5.7111 * chlorides 
	+ 0.0825 * free.sulfur.dioxide 
	+ 0.0002 * total.sulfur.dioxide 
	+ 0.0001 * density 
	- 30.985 * pH 
	+ 0.0323 * sulphates 
	+ 0.1199 * alcohol 
	+ 37.0118

LM num: 30
quality = 
	0.0012 * volatile.acidity 
	- 1.9058 * citric.acid 
	- 0.1764 * residual.sugar 
	+ 5.7111 * chlorides 
	+ 0.0906 * free.sulfur.dioxide 
	+ 0.0002 * total.sulfur.dioxide 
	+ 0.0001 * density 
	- 30.7969 * pH 
	+ 0.0323 * sulphates 
	+ 0.1199 * alcohol 
	+ 35.686

LM num: 31
quality = 
	0.0012 * volatile.acidity 
	- 1.9058 * citric.acid 
	- 0.1764 * residual.sugar 
	+ 5.7111 * chlorides 
	+ 0.0906 * free.sulfur.dioxide 
	+ 0.0002 * total.sulfur.dioxide 
	+ 0.0001 * density 
	- 31.3423 * pH 
	+ 0.0323 * sulphates 
	+ 0.1199 * alcohol 
	+ 37.5168

LM num: 32
quality = 
	-0.0583 * fixed.acidity 
	+ 0.0012 * volatile.acidity 
	- 2.4348 * citric.acid 
	- 0.1764 * residual.sugar 
	+ 5.7111 * chlorides 
	+ 0.0873 * free.sulfur.dioxide 
	+ 0.0002 * total.sulfur.dioxide 
	+ 0.0001 * density 
	- 31.3597 * pH 
	+ 0.2469 * sulphates 
	+ 0.1199 * alcohol 
	+ 38.0548

LM num: 33
quality = 
	-0.3052 * fixed.acidity 
	+ 0.0012 * volatile.acidity 
	- 0.5311 * citric.acid 
	- 0.1764 * residual.sugar 
	+ 5.7111 * chlorides 
	+ 0.0874 * free.sulfur.dioxide 
	+ 0.0002 * total.sulfur.dioxide 
	+ 0.0001 * density 
	- 31.3597 * pH 
	+ 0.2469 * sulphates 
	+ 0.1199 * alcohol 
	+ 39.1208

LM num: 34
quality = 
	-0.3182 * fixed.acidity 
	+ 0.0012 * volatile.acidity 
	- 2.4124 * citric.acid 
	- 0.1764 * residual.sugar 
	+ 5.7111 * chlorides 
	+ 0.0874 * free.sulfur.dioxide 
	+ 0.0002 * total.sulfur.dioxide 
	+ 0.0001 * density 
	- 31.3597 * pH 
	+ 0.2469 * sulphates 
	+ 0.1199 * alcohol 
	+ 39.9144

LM num: 35
quality = 
	-0.0695 * fixed.acidity 
	+ 0.0012 * volatile.acidity 
	- 2.2225 * citric.acid 
	- 0.1764 * residual.sugar 
	+ 5.7111 * chlorides 
	+ 0.0882 * free.sulfur.dioxide 
	+ 0.0002 * total.sulfur.dioxide 
	+ 0.0001 * density 
	- 31.3597 * pH 
	+ 0.2882 * sulphates 
	+ 0.1199 * alcohol 
	+ 37.9875

LM num: 36
quality = 
	-0.4936 * fixed.acidity 
	+ 0.0797 * volatile.acidity 
	- 2.4188 * citric.acid 
	- 0.1001 * residual.sugar 
	+ 0.0519 * chlorides 
	+ 1.2445 * free.sulfur.dioxide 
	+ 0.0002 * total.sulfur.dioxide 
	+ 259.9948 * density 
	- 113.2135 * pH 
	+ 0.5635 * sulphates 
	+ 1.1495 * alcohol 
	- 145.8266

LM num: 37
quality = 
	0.0828 * volatile.acidity 
	- 1.969 * citric.acid 
	- 0.1235 * residual.sugar 
	+ 0.0408 * chlorides 
	+ 0.5557 * free.sulfur.dioxide 
	+ 0.0002 * total.sulfur.dioxide 
	+ 0.0001 * density 
	- 100.2465 * pH 
	+ 0.996 * sulphates 
	+ 0.5283 * alcohol 
	+ 101.4098

LM num: 38
quality = 
	0.0903 * volatile.acidity 
	- 2.0365 * citric.acid 
	- 0.1001 * residual.sugar 
	+ 0.0425 * chlorides 
	+ 0.5477 * free.sulfur.dioxide 
	+ 0.0002 * total.sulfur.dioxide 
	+ 0.0001 * density 
	- 104.9622 * pH 
	- 0.577 * sulphates 
	+ 0.3658 * alcohol 
	+ 106.897

LM num: 39
quality = 
	0.0178 * volatile.acidity 
	- 1.19 * citric.acid 
	- 0.0789 * residual.sugar 
	+ 0.0199 * chlorides 
	+ 0.0973 * free.sulfur.dioxide 
	+ 0.0002 * total.sulfur.dioxide 
	+ 0.0001 * density 
	- 46.7151 * pH 
	+ 0.1443 * sulphates 
	+ 0.1669 * alcohol 
	+ 51.8086

LM num: 40
quality = 
	-10.4475 * volatile.acidity 
	- 1.19 * citric.acid 
	- 0.1001 * residual.sugar 
	+ 0.0199 * chlorides 
	+ 0.0973 * free.sulfur.dioxide 
	+ 0.0045 * total.sulfur.dioxide 
	+ 0.0001 * density 
	- 44.5739 * pH 
	+ 0.1443 * sulphates 
	+ 0.1669 * alcohol 
	+ 46.4726

LM num: 41
quality = 
	-0.0389 * volatile.acidity 
	- 0.2704 * citric.acid 
	+ 0.6445 * residual.sugar 
	- 7.8452 * chlorides 
	- 3.8883 * free.sulfur.dioxide 
	+ 0 * total.sulfur.dioxide 
	+ 13.1536 * pH 
	- 0.2235 * sulphates 
	+ 0.0154 * alcohol 
	- 8.119

LM num: 42
quality = 
	-0.0139 * volatile.acidity 
	+ 1.0352 * citric.acid 
	+ 1.021 * residual.sugar 
	- 4.6438 * chlorides 
	- 6.0203 * free.sulfur.dioxide 
	- 0.0062 * total.sulfur.dioxide 
	- 0.0008 * density 
	+ 2.2255 * pH 
	- 0.088 * sulphates 
	+ 0.0154 * alcohol 
	+ 3.2445

LM num: 43
quality = 
	-0.0139 * volatile.acidity 
	+ 2.1609 * citric.acid 
	+ 1.021 * residual.sugar 
	- 4.468 * chlorides 
	- 6.0203 * free.sulfur.dioxide 
	- 0.0106 * total.sulfur.dioxide 
	- 0.0008 * density 
	+ 2.2255 * pH 
	- 0.088 * sulphates 
	+ 0.0154 * alcohol 
	+ 3.5435

LM num: 44
quality = 
	0.0064 * fixed.acidity 
	- 0.0139 * volatile.acidity 
	+ 2.0942 * citric.acid 
	+ 1.021 * residual.sugar 
	- 4.468 * chlorides 
	- 6.0203 * free.sulfur.dioxide 
	- 0.0106 * total.sulfur.dioxide 
	- 0.0008 * density 
	+ 2.2255 * pH 
	- 0.088 * sulphates 
	+ 0.0154 * alcohol 
	+ 3.5252

LM num: 45
quality = 
	0.0064 * fixed.acidity 
	- 0.0139 * volatile.acidity 
	+ 2.0942 * citric.acid 
	+ 1.021 * residual.sugar 
	- 4.468 * chlorides 
	- 6.0203 * free.sulfur.dioxide 
	- 0.0106 * total.sulfur.dioxide 
	- 0.0008 * density 
	+ 2.2255 * pH 
	- 0.088 * sulphates 
	+ 0.0154 * alcohol 
	+ 3.5263

LM num: 46
quality = 
	-0.0139 * volatile.acidity 
	+ 1.4782 * citric.acid 
	+ 1.021 * residual.sugar 
	- 4.468 * chlorides 
	- 6.0203 * free.sulfur.dioxide 
	- 0.0106 * total.sulfur.dioxide 
	- 0.0008 * density 
	+ 2.2255 * pH 
	- 0.088 * sulphates 
	+ 0.0154 * alcohol 
	+ 3.6971

LM num: 47
quality = 
	-1.201 * volatile.acidity 
	+ 0.462 * citric.acid 
	+ 1.021 * residual.sugar 
	- 6.6391 * chlorides 
	- 6.0203 * free.sulfur.dioxide 
	- 0.0106 * total.sulfur.dioxide 
	- 0.0008 * density 
	+ 2.2255 * pH 
	- 0.088 * sulphates 
	+ 0.0154 * alcohol 
	+ 4.277

LM num: 48
quality = 
	-0.9537 * volatile.acidity 
	+ 0.462 * citric.acid 
	+ 1.021 * residual.sugar 
	- 6.1868 * chlorides 
	- 6.0203 * free.sulfur.dioxide 
	- 0.0106 * total.sulfur.dioxide 
	- 0.0008 * density 
	+ 2.2255 * pH 
	- 0.088 * sulphates 
	+ 0.0154 * alcohol 
	+ 4.1505

LM num: 49
quality = 
	-0.0139 * volatile.acidity 
	- 0.2704 * citric.acid 
	+ 0.5817 * residual.sugar 
	+ 0.0043 * chlorides 
	- 3.4552 * free.sulfur.dioxide 
	- 0.0012 * total.sulfur.dioxide 
	- 0.0004 * density 
	+ 2.2255 * pH 
	- 0.088 * sulphates 
	+ 0.3786 * alcohol 
	- 0.2469

LM num: 50
quality = 
	0.0008 * volatile.acidity 
	- 1.2959 * citric.acid 
	- 0.0474 * residual.sugar 
	+ 0.0047 * chlorides 
	+ 0.0086 * free.sulfur.dioxide 
	- 0.0005 * total.sulfur.dioxide 
	- 0.0006 * density 
	- 2.6496 * pH 
	+ 0.1176 * sulphates 
	+ 0.2759 * alcohol 
	+ 7.6238

LM num: 51
quality = 
	-4.9088 * volatile.acidity 
	- 1.0115 * citric.acid 
	- 0.0376 * residual.sugar 
	+ 0.0047 * chlorides 
	+ 0.0013 * total.sulfur.dioxide 
	- 18.5793 * density 
	- 2.0509 * pH 
	+ 0.0785 * sulphates 
	+ 0.1838 * alcohol 
	+ 25.7793

LM num: 52
quality = 
	-0.1456 * fixed.acidity 
	- 1.5785 * volatile.acidity 
	- 1.0115 * citric.acid 
	- 0.0292 * residual.sugar 
	+ 0.0047 * chlorides 
	+ 0.0013 * total.sulfur.dioxide 
	- 34.3713 * density 
	- 2.3328 * pH 
	+ 0.0785 * sulphates 
	+ 0.1838 * alcohol 
	+ 42.2907

LM num: 53
quality = 
	0.0008 * volatile.acidity 
	+ 0.4721 * citric.acid 
	- 0.1482 * residual.sugar 
	+ 0.0055 * chlorides 
	+ 0.0032 * free.sulfur.dioxide 
	+ 0.001 * total.sulfur.dioxide 
	+ 210.4054 * density 
	- 2.8646 * pH 
	+ 0.0071 * sulphates 
	+ 0.0154 * alcohol 
	- 200.1769

LM num: 54
quality = 
	0.0825 * fixed.acidity 
	+ 0.0008 * volatile.acidity 
	- 0.159 * citric.acid 
	- 0.1719 * residual.sugar 
	+ 0.0055 * chlorides 
	+ 0.0003 * free.sulfur.dioxide 
	+ 0.001 * total.sulfur.dioxide 
	+ 242.2666 * density 
	- 2.8646 * pH 
	+ 0.0071 * sulphates 
	+ 0.0154 * alcohol 
	- 231.9683

LM num: 55
quality = 
	0.0532 * fixed.acidity 
	+ 0.0008 * volatile.acidity 
	- 0.159 * citric.acid 
	- 0.1719 * residual.sugar 
	+ 0.0055 * chlorides 
	+ 0.0003 * free.sulfur.dioxide 
	+ 0.001 * total.sulfur.dioxide 
	+ 242.2666 * density 
	- 2.8646 * pH 
	+ 0.0071 * sulphates 
	+ 0.0154 * alcohol 
	- 231.6859

LM num: 56
quality = 
	-0.1877 * fixed.acidity 
	+ 0.0008 * volatile.acidity 
	- 0.159 * citric.acid 
	- 0.2486 * residual.sugar 
	+ 0.0055 * chlorides 
	+ 0.0003 * free.sulfur.dioxide 
	+ 0.001 * total.sulfur.dioxide 
	+ 427.5436 * density 
	- 2.8646 * pH 
	+ 0.0071 * sulphates 
	+ 0.0154 * alcohol 
	- 413.7531

LM num: 57
quality = 
	-0.1845 * fixed.acidity 
	+ 0.0008 * volatile.acidity 
	- 0.159 * citric.acid 
	- 0.2486 * residual.sugar 
	+ 0.0055 * chlorides 
	+ 0.0003 * free.sulfur.dioxide 
	+ 0.001 * total.sulfur.dioxide 
	+ 427.5436 * density 
	- 2.8646 * pH 
	+ 0.0071 * sulphates 
	+ 0.0154 * alcohol 
	- 413.7844

LM num: 58
quality = 
	-0.0812 * fixed.acidity 
	+ 0.0008 * volatile.acidity 
	- 0.159 * citric.acid 
	- 0.2458 * residual.sugar 
	+ 0.0055 * chlorides 
	+ 0.0003 * free.sulfur.dioxide 
	+ 0.001 * total.sulfur.dioxide 
	+ 356.5653 * density 
	- 2.8646 * pH 
	+ 0.0071 * sulphates 
	+ 0.0154 * alcohol 
	- 343.5685

LM num: 59
quality = 
	0.0008 * volatile.acidity 
	- 0.6717 * citric.acid 
	- 0.1076 * residual.sugar 
	+ 0.0055 * chlorides 
	- 0.0068 * free.sulfur.dioxide 
	+ 0.0016 * total.sulfur.dioxide 
	- 0.0001 * density 
	- 3.0114 * pH 
	+ 0.0071 * sulphates 
	+ 0.0154 * alcohol 
	+ 10.2583

LM num: 60
quality = 
	0.0008 * volatile.acidity 
	- 0.1551 * citric.acid 
	- 0.1076 * residual.sugar 
	- 1.5548 * chlorides 
	- 0.0068 * free.sulfur.dioxide 
	+ 0.0016 * total.sulfur.dioxide 
	- 0.0001 * density 
	- 3.0114 * pH 
	+ 0.0071 * sulphates 
	+ 0.0154 * alcohol 
	+ 10.144

LM num: 61
quality = 
	0.0008 * volatile.acidity 
	- 0.249 * citric.acid 
	- 0.1076 * residual.sugar 
	- 1.7884 * chlorides 
	- 0.0068 * free.sulfur.dioxide 
	+ 0.0016 * total.sulfur.dioxide 
	- 0.0001 * density 
	- 3.0114 * pH 
	+ 0.0071 * sulphates 
	+ 0.0154 * alcohol 
	+ 10.1955

LM num: 62
quality = 
	0.0008 * volatile.acidity 
	- 0.249 * citric.acid 
	- 0.1076 * residual.sugar 
	- 1.8797 * chlorides 
	- 0.0068 * free.sulfur.dioxide 
	+ 0.0016 * total.sulfur.dioxide 
	- 0.0001 * density 
	- 3.0114 * pH 
	+ 0.0071 * sulphates 
	+ 0.0154 * alcohol 
	+ 10.1975

LM num: 63
quality = 
	0.0008 * volatile.acidity 
	- 0.6717 * citric.acid 
	- 0.1167 * residual.sugar 
	+ 0.0055 * chlorides 
	- 0.0068 * free.sulfur.dioxide 
	+ 0.0016 * total.sulfur.dioxide 
	- 0.0001 * density 
	- 3.0114 * pH 
	+ 0.0071 * sulphates 
	+ 0.0154 * alcohol 
	+ 10.3391

LM num: 64
quality = 
	0.0008 * volatile.acidity 
	- 0.6717 * citric.acid 
	- 0.1 * residual.sugar 
	+ 0.0055 * chlorides 
	- 0.0091 * free.sulfur.dioxide 
	+ 0.0016 * total.sulfur.dioxide 
	- 0.0001 * density 
	- 3.0114 * pH 
	+ 0.0071 * sulphates 
	+ 0.0154 * alcohol 
	+ 10.1278

LM num: 65
quality = 
	0.0725 * fixed.acidity 
	+ 0.718 * volatile.acidity 
	- 0.1682 * citric.acid 
	- 0.0186 * residual.sugar 
	+ 0.0034 * chlorides 
	+ 0.0064 * free.sulfur.dioxide 
	+ 0.0005 * total.sulfur.dioxide 
	- 113.4729 * density 
	- 2.4685 * pH 
	+ 0.0071 * sulphates 
	+ 0.0154 * alcohol 
	+ 119.1723

LM num: 66
quality = 
	0.0811 * fixed.acidity 
	+ 0.718 * volatile.acidity 
	- 0.1682 * citric.acid 
	- 0.0186 * residual.sugar 
	+ 0.0034 * chlorides 
	+ 0.0064 * free.sulfur.dioxide 
	+ 0.0005 * total.sulfur.dioxide 
	- 113.4729 * density 
	- 2.4685 * pH 
	+ 0.0071 * sulphates 
	+ 0.0154 * alcohol 
	+ 119.1496

LM num: 67
quality = 
	-0.0242 * fixed.acidity 
	+ 0.718 * volatile.acidity 
	- 0.1682 * citric.acid 
	- 0.0348 * residual.sugar 
	+ 0.0034 * chlorides 
	+ 0.0034 * free.sulfur.dioxide 
	+ 0.0005 * total.sulfur.dioxide 
	- 71.247 * density 
	- 2.4685 * pH 
	+ 0.0071 * sulphates 
	+ 0.0154 * alcohol 
	+ 78.3345

LM num: 68
quality = 
	0.1091 * fixed.acidity 
	+ 0.718 * volatile.acidity 
	- 0.1682 * citric.acid 
	- 0.0348 * residual.sugar 
	+ 0.0034 * chlorides 
	+ 0.0034 * free.sulfur.dioxide 
	+ 0.0005 * total.sulfur.dioxide 
	- 71.247 * density 
	- 2.4685 * pH 
	+ 0.0071 * sulphates 
	+ 0.0154 * alcohol 
	+ 77.4467

LM num: 69
quality = 
	-0.0457 * fixed.acidity 
	+ 0.718 * volatile.acidity 
	- 0.1682 * citric.acid 
	- 0.0348 * residual.sugar 
	+ 0.0034 * chlorides 
	+ 0.0034 * free.sulfur.dioxide 
	+ 0.0005 * total.sulfur.dioxide 
	- 71.247 * density 
	- 2.4685 * pH 
	+ 0.0071 * sulphates 
	+ 0.0154 * alcohol 
	+ 78.4145

LM num: 70
quality = 
	0.0223 * fixed.acidity 
	+ 0.718 * volatile.acidity 
	- 0.1682 * citric.acid 
	- 0.0348 * residual.sugar 
	+ 0.0034 * chlorides 
	+ 0.0108 * free.sulfur.dioxide 
	+ 0.0005 * total.sulfur.dioxide 
	- 76.2837 * density 
	- 2.4685 * pH 
	+ 0.0071 * sulphates 
	+ 0.0154 * alcohol 
	+ 82.4543

LM num: 71
quality = 
	-3.9696 * volatile.acidity 
	- 0.4571 * citric.acid 
	- 0.0473 * residual.sugar 
	+ 0.0034 * chlorides 
	- 0.0026 * free.sulfur.dioxide 
	+ 0.0035 * total.sulfur.dioxide 
	- 16.6994 * density 
	- 2.4685 * pH 
	+ 0.0071 * sulphates 
	+ 0.0154 * alcohol 
	+ 24.7381

LM num: 72
quality = 
	-4.7084 * volatile.acidity 
	- 0.4571 * citric.acid 
	- 0.0473 * residual.sugar 
	+ 0.0034 * chlorides 
	- 0.0026 * free.sulfur.dioxide 
	+ 0.0031 * total.sulfur.dioxide 
	- 16.6994 * density 
	- 2.4685 * pH 
	+ 0.0071 * sulphates 
	+ 0.0154 * alcohol 
	+ 25.035

LM num: 73
quality = 
	-3.3578 * volatile.acidity 
	- 0.4571 * citric.acid 
	- 0.0473 * residual.sugar 
	+ 0.0034 * chlorides 
	- 0.0044 * free.sulfur.dioxide 
	+ 0.0024 * total.sulfur.dioxide 
	- 16.6994 * density 
	- 2.4685 * pH 
	+ 0.0071 * sulphates 
	+ 0.0154 * alcohol 
	+ 24.8515

LM num: 74
quality = 
	0.6341 * volatile.acidity 
	- 0.4571 * citric.acid 
	- 0.0473 * residual.sugar 
	+ 0.0034 * chlorides 
	+ 0.0024 * free.sulfur.dioxide 
	+ 0.0006 * total.sulfur.dioxide 
	- 16.6994 * density 
	- 2.4685 * pH 
	+ 0.0071 * sulphates 
	+ 0.0154 * alcohol 
	+ 23.6957

LM num: 75
quality = 
	0.6341 * volatile.acidity 
	- 0.4571 * citric.acid 
	- 0.0473 * residual.sugar 
	+ 0.0034 * chlorides 
	+ 0.0029 * free.sulfur.dioxide 
	+ 0.0006 * total.sulfur.dioxide 
	- 16.6994 * density 
	- 2.4685 * pH 
	+ 0.0071 * sulphates 
	+ 0.0154 * alcohol 
	+ 23.7125

LM num: 76
quality = 
	-0.0519 * fixed.acidity 
	+ 0.6341 * volatile.acidity 
	+ 0.8082 * citric.acid 
	- 0.0473 * residual.sugar 
	+ 0.0034 * chlorides 
	+ 0.0029 * free.sulfur.dioxide 
	+ 0.0006 * total.sulfur.dioxide 
	- 16.6994 * density 
	- 2.4685 * pH 
	+ 0.0071 * sulphates 
	+ 0.0154 * alcohol 
	+ 23.4937

LM num: 77
quality = 
	-0.0626 * fixed.acidity 
	+ 0.6341 * volatile.acidity 
	+ 0.745 * citric.acid 
	- 0.0473 * residual.sugar 
	+ 0.0034 * chlorides 
	+ 0.0029 * free.sulfur.dioxide 
	+ 0.0006 * total.sulfur.dioxide 
	- 16.6994 * density 
	- 2.4685 * pH 
	+ 0.0071 * sulphates 
	+ 0.0154 * alcohol 
	+ 23.6075

LM num: 78
quality = 
	2.9992 * volatile.acidity 
	- 1.6457 * citric.acid 
	- 0.0473 * residual.sugar 
	+ 0.0034 * chlorides 
	+ 0.0041 * free.sulfur.dioxide 
	+ 0.0006 * total.sulfur.dioxide 
	- 16.6994 * density 
	- 2.4685 * pH 
	+ 0.0071 * sulphates 
	+ 0.0154 * alcohol 
	+ 23.5858

LM num: 79
quality = 
	2.9992 * volatile.acidity 
	- 1.812 * citric.acid 
	- 0.0473 * residual.sugar 
	+ 0.0034 * chlorides 
	+ 0.0035 * free.sulfur.dioxide 
	+ 0.0006 * total.sulfur.dioxide 
	- 16.6994 * density 
	- 2.4685 * pH 
	+ 0.0071 * sulphates 
	+ 0.0154 * alcohol 
	+ 23.7167

LM num: 80
quality = 
	2.9992 * volatile.acidity 
	- 1.8033 * citric.acid 
	- 0.0473 * residual.sugar 
	+ 1.2227 * chlorides 
	+ 0.0035 * free.sulfur.dioxide 
	+ 0.0006 * total.sulfur.dioxide 
	- 16.6994 * density 
	- 2.4685 * pH 
	+ 0.0071 * sulphates 
	+ 0.0154 * alcohol 
	+ 23.6596

LM num: 81
quality = 
	3.9189 * volatile.acidity 
	- 1.6457 * citric.acid 
	- 0.0473 * residual.sugar 
	+ 0.0034 * chlorides 
	+ 0.0011 * free.sulfur.dioxide 
	+ 0.0006 * total.sulfur.dioxide 
	- 16.6994 * density 
	- 2.4685 * pH 
	+ 0.0071 * sulphates 
	+ 0.0154 * alcohol 
	+ 23.5332

LM num: 82
quality = 
	0.6341 * volatile.acidity 
	- 1.8821 * citric.acid 
	- 0.0473 * residual.sugar 
	+ 0.0034 * chlorides 
	+ 0.0011 * free.sulfur.dioxide 
	+ 0.0006 * total.sulfur.dioxide 
	- 16.6994 * density 
	- 2.4685 * pH 
	+ 0.0071 * sulphates 
	+ 0.0154 * alcohol 
	+ 24.5179

LM num: 83
quality = 
	0.0008 * volatile.acidity 
	- 0.1682 * citric.acid 
	- 0.0533 * residual.sugar 
	+ 0.0034 * chlorides 
	+ 0.0091 * free.sulfur.dioxide 
	+ 0.0032 * total.sulfur.dioxide 
	- 0.0011 * density 
	- 2.4685 * pH 
	+ 0.0071 * sulphates 
	+ 0.3724 * alcohol 
	+ 3.2877

LM num: 84
quality = 
	-0.0027 * volatile.acidity 
	+ 0.0362 * citric.acid 
	+ 0.0088 * residual.sugar 
	+ 0.0074 * chlorides 
	- 0.0524 * free.sulfur.dioxide 
	- 0.0005 * total.sulfur.dioxide 
	- 25.6121 * density 
	- 13.2044 * pH 
	+ 0.0484 * sulphates 
	+ 0.0154 * alcohol 
	+ 43.1306

LM num: 85
quality = 
	0.2956 * volatile.acidity 
	+ 0.0362 * citric.acid 
	+ 0.0175 * residual.sugar 
	+ 0.6945 * chlorides 
	- 0.0509 * free.sulfur.dioxide 
	+ 0.001 * total.sulfur.dioxide 
	- 61.8877 * density 
	- 13.2044 * pH 
	- 0.9473 * sulphates 
	+ 0.0154 * alcohol 
	+ 79.3762

LM num: 86
quality = 
	0.2956 * volatile.acidity 
	+ 0.0362 * citric.acid 
	+ 0.0175 * residual.sugar 
	+ 0.6945 * chlorides 
	- 0.0509 * free.sulfur.dioxide 
	+ 0.001 * total.sulfur.dioxide 
	- 41.1384 * density 
	- 13.2044 * pH 
	- 0.9473 * sulphates 
	+ 0.0154 * alcohol 
	+ 58.6546

LM num: 87
quality = 
	0.2956 * volatile.acidity 
	+ 0.0362 * citric.acid 
	+ 0.0175 * residual.sugar 
	+ 0.6945 * chlorides 
	- 0.0509 * free.sulfur.dioxide 
	+ 0.001 * total.sulfur.dioxide 
	- 34.7269 * density 
	- 13.2044 * pH 
	- 0.9473 * sulphates 
	+ 0.0154 * alcohol 
	+ 52.272

LM num: 88
quality = 
	0.2956 * volatile.acidity 
	+ 0.0362 * citric.acid 
	+ 0.0175 * residual.sugar 
	+ 0.6945 * chlorides 
	- 0.0509 * free.sulfur.dioxide 
	+ 0.001 * total.sulfur.dioxide 
	- 31.8376 * density 
	- 13.2044 * pH 
	- 0.9473 * sulphates 
	+ 0.0154 * alcohol 
	+ 49.4122

LM num: 89
quality = 
	-0.0841 * fixed.acidity 
	+ 0.2956 * volatile.acidity 
	+ 0.0362 * citric.acid 
	+ 0.0175 * residual.sugar 
	+ 0.6945 * chlorides 
	- 0.0447 * free.sulfur.dioxide 
	+ 0.001 * total.sulfur.dioxide 
	- 61.8877 * density 
	- 13.2044 * pH 
	- 0.9925 * sulphates 
	+ 0.0154 * alcohol 
	+ 79.6904

LM num: 90
quality = 
	-0.1009 * fixed.acidity 
	+ 0.2956 * volatile.acidity 
	+ 0.0362 * citric.acid 
	+ 0.0175 * residual.sugar 
	+ 0.6945 * chlorides 
	- 0.0436 * free.sulfur.dioxide 
	+ 0.001 * total.sulfur.dioxide 
	- 61.8877 * density 
	- 13.2044 * pH 
	- 0.9925 * sulphates 
	+ 0.0154 * alcohol 
	+ 79.7846

LM num: 91
quality = 
	-0.0467 * fixed.acidity 
	+ 0.2956 * volatile.acidity 
	+ 0.0362 * citric.acid 
	+ 0.0175 * residual.sugar 
	+ 0.6945 * chlorides 
	- 0.0463 * free.sulfur.dioxide 
	+ 0.001 * total.sulfur.dioxide 
	- 61.8877 * density 
	- 13.2044 * pH 
	- 0.9925 * sulphates 
	+ 0.0154 * alcohol 
	+ 79.445

LM num: 92
quality = 
	0.2956 * volatile.acidity 
	+ 0.0362 * citric.acid 
	+ 0.0175 * residual.sugar 
	+ 0.6945 * chlorides 
	- 0.0509 * free.sulfur.dioxide 
	+ 0.0033 * total.sulfur.dioxide 
	- 61.8877 * density 
	- 13.2044 * pH 
	- 0.9925 * sulphates 
	+ 0.0154 * alcohol 
	+ 78.9916

LM num: 93
quality = 
	0.2956 * volatile.acidity 
	+ 0.0362 * citric.acid 
	+ 0.0178 * residual.sugar 
	+ 0.7199 * chlorides 
	- 0.0508 * free.sulfur.dioxide 
	+ 0.001 * total.sulfur.dioxide 
	- 63.2058 * density 
	- 13.2044 * pH 
	- 0.4484 * sulphates 
	+ 0.0154 * alcohol 
	+ 80.4296

LM num: 94
quality = 
	0.2956 * volatile.acidity 
	+ 0.0362 * citric.acid 
	+ 0.0178 * residual.sugar 
	+ 0.7199 * chlorides 
	- 0.0469 * free.sulfur.dioxide 
	+ 0.001 * total.sulfur.dioxide 
	- 63.2058 * density 
	- 13.2044 * pH 
	- 0.0489 * sulphates 
	+ 0.0154 * alcohol 
	+ 80.1702

LM num: 95
quality = 
	0.2956 * volatile.acidity 
	+ 0.0362 * citric.acid 
	+ 0.0178 * residual.sugar 
	+ 0.7199 * chlorides 
	- 0.0469 * free.sulfur.dioxide 
	+ 0.001 * total.sulfur.dioxide 
	- 63.2058 * density 
	- 13.2044 * pH 
	- 0.4484 * sulphates 
	+ 0.0154 * alcohol 
	+ 80.3346

LM num: 96
quality = 
	0.2956 * volatile.acidity 
	+ 0.0362 * citric.acid 
	+ 0.0178 * residual.sugar 
	+ 0.7199 * chlorides 
	- 0.0451 * free.sulfur.dioxide 
	+ 0.001 * total.sulfur.dioxide 
	- 63.2058 * density 
	- 13.2044 * pH 
	- 0.4484 * sulphates 
	+ 0.0154 * alcohol 
	+ 80.3277

LM num: 97
quality = 
	0.2956 * volatile.acidity 
	+ 0.0362 * citric.acid 
	+ 0.0178 * residual.sugar 
	+ 0.7199 * chlorides 
	- 0.0508 * free.sulfur.dioxide 
	+ 0.001 * total.sulfur.dioxide 
	- 63.2058 * density 
	- 13.2044 * pH 
	- 0.4484 * sulphates 
	+ 0.0154 * alcohol 
	+ 80.3823

LM num: 98
quality = 
	0.7431 * volatile.acidity 
	+ 0.0362 * citric.acid 
	+ 0.0149 * residual.sugar 
	+ 0.0074 * chlorides 
	- 0.0535 * free.sulfur.dioxide 
	+ 0.0008 * total.sulfur.dioxide 
	- 52.4002 * density 
	- 13.2044 * pH 
	- 0.2867 * sulphates 
	+ 0.0154 * alcohol 
	+ 69.5146

LM num: 99
quality = 
	0.1165 * fixed.acidity 
	- 5.0949 * volatile.acidity 
	+ 0.4873 * citric.acid 
	- 0.0384 * residual.sugar 
	+ 0.0078 * chlorides 
	- 0.054 * free.sulfur.dioxide 
	- 0.001 * total.sulfur.dioxide 
	+ 0.0007 * density 
	- 9.4979 * pH 
	+ 0.0484 * sulphates 
	+ 0.0154 * alcohol 
	+ 11.8021

LM num: 100
quality = 
	-2.652 * volatile.acidity 
	+ 0.6499 * citric.acid 
	- 0.0245 * residual.sugar 
	+ 0.0078 * chlorides 
	- 0.0578 * free.sulfur.dioxide 
	- 0.001 * total.sulfur.dioxide 
	- 29.8113 * density 
	- 11.8021 * pH 
	+ 0.0484 * sulphates 
	+ 0.0154 * alcohol 
	+ 49.0789

LM num: 101
quality = 
	-7.037 * volatile.acidity 
	+ 0.6499 * citric.acid 
	- 0.0245 * residual.sugar 
	+ 0.0078 * chlorides 
	- 0.0578 * free.sulfur.dioxide 
	- 0.001 * total.sulfur.dioxide 
	- 29.8113 * density 
	- 11.8021 * pH 
	+ 0.0484 * sulphates 
	+ 0.0154 * alcohol 
	+ 50.7401

LM num: 102
quality = 
	-0.0027 * volatile.acidity 
	+ 0.6499 * citric.acid 
	- 0.0298 * residual.sugar 
	+ 0.0078 * chlorides 
	- 0.054 * free.sulfur.dioxide 
	- 0.001 * total.sulfur.dioxide 
	- 18.3939 * density 
	- 11.4626 * pH 
	+ 0.0484 * sulphates 
	+ 0.0154 * alcohol 
	+ 35.3744

LM num: 103
quality = 
	-0.0728 * fixed.acidity 
	+ 1.6671 * volatile.acidity 
	+ 0.2209 * citric.acid 
	- 0.0649 * residual.sugar 
	+ 0.0084 * chlorides 
	- 0.0555 * free.sulfur.dioxide 
	- 0.0008 * total.sulfur.dioxide 
	+ 36.7934 * density 
	- 10.9157 * pH 
	+ 0.0484 * sulphates 
	+ 0.0154 * alcohol 
	- 21.4493

LM num: 104
quality = 
	-0.0728 * fixed.acidity 
	+ 1.948 * volatile.acidity 
	+ 0.2209 * citric.acid 
	- 0.0649 * residual.sugar 
	+ 0.0084 * chlorides 
	- 0.0555 * free.sulfur.dioxide 
	+ 0.0024 * total.sulfur.dioxide 
	+ 36.7934 * density 
	- 10.9157 * pH 
	+ 0.0484 * sulphates 
	+ 0.0154 * alcohol 
	- 22.095

LM num: 105
quality = 
	-0.0728 * fixed.acidity 
	+ 1.948 * volatile.acidity 
	+ 0.2209 * citric.acid 
	- 0.0649 * residual.sugar 
	+ 0.0084 * chlorides 
	- 0.0555 * free.sulfur.dioxide 
	+ 0.0028 * total.sulfur.dioxide 
	+ 36.7934 * density 
	- 10.9157 * pH 
	+ 0.0484 * sulphates 
	+ 0.0154 * alcohol 
	- 22.1494

LM num: 106
quality = 
	-0.1177 * fixed.acidity 
	+ 1.8089 * volatile.acidity 
	+ 0.2209 * citric.acid 
	- 0.0662 * residual.sugar 
	+ 0.0084 * chlorides 
	- 0.0555 * free.sulfur.dioxide 
	- 0.0008 * total.sulfur.dioxide 
	+ 51.0623 * density 
	- 10.9157 * pH 
	+ 0.0484 * sulphates 
	+ 0.0154 * alcohol 
	- 35.2849

LM num: 107
quality = 
	-0.1177 * fixed.acidity 
	+ 1.8089 * volatile.acidity 
	+ 0.2209 * citric.acid 
	- 0.065 * residual.sugar 
	+ 0.0084 * chlorides 
	- 0.0555 * free.sulfur.dioxide 
	- 0.0008 * total.sulfur.dioxide 
	+ 62.7679 * density 
	- 10.9157 * pH 
	+ 0.0484 * sulphates 
	+ 0.0154 * alcohol 
	- 46.8916

LM num: 108
quality = 
	0.0342 * fixed.acidity 
	+ 1.8404 * volatile.acidity 
	+ 0.2209 * citric.acid 
	- 0.0733 * residual.sugar 
	+ 0.0084 * chlorides 
	- 0.0555 * free.sulfur.dioxide 
	- 0.0008 * total.sulfur.dioxide 
	+ 63.8725 * density 
	- 10.9157 * pH 
	+ 0.0484 * sulphates 
	+ 0.0154 * alcohol 
	- 49.296

LM num: 109
quality = 
	-0.0441 * fixed.acidity 
	- 0.0027 * volatile.acidity 
	+ 0.2209 * citric.acid 
	- 0.0495 * residual.sugar 
	+ 0.0084 * chlorides 
	- 0.0575 * free.sulfur.dioxide 
	- 0.0001 * total.sulfur.dioxide 
	+ 0.0008 * density 
	- 10.9157 * pH 
	+ 0.0484 * sulphates 
	+ 0.8929 * alcohol 
	+ 7.6713

LM num: 110
quality = 
	-0.0441 * fixed.acidity 
	- 0.0027 * volatile.acidity 
	+ 0.2209 * citric.acid 
	- 0.0495 * residual.sugar 
	+ 0.0084 * chlorides 
	- 0.0575 * free.sulfur.dioxide 
	- 0.0001 * total.sulfur.dioxide 
	+ 0.0008 * density 
	- 10.9157 * pH 
	+ 0.0484 * sulphates 
	+ 0.1136 * alcohol 
	+ 14.4754

LM num: 111
quality = 
	-0.0027 * volatile.acidity 
	- 0.1148 * citric.acid 
	+ 0.0361 * residual.sugar 
	- 4.9638 * chlorides 
	- 0.054 * free.sulfur.dioxide 
	- 0.0004 * total.sulfur.dioxide 
	- 46.3999 * density 
	- 10.1444 * pH 
	+ 0.1076 * sulphates 
	+ 0.0154 * alcohol 
	+ 61.0133

LM num: 112
quality = 
	-0.0099 * volatile.acidity 
	- 0.1706 * citric.acid 
	+ 0.0877 * residual.sugar 
	- 1.6965 * chlorides 
	- 0.1659 * free.sulfur.dioxide 
	+ 0 * total.sulfur.dioxide 
	- 148.1856 * density 
	- 4.1889 * pH 
	+ 0.0195 * sulphates 
	+ 0.0154 * alcohol 
	+ 155.9224

LM num: 113
quality = 
	0.05 * fixed.acidity 
	+ 0.1299 * volatile.acidity 
	- 0.7251 * citric.acid 
	+ 0.03 * residual.sugar 
	+ 5.4466 * chlorides 
	+ 0.0108 * total.sulfur.dioxide 
	- 91.0349 * density 
	- 232.9219 * pH 
	+ 1.0199 * sulphates 
	+ 0.7204 * alcohol 
	+ 321.6741

LM num: 114
quality = 
	0.0281 * fixed.acidity 
	+ 0.1299 * volatile.acidity 
	- 0.7251 * citric.acid 
	+ 0.0487 * residual.sugar 
	+ 3.0956 * chlorides 
	+ 0.0114 * total.sulfur.dioxide 
	- 191.7181 * density 
	- 232.9219 * pH 
	+ 1.0199 * sulphates 
	+ 1.053 * alcohol 
	+ 418.345

LM num: 115
quality = 
	-0.0796 * fixed.acidity 
	+ 0.1638 * volatile.acidity 
	- 0.0488 * citric.acid 
	+ 0.0075 * residual.sugar 
	- 6.131 * chlorides 
	+ 0.0333 * free.sulfur.dioxide 
	+ 0.0193 * total.sulfur.dioxide 
	- 114.6504 * density 
	- 289.5485 * pH 
	+ 1.2817 * sulphates 
	+ 0.871 * alcohol 
	+ 400.5832

LM num: 116
quality = 
	-0.0796 * fixed.acidity 
	+ 0.1638 * volatile.acidity 
	- 0.0488 * citric.acid 
	+ 0.0075 * residual.sugar 
	- 6.131 * chlorides 
	+ 0.0333 * free.sulfur.dioxide 
	+ 0.0193 * total.sulfur.dioxide 
	- 224.258 * density 
	- 289.5485 * pH 
	+ 1.2817 * sulphates 
	+ 0.871 * alcohol 
	+ 509.7646

LM num: 117
quality = 
	-2.1953 * volatile.acidity 
	- 0.4573 * citric.acid 
	+ 0.0075 * residual.sugar 
	+ 0.0368 * chlorides 
	+ 0.0029 * total.sulfur.dioxide 
	- 104.1588 * pH 
	+ 0.4335 * sulphates 
	+ 0.373 * alcohol 
	+ 107.6587

LM num: 118
quality = 
	0.1298 * fixed.acidity 
	+ 0.0833 * volatile.acidity 
	- 0.3103 * citric.acid 
	+ 0.0075 * residual.sugar 
	+ 0.0281 * chlorides 
	+ 0.0134 * free.sulfur.dioxide 
	- 0.0033 * total.sulfur.dioxide 
	- 0.0006 * density 
	- 74.8635 * pH 
	+ 1.7116 * sulphates 
	+ 0.3762 * alcohol 
	+ 75.9054

LM num: 119
quality = 
	0.1511 * fixed.acidity 
	- 0.4705 * volatile.acidity 
	- 0.3103 * citric.acid 
	+ 0.0298 * residual.sugar 
	+ 0.0372 * chlorides 
	+ 0.0045 * total.sulfur.dioxide 
	- 0.0006 * density 
	- 102.7968 * pH 
	+ 1.1043 * sulphates 
	+ 0.9362 * alcohol 
	+ 98.9235

LM num: 120
quality = 
	0.249 * fixed.acidity 
	- 0.9498 * volatile.acidity 
	- 0.3103 * citric.acid 
	+ 0.052 * residual.sugar 
	+ 0.0372 * chlorides 
	+ 0.0045 * total.sulfur.dioxide 
	- 0.0006 * density 
	- 102.7968 * pH 
	+ 1.1043 * sulphates 
	+ 0.9362 * alcohol 
	+ 98.3844

LM num: 121
quality = 
	0.2148 * fixed.acidity 
	- 0.6857 * volatile.acidity 
	- 0.3103 * citric.acid 
	+ 0.0604 * residual.sugar 
	+ 0.0372 * chlorides 
	+ 0.0045 * total.sulfur.dioxide 
	- 0.0006 * density 
	- 102.7968 * pH 
	+ 1.1043 * sulphates 
	+ 0.9362 * alcohol 
	+ 98.5157

LM num: 122
quality = 
	0.09 * fixed.acidity 
	+ 0.1267 * volatile.acidity 
	- 0.3103 * citric.acid 
	+ 0.0075 * residual.sugar 
	+ 0.0372 * chlorides 
	+ 0.0045 * total.sulfur.dioxide 
	- 0.0006 * density 
	- 102.7968 * pH 
	+ 1.1043 * sulphates 
	+ 1.5716 * alcohol 
	+ 92.3047

LM num: 123
quality = 
	0.09 * fixed.acidity 
	+ 0.1267 * volatile.acidity 
	- 0.3103 * citric.acid 
	+ 0.0075 * residual.sugar 
	+ 0.0372 * chlorides 
	+ 0.0045 * total.sulfur.dioxide 
	- 0.0006 * density 
	- 102.7968 * pH 
	+ 1.1043 * sulphates 
	+ 1.5519 * alcohol 
	+ 92.5294

LM num: 124
quality = 
	0.09 * fixed.acidity 
	+ 0.1267 * volatile.acidity 
	- 0.3103 * citric.acid 
	+ 0.0075 * residual.sugar 
	+ 0.0372 * chlorides 
	+ 0.0045 * total.sulfur.dioxide 
	- 0.0006 * density 
	- 102.7968 * pH 
	+ 1.1043 * sulphates 
	+ 1.3703 * alcohol 
	+ 94.3935

LM num: 125
quality = 
	-1.2275 * volatile.acidity 
	- 0.3952 * citric.acid 
	+ 0.0075 * residual.sugar 
	+ 0.0268 * chlorides 
	- 0.0047 * total.sulfur.dioxide 
	- 0.0011 * density 
	- 69.0546 * pH 
	+ 0.5221 * sulphates 
	+ 0.3033 * alcohol 
	+ 73.2245

LM num: 126
quality = 
	-1.0831 * volatile.acidity 
	- 1.0883 * citric.acid 
	+ 0.0312 * chlorides 
	- 0.7007 * free.sulfur.dioxide 
	+ 0.0139 * total.sulfur.dioxide 
	+ 22.4683 * density 
	- 26.394 * pH 
	+ 0.1002 * sulphates 
	+ 0.0883 * alcohol 
	+ 9.0802

LM num: 127
quality = 
	-0.1263 * fixed.acidity 
	- 0.8836 * volatile.acidity 
	- 1.0883 * citric.acid 
	+ 0.0312 * chlorides 
	- 0.7007 * free.sulfur.dioxide 
	+ 0.0139 * total.sulfur.dioxide 
	+ 18.1886 * density 
	- 25.8945 * pH 
	+ 0.1002 * sulphates 
	+ 0.0883 * alcohol 
	+ 13.1705

LM num: 128
quality = 
	-0.0737 * fixed.acidity 
	- 0.8836 * volatile.acidity 
	- 1.0883 * citric.acid 
	+ 0.0312 * chlorides 
	- 0.7007 * free.sulfur.dioxide 
	+ 0.0139 * total.sulfur.dioxide 
	+ 18.1886 * density 
	- 25.6235 * pH 
	+ 0.1002 * sulphates 
	+ 0.0883 * alcohol 
	+ 11.7475

LM num: 129
quality = 
	-0.2446 * fixed.acidity 
	- 0.8398 * volatile.acidity 
	- 1.9663 * citric.acid 
	+ 0.0114 * residual.sugar 
	- 2.4939 * chlorides 
	- 0.7007 * free.sulfur.dioxide 
	+ 0.0063 * total.sulfur.dioxide 
	- 18.7292 * pH 
	+ 0.1002 * sulphates 
	+ 0.2058 * alcohol 
	+ 25.7445

LM num: 130
quality = 
	-0.0832 * fixed.acidity 
	- 0.4038 * volatile.acidity 
	- 0.5953 * citric.acid 
	+ 0.0054 * residual.sugar 
	- 3.9739 * chlorides 
	- 0.7007 * free.sulfur.dioxide 
	+ 0.0063 * total.sulfur.dioxide 
	- 19.0312 * pH 
	+ 0.1002 * sulphates 
	+ 0.1438 * alcohol 
	+ 25.5306

LM num: 131
quality = 
	-0.0628 * fixed.acidity 
	- 0.4038 * volatile.acidity 
	- 0.5953 * citric.acid 
	+ 0.027 * residual.sugar 
	- 3.0258 * chlorides 
	- 0.7007 * free.sulfur.dioxide 
	+ 0.0063 * total.sulfur.dioxide 
	- 18.9292 * pH 
	+ 0.1002 * sulphates 
	+ 0.5389 * alcohol 
	+ 20.1476

LM num: 132
quality = 
	-2.3075 * volatile.acidity 
	- 0.4015 * citric.acid 
	+ 0.0226 * residual.sugar 
	- 20.8152 * chlorides 
	- 2.1571 * free.sulfur.dioxide 
	- 0.0015 * total.sulfur.dioxide 
	- 0.0001 * density 
	- 51.6079 * pH 
	+ 0.315 * sulphates 
	+ 0.2853 * alcohol 
	+ 57.9795

LM num: 133
quality = 
	0.0671 * fixed.acidity 
	- 0.1783 * volatile.acidity 
	- 0.2425 * citric.acid 
	+ 0.0441 * residual.sugar 
	+ 0.0348 * chlorides 
	- 1.1041 * free.sulfur.dioxide 
	+ 0.0022 * total.sulfur.dioxide 
	- 33.4512 * density 
	- 68.5227 * pH 
	+ 0.4 * sulphates 
	+ 0.2244 * alcohol 
	+ 105.1386

LM num: 134
quality = 
	0.4632 * fixed.acidity 
	- 0.0753 * volatile.acidity 
	- 0.2425 * citric.acid 
	+ 0.1537 * residual.sugar 
	+ 0.0348 * chlorides 
	- 1.1041 * free.sulfur.dioxide 
	+ 0.0016 * total.sulfur.dioxide 
	- 186.2735 * density 
	- 67.2484 * pH 
	+ 0.4 * sulphates 
	+ 0.2244 * alcohol 
	+ 249.7897

LM num: 135
quality = 
	0.1219 * volatile.acidity 
	- 0.2425 * citric.acid 
	+ 0.0226 * residual.sugar 
	+ 0.0471 * chlorides 
	- 1.1041 * free.sulfur.dioxide 
	+ 0.0007 * total.sulfur.dioxide 
	- 0.0001 * density 
	- 97.8203 * pH 
	+ 0.5434 * sulphates 
	+ 0.2244 * alcohol 
	+ 101.7552

LM num: 136
quality = 
	0.0865 * volatile.acidity 
	- 0.2425 * citric.acid 
	+ 0.0226 * residual.sugar 
	+ 0.0359 * chlorides 
	- 1.091 * free.sulfur.dioxide 
	+ 0.0012 * total.sulfur.dioxide 
	- 0.0001 * density 
	- 67.0328 * pH 
	+ 0.4277 * sulphates 
	+ 0.3429 * alcohol 
	+ 68.987

LM num: 137
quality = 
	0.4784 * fixed.acidity 
	+ 0.0026 * volatile.acidity 
	- 0.2768 * citric.acid 
	+ 0.1841 * residual.sugar 
	+ 0.0141 * chlorides 
	- 1.1672 * free.sulfur.dioxide 
	- 0.0001 * total.sulfur.dioxide 
	- 211.4155 * density 
	- 17.6025 * pH 
	+ 0.1569 * sulphates 
	+ 0.1728 * alcohol 
	+ 225.4304

LM num: 138
quality = 
	-4.6535 * volatile.acidity 
	- 0.2768 * citric.acid 
	+ 0.0946 * residual.sugar 
	+ 0.0141 * chlorides 
	- 1.1792 * free.sulfur.dioxide 
	- 0.0008 * total.sulfur.dioxide 
	- 54.2104 * density 
	- 18.5195 * pH 
	+ 0.1569 * sulphates 
	+ 0.1728 * alcohol 
	+ 77.864

LM num: 139
quality = 
	0.1762 * fixed.acidity 
	- 1.4589 * volatile.acidity 
	- 1.1784 * citric.acid 
	+ 0.0965 * residual.sugar 
	+ 0.0142 * chlorides 
	- 0.4975 * free.sulfur.dioxide 
	+ 0.001 * total.sulfur.dioxide 
	- 275.9795 * density 
	- 29.9264 * pH 
	+ 0.1477 * sulphates 
	+ 0.0755 * alcohol 
	+ 305.176

LM num: 140
quality = 
	0.2468 * fixed.acidity 
	+ 0.0815 * volatile.acidity 
	+ 0.0329 * citric.acid 
	+ 0.0203 * chlorides 
	- 0.8849 * free.sulfur.dioxide 
	+ 0.0013 * total.sulfur.dioxide 
	- 279.5824 * density 
	- 93.1644 * pH 
	+ 1.853 * sulphates 
	+ 0.2971 * alcohol 
	+ 369.0295

LM num: 141
quality = 
	0.2402 * fixed.acidity 
	+ 1.6298 * volatile.acidity 
	+ 0.1263 * citric.acid 
	- 1.0018 * residual.sugar 
	- 21.504 * chlorides 
	- 0.8636 * free.sulfur.dioxide 
	+ 0.0023 * total.sulfur.dioxide 
	+ 0.0001 * density 
	- 157.0559 * pH 
	+ 0.8123 * sulphates 
	+ 0.5055 * alcohol 
	+ 158.4107

LM num: 142
quality = 
	-0.2213 * volatile.acidity 
	+ 0.2618 * citric.acid 
	- 4.9049 * chlorides 
	- 3.0539 * free.sulfur.dioxide 
	+ 0.001 * total.sulfur.dioxide 
	+ 0.0003 * density 
	- 41.8043 * pH 
	+ 0.2424 * sulphates 
	+ 0.1152 * alcohol 
	+ 47.2543

LM num: 143
quality = 
	-0.1086 * fixed.acidity 
	- 1.0489 * volatile.acidity 
	+ 0.3954 * citric.acid 
	- 10.3856 * chlorides 
	- 3.0363 * free.sulfur.dioxide 
	- 0.0043 * total.sulfur.dioxide 
	+ 42.4243 * density 
	- 41.6169 * pH 
	+ 0.2424 * sulphates 
	+ 0.1152 * alcohol 
	+ 6.0839

LM num: 144
quality = 
	-1.4305 * volatile.acidity 
	+ 0.3954 * citric.acid 
	- 10.3856 * chlorides 
	- 3.0452 * free.sulfur.dioxide 
	+ 0.0006 * total.sulfur.dioxide 
	+ 45.328 * density 
	- 41.6169 * pH 
	+ 0.2424 * sulphates 
	+ 0.2254 * alcohol 
	+ 1.2037

LM num: 145
quality = 
	-1.4305 * volatile.acidity 
	+ 0.3954 * citric.acid 
	- 10.3856 * chlorides 
	- 3.0441 * free.sulfur.dioxide 
	+ 0.0006 * total.sulfur.dioxide 
	+ 45.328 * density 
	- 41.6169 * pH 
	+ 0.2424 * sulphates 
	+ 0.1808 * alcohol 
	+ 1.7476

LM num: 146
quality = 
	-1.5077 * volatile.acidity 
	+ 0.3954 * citric.acid 
	- 10.3856 * chlorides 
	- 3.0423 * free.sulfur.dioxide 
	+ 0.0006 * total.sulfur.dioxide 
	+ 45.328 * density 
	- 41.6169 * pH 
	+ 0.2424 * sulphates 
	+ 0.0458 * alcohol 
	+ 3.2362

LM num: 147
quality = 
	0.1185 * volatile.acidity 
	+ 2.2026 * citric.acid 
	- 14.5567 * chlorides 
	- 3.0208 * free.sulfur.dioxide 
	+ 0.0006 * total.sulfur.dioxide 
	+ 31.2728 * density 
	- 40.8177 * pH 
	+ 0.2424 * sulphates 
	+ 0.1152 * alcohol 
	+ 11.4521

LM num: 148
quality = 
	0.0911 * fixed.acidity 
	- 0.1912 * volatile.acidity 
	+ 2.4132 * citric.acid 
	- 14.5567 * chlorides 
	- 3.0123 * free.sulfur.dioxide 
	+ 0.0006 * total.sulfur.dioxide 
	+ 31.2728 * density 
	- 41.0701 * pH 
	+ 0.2424 * sulphates 
	+ 0.4563 * alcohol 
	+ 7.2276

LM num: 149
quality = 
	-0.0288 * volatile.acidity 
	- 0.0442 * citric.acid 
	+ 0.0225 * chlorides 
	- 6.8736 * free.sulfur.dioxide 
	- 0.0004 * total.sulfur.dioxide 
	+ 0.0004 * density 
	- 43.2263 * pH 
	+ 0.2506 * sulphates 
	+ 0.1152 * alcohol 
	+ 48.8146

LM num: 150
quality = 
	-0.234 * fixed.acidity 
	- 0.0053 * volatile.acidity 
	+ 2.0345 * citric.acid 
	- 3.1189 * chlorides 
	- 5.1097 * free.sulfur.dioxide 
	- 0.0016 * total.sulfur.dioxide 
	+ 0.0004 * density 
	- 43.2263 * pH 
	+ 0.2506 * sulphates 
	+ 0.1152 * alcohol 
	+ 50.088

LM num: 151
quality = 
	-0.0667 * fixed.acidity 
	- 0.0053 * volatile.acidity 
	+ 0.4628 * citric.acid 
	- 6.4349 * chlorides 
	- 5.1097 * free.sulfur.dioxide 
	- 0.0029 * total.sulfur.dioxide 
	+ 0.0004 * density 
	- 43.2263 * pH 
	- 1.5401 * sulphates 
	+ 0.1152 * alcohol 
	+ 50.2272

LM num: 152
quality = 
	0.0198 * volatile.acidity 
	- 0.2189 * citric.acid 
	+ 0.0175 * chlorides 
	- 2.0814 * free.sulfur.dioxide 
	- 0.0005 * total.sulfur.dioxide 
	+ 0.0001 * density 
	- 35.1322 * pH 
	+ 0.2 * sulphates 
	+ 0.1468 * alcohol 
	+ 41.1272

LM num: 153
quality = 
	0.1092 * fixed.acidity 
	+ 0.8248 * volatile.acidity 
	- 0.1667 * citric.acid 
	+ 0.0175 * chlorides 
	- 2.0752 * free.sulfur.dioxide 
	+ 0.0033 * total.sulfur.dioxide 
	+ 0.0001 * density 
	- 35.1322 * pH 
	+ 0.2 * sulphates 
	+ 0.1468 * alcohol 
	+ 39.321

LM num: 154
quality = 
	0.1092 * fixed.acidity 
	+ 0.4394 * volatile.acidity 
	- 0.1667 * citric.acid 
	+ 0.0175 * chlorides 
	- 2.0706 * free.sulfur.dioxide 
	+ 0.0033 * total.sulfur.dioxide 
	+ 0.0001 * density 
	- 35.1322 * pH 
	+ 0.2 * sulphates 
	+ 0.1468 * alcohol 
	+ 39.413

LM num: 155
quality = 
	0.1092 * fixed.acidity 
	+ 0.4394 * volatile.acidity 
	- 0.1667 * citric.acid 
	+ 0.0175 * chlorides 
	- 2.0709 * free.sulfur.dioxide 
	+ 0.0033 * total.sulfur.dioxide 
	+ 0.0001 * density 
	- 35.1322 * pH 
	+ 0.2 * sulphates 
	+ 0.1468 * alcohol 
	+ 39.4285

LM num: 156
quality = 
	0.1092 * fixed.acidity 
	+ 0.4394 * volatile.acidity 
	- 0.1667 * citric.acid 
	+ 0.0175 * chlorides 
	- 2.0752 * free.sulfur.dioxide 
	+ 0.0033 * total.sulfur.dioxide 
	+ 0.0001 * density 
	- 35.1322 * pH 
	+ 0.2 * sulphates 
	+ 0.1468 * alcohol 
	+ 39.5431

LM num: 157
quality = 
	0.078 * fixed.acidity 
	+ 0.3195 * volatile.acidity 
	- 0.1667 * citric.acid 
	+ 0.0175 * chlorides 
	- 2.0814 * free.sulfur.dioxide 
	- 0.0067 * total.sulfur.dioxide 
	+ 0.0001 * density 
	- 35.1322 * pH 
	+ 0.2 * sulphates 
	+ 0.1468 * alcohol 
	+ 41.4251

LM num: 158
quality = 
	0.078 * fixed.acidity 
	+ 0.3195 * volatile.acidity 
	- 0.1667 * citric.acid 
	+ 3.6873 * chlorides 
	- 2.0814 * free.sulfur.dioxide 
	- 0.0056 * total.sulfur.dioxide 
	+ 0.0001 * density 
	- 35.1322 * pH 
	+ 0.2 * sulphates 
	+ 0.1468 * alcohol 
	+ 41.1069

LM num: 159
quality = 
	0.078 * fixed.acidity 
	+ 0.3195 * volatile.acidity 
	- 0.1667 * citric.acid 
	+ 4.3546 * chlorides 
	- 2.0814 * free.sulfur.dioxide 
	- 0.0056 * total.sulfur.dioxide 
	+ 0.0001 * density 
	- 35.1322 * pH 
	+ 0.3831 * sulphates 
	+ 0.1468 * alcohol 
	+ 40.9955

LM num: 160
quality = 
	0.078 * fixed.acidity 
	+ 0.3195 * volatile.acidity 
	- 0.1667 * citric.acid 
	+ 4.3546 * chlorides 
	- 2.0814 * free.sulfur.dioxide 
	- 0.0056 * total.sulfur.dioxide 
	+ 0.0001 * density 
	- 35.1322 * pH 
	+ 0.3734 * sulphates 
	+ 0.1468 * alcohol 
	+ 41.0087

LM num: 161
quality = 
	0.078 * fixed.acidity 
	+ 1.5739 * volatile.acidity 
	- 0.1667 * citric.acid 
	+ 0.0175 * chlorides 
	- 2.0814 * free.sulfur.dioxide 
	- 0.0047 * total.sulfur.dioxide 
	+ 0.0001 * density 
	- 35.1322 * pH 
	+ 0.2 * sulphates 
	+ 0.4603 * alcohol 
	+ 36.837

LM num: 162
quality = 
	0.078 * fixed.acidity 
	+ 1.999 * volatile.acidity 
	- 0.1667 * citric.acid 
	+ 0.0175 * chlorides 
	- 2.0814 * free.sulfur.dioxide 
	- 0.0047 * total.sulfur.dioxide 
	+ 0.0001 * density 
	- 35.1322 * pH 
	+ 0.2 * sulphates 
	+ 0.4446 * alcohol 
	+ 36.9572

LM num: 163
quality = 
	1.2221 * volatile.acidity 
	- 0.1667 * citric.acid 
	+ 0.0175 * chlorides 
	- 2.0814 * free.sulfur.dioxide 
	- 0.0022 * total.sulfur.dioxide 
	+ 0.0001 * density 
	- 35.1322 * pH 
	+ 0.2 * sulphates 
	+ 0.1468 * alcohol 
	+ 40.6639

Number of Rules : 163
</code></pre>

</div>

</div>

<script>
  'use strict';

  var containerId = JSON.parse("\"a205e2b298947ed3\"");
  var containerElem = document.getElementById(containerId);
  var codetabLinks = null;
  var codetabContents = null;
  var ids = [];

  if (containerElem) {
    codetabLinks = containerElem.querySelectorAll('.codetab__link');
    codetabContents = containerElem.querySelectorAll('.codetab__content');
  }

  for (var i = 0; i < codetabContents.length; i++) {
    ids = ids.concat(codetabContents[i].getAttribute('id'));
    codetabContents[i].style.display = 'none';

    if (0 === parseInt(i, 10) && !codetabContents[i].classList.contains('active')) {
      codetabContents[i].classList.add('active');
    }
  }

  for (var i = 0; i < codetabLinks.length; i++) {
    codetabLinks[i].setAttribute('id', ids[i]);

    if (0 === parseInt(i, 10) && !codetabLinks[i].classList.contains('active')) {
      codetabLinks[i].classList.add('active');
    } else {
      codetabLinks[i].classList.remove('active');
    }
  }

  if (codetabContents.length > 0) {
    codetabContents[0].style.display = 'block';
  }
</script>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="nf">summary</span><span class="p">(</span><span class="n">m.m5p</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-SOS" data-lang="SOS">=== Summary ===

Correlation coefficient                 -0.2222
Mean absolute error                    124.1163
Root mean squared error                165.4731
Relative absolute error              18429.7475 %
Root relative squared error          18670.7196 %
Total Number of Instances             3750     
</code></pre><p>ç”±äºŽç»“æžœæ›´å·®äº†ï¼Œå¯èƒ½æ¡ˆä¾‹æœ‰è¯¯ï¼è¿™é‡Œä¸å†è®¨è®ºã€‚</p>
<h2 id="äººå·¥ç¥žç»ç½‘ç»œå¯¹æ··å‡åœŸå¼ºåº¦å»ºæ¨¡">äººå·¥ç¥žç»ç½‘ç»œå¯¹æ··å‡åœŸå¼ºåº¦å»ºæ¨¡</h2>
<blockquote>
<p>ä»»ä½•è¶³å¤Ÿå…ˆè¿›çš„æŠ€æœ¯éƒ½æ˜¯äºŽé­”æ³•éš¾ä»¥åŒºåˆ†çš„ã€‚â€”â€”Arthur C. Clarke</p>
</blockquote>
<p>äººå·¥ç¥žç»ç½‘ç»œæœ€å¥½åº”ç”¨äºŽä¸‹åˆ—é—®é¢˜ï¼šè¾“å…¥æ•°æ®å’Œè¾“å‡ºæ•°æ®éƒ½èƒ½å¾ˆå¥½ç†è§£æˆ–è€…è‡³å°‘ç›¸å½“ç®€å•ï¼Œä½†å…¶æ¶‰åŠè¾“å…¥åˆ°è¾“å‡ºçš„è¿‡ç¨‹æ˜¯æžå…¶å¤æ‚çš„ã€‚</p>
<h5 id="æ¿€æ´»å‡½æ•°">æ¿€æ´»å‡½æ•°</h5>
<p>æ¿€æ´»å‡½æ•°ä¹‹é—´çš„å·®å¼‚ä¸»è¦ç»†èŠ‚å°±æ˜¯è¾“å‡ºä¿¡å·çš„èŒƒå›´ä¸åŒã€‚çº¿æ€§æ¿€æ´»å‡½æ•°äº§ç”Ÿéžå¸¸ç±»ä¼¼äºŽçº¿æ€§å›žå½’æ¨¡åž‹çš„ç¥žç»ç½‘ç»œï¼Œè€Œé«˜æ–¯æ¿€æ´»å‡½æ•°äº§ç”Ÿç§°ä¸º<strong>å¾„å‘åŸºå‡½æ•°</strong>ï¼ˆRadial Basis Function, RBFï¼‰ç½‘ç»œæ¨¡åž‹ã€‚å¯¹äºŽè®¸å¤šæ¿€æ´»å‡½æ•°ï¼Œå½±å“è¾“å‡ºä¿¡å·çš„è¾“å…¥å€¼èŒƒå›´æ˜¯ç›¸å¯¹è¾ƒçª„çš„ï¼Œå› ä¸ºæœ¬è´¨ä¸Šæ˜¯å°†è¾“å…¥å€¼åŽ‹ç¼©åˆ°ä¸€ä¸ªè¾ƒå°çš„è¾“å‡ºèŒƒå›´ï¼Œæ‰€ä»¥è¿™æ ·çš„æ¿€æ´»å‡½æ•°ï¼ˆåƒSå½¢ï¼‰æœ‰æ—¶å€™ç§°ä¸ºåŽ‹ç¼©å‡½æ•°ï¼ˆsquashing functionï¼‰ã€‚åŽ‹ç¼©é—®é¢˜çš„è§£å†³æ–¹æ³•å°±æ˜¯è½¬æ¢æ‰€æœ‰çš„ç¥žç»ç½‘ç»œè¾“å…¥ï¼Œä½¿ç‰¹å¾å€¼è½åœ¨0é™„è¿‘çš„å°èŒƒå›´å†…ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œè¿™å¯ä»¥é€šè¿‡ä¾¿è½¬åŒ–æˆ–è€…è§„èŒƒåŒ–å®Œæˆã€‚</p>
<h5 id="ç½‘ç»œæ‹“æ‰‘">ç½‘ç»œæ‹“æ‰‘</h5>
<h6 id="ä¿¡æ¯ä¼ æ’­çš„æ–¹å‘">ä¿¡æ¯ä¼ æ’­çš„æ–¹å‘</h6>
<ul>
<li>å‰é¦ˆç¥žç»ç½‘ç»œï¼ˆfeedforward networkï¼‰ï¼šç½‘ç»œä¸­çš„è¾“å…¥ä¿¡å·åœ¨ä¸€ä¸ªæ–¹å‘ä¸Šä»Žä¸€ä¸ªèŠ‚ç‚¹åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹è¿žç»­åœ°ä¼ é€ï¼Œç›´åˆ°åˆ°è¾¾è¾“å‡ºå±‚ã€‚</li>
<li>é€’å½’ç½‘ç»œï¼ˆrecurrent networkï¼‰ï¼šå…è®¸ä¿¡å·ä½¿ç”¨å¾ªçŽ¯åœ¨ä¸¤ä¸ªæ–¹å‘ä¸Šä¼ æ’­ã€‚å®ƒä½¿å¾—æžå…¶å¤æ‚çš„æ¨¡å¼å¯ä»¥è¢«å­¦ä¹ ï¼Œèƒ½å¤Ÿç†è§£ç»è¿‡ä¸€æ®µæ—¶é—´çš„äº‹ä»¶åºåˆ—çš„èƒ½åŠ›ï¼ˆè®°å¿†èƒ½åŠ›ï¼‰ã€‚</li>
</ul>
<h6 id="æ¯ä¸€å±‚çš„èŠ‚ç‚¹æ•°">æ¯ä¸€å±‚çš„èŠ‚ç‚¹æ•°</h6>
<p>è¾“å…¥èŠ‚ç‚¹çš„ä¸ªæ•°ç”±è¾“å…¥æ•°æ®ç‰¹å¾å’Œæ•°é‡é¢„å…ˆç¡®å®šã€‚ç±»ä¼¼åœ°ï¼Œè¾“å‡ºèŠ‚ç‚¹çš„ä¸ªæ•°ç”±éœ€è¦è¿›è¡Œå»ºæ¨¡çš„ç»“æžœæˆ–è€…ç»“æžœä¸­çš„åˆ†ç±»æ°´å¹³æ•°é¢„å…ˆç¡®å®šã€‚</p>
<blockquote>
<p>å·²ç»è¯æ˜Žï¼Œå…·æœ‰è‡³å°‘ä¸€ä¸ªå……åˆ†å¤šç¥žç»å…ƒéšè—å±‚çš„ç¥žç»ç½‘ç»œæ˜¯ä¸€ç§<strong>é€šç”¨å‡½æ•°é€¼è¿‘å™¨</strong>ï¼ˆuniversal function approximatorï¼‰ã€‚ä»Žæœ¬è´¨ä¸Šè®²ï¼Œè¿™æ„å‘³ç€è¿™æ ·çš„ä¸€ä¸ªç½‘ç»œå¯ä»¥ç”¨æ¥ä»¥ä»»æ„ç²¾åº¦é€¼è¿‘æœ‰ç•ŒåŒºé—´ä¸Šçš„ä»»æ„è¿žç»­å‡½æ•°ã€‚</p>
</blockquote>
<h5 id="ç”¨åŽå‘ä¼ æ’­è®­ç»ƒç¥žç»ç½‘ç»œ">ç”¨åŽå‘ä¼ æ’­è®­ç»ƒç¥žç»ç½‘ç»œ</h5>
<ul>
<li><strong>å‰å‘é˜¶æ®µ</strong>ï¼ˆforward phaseï¼‰ï¼šç¥žç»å…ƒåœ¨ä»Žè¾“å…¥å±‚åˆ°è¾“å‡ºå±‚çš„åºåˆ—ä¸­è¢«æ¿€æ´»ï¼Œæ²¿é€”åº”ç”¨æ¯ä¸€ä¸ªç¥žç»å…ƒçš„æƒé‡å’Œæ¿€æ´»å‡½æ•°ï¼Œä¸€æ—¦è¾¾åˆ°æœ€åŽä¸€å±‚ï¼Œå°±äº§ç”Ÿä¸€ä¸ªè¾“å‡ºä¿¡å·ã€‚</li>
<li><strong>åŽå‘é˜¶æ®µ</strong>ï¼ˆbackward phaseï¼‰ä¸­ï¼šç”±å‰å‘é˜¶æ®µäº§ç”Ÿçš„ç½‘ç»œè¾“å‡ºä¿¡å·ä¸Žè®­ç»ƒæ•°æ®ä¸­çš„çœŸå®žç›®æ ‡å€¼è¿›è¡Œæ¯”è¾ƒï¼Œç½‘ç»œçš„è¾“å‡ºä¿¡å·ä¸ŽçœŸå®žç›®æ ‡å€¼ä¹‹é—´çš„å·®å¼‚äº§ç”Ÿçš„è¯¯å·®åœ¨ç½‘ç»œä¸­å‘åŽä¼ æ’­ï¼Œä»Žè€Œæ¥ä¿®æ­£ç¥žç»å…ƒä¹‹é—´çš„è¿žæŽ¥æƒé‡ï¼Œå¹¶å‡å°‘å°†æ¥äº§ç”Ÿçš„è¯¯å·®ã€‚ä¿®æ­£çš„é‡ç”±<strong>æ¢¯åº¦ä¸‹é™</strong>ï¼ˆgradient descentï¼‰ç®—æ³•ç§çš„<strong>å­¦ä¹ çŽ‡</strong>ï¼ˆlearning rateï¼‰å†³å®šã€‚</li>
</ul>
<h3 id="æ•°æ®å¤„ç†-6">æ•°æ®å¤„ç†</h3>
<p>æ··å‡åœŸæ•°æ®é›†åŒ…å«äº†1030ä¸ªæ··å‡åœŸæ¡ˆä¾‹ï¼Œ8ä¸ªæè¿°æ··åˆç‰©æˆåˆ†çš„ç‰¹å¾ã€‚è¿™äº›ç‰¹å¾è¢«è®¤ä¸ºä¸Žæœ€ç»ˆçš„æŠ—åŽ‹å¼ºåº¦ç›¸å…³ï¼Œå¹¶ä¸”å®ƒä»¬åŒ…å«äº†äº§å“ä¸­ä½¿ç”¨æ°´æ³¥ï¼ˆcementï¼‰ã€çŸ¿æ¸£ï¼ˆslagï¼‰ã€ç°ï¼ˆashï¼‰æ°´ï¼ˆwaterï¼‰ã€è¶…å¡‘åŒ–å‰‚ï¼ˆsuperplasticizerï¼‰ã€ç²—é›†æ–™ï¼ˆcoarse aggregateï¼‰ã€ç»†é›†æ–™ï¼ˆfineaggregateï¼‰çš„é‡ï¼ˆå•ä½$kg/m^3$ï¼‰ï¼Œè¿˜åŒ…æ‹¬è€åŒ–æ—¶é—´ï¼ˆaging timeï¼‰ï¼ˆå•ä½ä¸ºå¤©ï¼‰ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="n">concrete</span> <span class="o">&lt;-</span> <span class="nf">read.csv</span><span class="p">(</span><span class="s">&#34;G:/R/Machine Learning With R/data/Chapter 07/concrete.csv&#34;</span><span class="p">)</span>
<span class="nf">str</span><span class="p">(</span><span class="n">concrete</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-SOS" data-lang="SOS">'data.frame':	1030 obs. of  9 variables:
 $ cement      : num  141 169 250 266 155 ...
 $ slag        : num  212 42.2 0 114 183.4 ...
 $ ash         : num  0 124.3 95.7 0 0 ...
 $ water       : num  204 158 187 228 193 ...
 $ superplastic: num  0 10.8 5.5 0 9.1 0 0 6.4 0 9 ...
 $ coarseagg   : num  972 1081 957 932 1047 ...
 $ fineagg     : num  748 796 861 670 697 ...
 $ age         : int  28 14 28 28 28 90 7 56 28 28 ...
 $ strength    : num  29.9 23.5 29.2 45.9 18.3 ...
</code></pre><p>æ•°æ®æ¡†ä¸­çš„9ä¸ªå˜é‡å¯¹åº”äºŽæ•°æ®é›†ä¸­çš„8ä¸ªç‰¹å¾å’Œä¸€ä¸ªç»“æžœã€‚ç¥žç»ç½‘ç»œçš„è¾“å…¥æ•°æ®æ”¾ç¼©åˆ°0é™„è¿‘çš„ç‹­çª„èŒƒå›´å†…ï¼Œè¿™é‡Œéœ€è¦æ ‡å‡†åŒ–ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="n">normalize</span> <span class="o">&lt;-</span> <span class="nf">function</span><span class="p">(</span><span class="n">x</span><span class="p">){</span>
  <span class="nf">return</span><span class="p">((</span><span class="n">x</span><span class="o">-</span><span class="nf">min</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="o">/</span><span class="p">(</span><span class="nf">max</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">-</span><span class="nf">min</span><span class="p">(</span><span class="n">x</span><span class="p">)))</span>
<span class="p">}</span>

<span class="n">concrete_norm</span> <span class="o">&lt;-</span> <span class="nf">as.data.frame</span><span class="p">(</span><span class="nf">lapply</span><span class="p">(</span><span class="n">concrete</span><span class="p">,</span> <span class="n">normalize</span><span class="p">))</span>
<span class="nf">summary</span><span class="p">(</span><span class="n">concrete_norm</span><span class="o">$</span><span class="n">strength</span><span class="p">)</span>
<span class="nf">summary</span><span class="p">(</span><span class="n">concrete</span><span class="o">$</span><span class="n">strength</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-SOS" data-lang="SOS"> Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
0.0000  0.2664  0.4001  0.4172  0.5457  1.0000 

 Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
 2.33   23.71   34.45   35.82   46.13   82.60 
</code></pre></br>
<blockquote>
<p>è®­ç»ƒæ¨¡åž‹ä¹‹å‰åº”ç”¨äºŽæ•°æ®çš„ä»»ä½•å˜æ¢ï¼Œä¹‹åŽéœ€è¦åº”ç”¨åå˜æ¢ï¼Œä»¥ä¾¿å°†æ•°æ®è½¬æ¢å›žåŽŸå§‹çš„æµ‹é‡å•ä½ã€‚</p>
</blockquote>
<p>å°†æ•°æ®åˆ’åˆ†ä¸ºä¸€ä¸ªå…·æœ‰75%æ¡ˆä¾‹çš„è®­ç»ƒæ•°æ®é›†å’Œä¸€ä¸ªå…·æœ‰25%æ¡ˆä¾‹çš„æµ‹è¯•é›†ï¼ˆå·²éšæœºæŽ’åˆ—ï¼‰ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="n">concrete_train</span> <span class="o">&lt;-</span> <span class="n">concrete_norm[1</span><span class="o">:</span><span class="m">773</span><span class="p">,</span> <span class="n">]</span>
<span class="n">concrete_test</span> <span class="o">&lt;-</span> <span class="n">concrete_norm[774</span><span class="o">:</span><span class="m">1030</span><span class="p">,</span> <span class="n">]</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="æ¨¡åž‹è®­ç»ƒ-6">æ¨¡åž‹è®­ç»ƒ</h3>
<p>ä»Žè®­ç»ƒæœ€ç®€å•çš„åªæœ‰ä¸€ä¸ªå•ä¸€éšè—èŠ‚ç‚¹çš„å¤šå±‚å‰é¦ˆç½‘ç»œå¼€å§‹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="c1"># install.packages(&#39;neuralnet&#39;)</span>
<span class="nf">library</span><span class="p">(</span><span class="n">neuralnet</span><span class="p">)</span>
<span class="n">concrete_model</span> <span class="o">&lt;-</span> <span class="nf">neuralnet</span><span class="p">(</span><span class="n">strength</span> <span class="o">~</span> <span class="n">cement</span> <span class="o">+</span> <span class="n">slag</span> <span class="o">+</span> <span class="n">ash</span> <span class="o">+</span> <span class="n">water</span> <span class="o">+</span> <span class="n">superplastic</span> <span class="o">+</span> <span class="n">coarseagg</span> <span class="o">+</span> <span class="n">fineagg</span> <span class="o">+</span> <span class="n">age</span><span class="p">,</span> 
                            <span class="n">data</span> <span class="o">=</span> <span class="n">concrete_train</span><span class="p">)</span>
<span class="nf">plot</span><span class="p">(</span><span class="n">concrete_model</span><span class="p">,</span> <span class="n">rep</span> <span class="o">=</span> <span class="s">&#39;best&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p><img src="./fig20210924/output_8_1.png" alt="png" /></p>
<p>8ä¸ªç‰¹å¾ä¸­çš„æ¯ä¸€ä¸ªç‰¹å¾éƒ½æœ‰ä¸€ä¸ªè¾“å…¥èŠ‚ç‚¹ï¼ŒåŽé¢è·Ÿç€ä¸€ä¸ªå•ä¸€çš„éšè—èŠ‚ç‚¹å’Œä¸€ä¸ªå•ä¸€çš„é¢„æµ‹çš„æ··å‡åœŸå¼ºåº¦çš„è¾“å‡ºèŠ‚ç‚¹ã€‚æ¯ä¸€ä¸ªè¿žæŽ¥çš„æƒé‡ä¹Ÿéƒ½è¢«æç»˜å‡ºæ¥ï¼Œåå·®é¡¹ä¹Ÿè¢«æç»˜å‡ºæ¥(é€šè¿‡å¸¦æœ‰1çš„èŠ‚ç‚¹è¡¨ç¤º)ã€‚è¯¥å›¾è¿˜æŠ¥å‘Šäº†è®­ç»ƒçš„æ­¥æ•°å’Œ<strong>è¯¯å·®å¹³æ–¹å’Œ</strong>(Sum of Squared Error, SSE)ã€‚å½“è¯„ä¼°æ¨¡åž‹çš„æ€§èƒ½æ—¶ï¼Œè¿™äº›æŒ‡æ ‡å¾ˆæœ‰ç”¨ã€‚</p>
<h3 id="æ€§èƒ½è¯„ä¼°-6">æ€§èƒ½è¯„ä¼°</h3>
<p><code>compute()</code>å‡½æ•°çš„è¿è¡ŒåŽŸç†ä¸Ž<code>predict()</code>å‡½æ•°æœ‰äº›ä¸åŒã€‚å®ƒè¿”å›žä¸€ä¸ªå¸¦æœ‰ä¸¤ä¸ªåˆ†é‡çš„åˆ—è¡¨ï¼š\$neuronsï¼Œç”¨æ¥å­˜å‚¨ç½‘ç»œä¸­æ¯ä¸€å±‚çš„ç¥žç»å…ƒï¼›\$net.resultsç”¨æ¥å­˜å‚¨é¢„æµ‹å€¼ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="n">model_results</span> <span class="o">&lt;-</span> <span class="nf">compute</span><span class="p">(</span><span class="n">concrete_model</span><span class="p">,</span> <span class="n">concrete_test[1</span><span class="o">:</span><span class="m">8</span><span class="n">]</span><span class="p">)</span>
<span class="n">predicted_strength</span> <span class="o">&lt;-</span> <span class="n">model_results</span><span class="o">$</span><span class="n">net.result</span>
<span class="n">corr</span> <span class="o">&lt;-</span> <span class="nf">cor</span><span class="p">(</span><span class="n">predicted_strength</span><span class="p">,</span> <span class="n">concrete_test</span><span class="o">$</span><span class="n">strength</span><span class="p">)</span>
<span class="n">corr</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-SOS" data-lang="SOS">0.8058595
</code></pre><p>Pearsonç›¸å…³ç³»æ•°ä¸º0.8ï¼Œæ„å‘³ç€ä¸€ä¸ªç›¸å½“å¼ºçš„çº¿æ€§å…³ç³»ã€‚å…·æœ‰ä¸€ä¸ªéšè—èŠ‚ç‚¹çš„ç¥žç»ç½‘ç»œä¸Žçº¿æ€§å›žå½’æ¨¡åž‹ç±»ä¼¼ï¼Œæ¯ä¸ªè¾“å…¥èŠ‚ç‚¹ä¸Žéšè—èŠ‚ç‚¹ä¹‹é—´çš„æƒé‡ç±»ä¼¼äºŽå›žå½’ç³»æ•°ï¼Œå¯¹åå·®é¡¹çš„æƒé‡ç±»ä¼¼äºŽæˆªè·ã€‚äº‹å®žä¸Šï¼Œå¦‚æžœæž„å»ºä¸€ä¸ªä¸Žå‰é¢çš„ç¥žç»ç½‘ç»œåŽŸç†ç›¸åŒçš„çº¿æ€§æ¨¡åž‹ï¼Œåˆ™ç›¸å…³ç³»æ•°ä¸º0.79ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="n">linear_m</span> <span class="o">&lt;-</span> <span class="nf">lm</span><span class="p">(</span><span class="n">strength</span> <span class="o">~</span> <span class="n">cement</span> <span class="o">+</span> <span class="n">slag</span> <span class="o">+</span> <span class="n">ash</span> <span class="o">+</span> <span class="n">water</span> <span class="o">+</span> <span class="n">superplastic</span> <span class="o">+</span> <span class="n">coarseagg</span> <span class="o">+</span> <span class="n">fineagg</span> <span class="o">+</span> <span class="n">age</span><span class="p">,</span> 
               <span class="n">data</span> <span class="o">=</span> <span class="n">concrete_train</span><span class="p">)</span>
<span class="nf">sqrt</span><span class="p">(</span><span class="nf">summary</span><span class="p">(</span><span class="n">linear_m</span><span class="p">)</span><span class="o">$</span><span class="n">adj.r.squared</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-sos" data-lang="sos">0.791953091849414
</code></pre><h3 id="æ€§èƒ½æå‡-6">æ€§èƒ½æå‡</h3>
<p>éšè—å±‚èŠ‚ç‚¹çš„æ•°é‡å¢žåŠ è‡³5ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="n">concrete_model2</span> <span class="o">&lt;-</span> <span class="nf">neuralnet</span><span class="p">(</span><span class="n">strength</span> <span class="o">~</span> <span class="n">cement</span> <span class="o">+</span> <span class="n">slag</span> <span class="o">+</span> <span class="n">ash</span> <span class="o">+</span> <span class="n">water</span> <span class="o">+</span> <span class="n">superplastic</span> <span class="o">+</span> <span class="n">coarseagg</span> <span class="o">+</span> <span class="n">fineagg</span> <span class="o">+</span> <span class="n">age</span><span class="p">,</span> 
                             <span class="n">data</span> <span class="o">=</span> <span class="n">concrete_train</span><span class="p">,</span> <span class="n">hidden</span> <span class="o">=</span> <span class="m">5</span><span class="p">)</span>
<span class="nf">plot</span><span class="p">(</span><span class="n">concrete_model2</span><span class="p">,</span> <span class="n">rep</span> <span class="o">=</span> <span class="s">&#39;best&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p><img src="./fig20210924/output_14_0.png" alt="png" /></p>
<p>SSEä»Ž5.085907å‡å°‘åˆ°1.6952ï¼Œæ­¥æ•°ä»Ž1556ä¸Šå‡ä¸º21974ã€‚å¯¹é¢„æµ‹å€¼äºŽçœŸå®žå€¼è¿›è¡Œæ¯”è¾ƒï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="n">model_results2</span> <span class="o">&lt;-</span> <span class="nf">compute</span><span class="p">(</span><span class="n">concrete_model2</span><span class="p">,</span> <span class="n">concrete_test[1</span><span class="o">:</span><span class="m">8</span><span class="n">]</span><span class="p">)</span>
<span class="n">predicted_strength2</span> <span class="o">&lt;-</span> <span class="n">model_results2</span><span class="o">$</span><span class="n">net.result</span>
<span class="nf">cor</span><span class="p">(</span><span class="n">predicted_strength2</span><span class="p">,</span> <span class="n">concrete_test</span><span class="o">$</span><span class="n">strength</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-SOS" data-lang="SOS">0.9292779
</code></pre><h2 id="å…³è”è§„åˆ™è¶…å¸‚æ•°æ®æŒ–æŽ˜">å…³è”è§„åˆ™è¶…å¸‚æ•°æ®æŒ–æŽ˜</h2>
<p>å…³è”è§„åˆ™æ˜¯æ— ç›‘ç£çš„ï¼Œä¸éœ€è¦è®­ç»ƒç®—æ³•ï¼Œä¹Ÿä¸éœ€è¦æå‰æ ‡è®°æ•°æ®ã€‚ä¸€ä¸ªçµæ•çš„è§„åˆ™å­¦ä¹ ç®—æ³•åˆ©ç”¨äº†è¿™æ ·ä¸€ä¸ªäº‹å®žï¼šåœ¨çŽ°å®žä¸­ï¼Œè®¸å¤šæ½œåœ¨çš„å•†å“ç»„åˆæžå°‘ï¼Œå¦‚æžœæœ‰ï¼Œå°±åœ¨å®žè·µä¸­å‘çŽ°ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªæŽ¥ä¸€ä¸ªåœ°è¯„ä¼°è¿™äº›é¡¹é›†ä¸­çš„æ¯ä¸ªå…ƒç´ ã€‚<strong>Aprioriæ€§è´¨</strong>ï¼šä¸€ä¸ªé¢‘ç¹é¡¹é›†çš„æ‰€æœ‰å­é›†å¿…é¡»ä¹Ÿæ˜¯é¢‘ç¹çš„ã€‚</p>
<h5 id="åº¦é‡è§„åˆ™å…´è¶£åº¦">åº¦é‡è§„åˆ™å…´è¶£åº¦</h5>
<ul>
<li><strong>æ”¯æŒåº¦</strong>ï¼šä¸€ä¸ªé¡¹é›†æˆ–è€…è§„åˆ™åº¦é‡æ³•çš„$support$æ˜¯æŒ‡å…¶åœ¨æ•°æ®ä¸­å‡ºçŽ°çš„é¢‘çŽ‡ã€‚$$support(X)=\frac{count(x)}{N}$$å…¶ä¸­ï¼ŒNè¡¨ç¤ºæ•°æ®åº“ä¸­çš„äº¤æ˜“æ¬¡æ•°ï¼Œ$count(X)$è¡¨ç¤ºé¡¹é›†Xå‡ºçŽ°åœ¨äº¤æ˜“ä¸­çš„æ¬¡æ•°ã€‚</li>
<li><strong>ç½®ä¿¡åº¦</strong>ï¼š$confidence$æ˜¯æŒ‡è¯¥è§„åˆ™çš„é¢„æµ‹èƒ½åŠ›æˆ–è€…å‡†ç¡®åº¦çš„åº¦é‡ã€‚$$confidence(X\rightarrow Y)\frac{support(X,Y)}{support(X)}$$äº‹å®žä¸Šï¼Œ$support(A,B)$ä¸Ž$P(A\bigcap B)$æ˜¯ä¸€æ ·çš„ï¼Œ$confidence(A\rightarrow B)$ä¸Ž$P(B|A)$æ˜¯ä¸€æ ·çš„ã€‚</li>
</ul>
<p><strong>å¼ºè§„åˆ™(strong rule)</strong>ï¼šåŒæ—¶å…·æœ‰é«˜æ”¯æŒåº¦å’Œç½®ä¿¡åº¦ã€‚</p>
<h5 id="ç”¨aprioriåŽŸåˆ™å»ºç«‹è§„åˆ™">ç”¨AprioriåŽŸåˆ™å»ºç«‹è§„åˆ™</h5>
<p>AprioriåŽŸåˆ™æŒ‡çš„æ˜¯ä¸€ä¸ªé¢‘ç¹é¡¹é›†çš„æ‰€æœ‰å­é›†ä¹Ÿå¿…é¡»æ˜¯é¢‘ç¹çš„ã€‚å³å¦‚æžœ${A,B}$æ˜¯é¢‘ç¹çš„ï¼Œé‚£ä¹ˆ${A}$å’Œ${B}$éƒ½å¿…é¡»æ˜¯é¢‘ç¹çš„ã€‚æ ¹æ®å®šä¹‰ï¼Œæ”¯æŒåº¦è¡¨ç¤ºä¸€ä¸ªé¡¹é›†å‡ºçŽ°åœ¨æ•°æ®ä¸­çš„é¢‘çŽ‡ã€‚å› æ­¤ï¼Œå¦‚æžœçŸ¥é“${A}$ä¸æ»¡è¶³æ‰€æœŸæœ›çš„æ”¯æŒåº¦é˜ˆå€¼ï¼Œé‚£ä¹ˆå°±æ²¡æœ‰ç†ç”±è€ƒè™‘${A,B}$æˆ–è€…ä»»ä½•åŒ…å«${A}$çš„é¡¹é›†ï¼Œè¿™äº›é¡¹é›†ç»ä¸å¯èƒ½æ˜¯é¢‘ç¹çš„ã€‚prioriç®—æ³•åˆ©ç”¨è¿™ä¸ªé€»è¾‘åœ¨å®žé™…è¯„ä¼°å®ƒä»¬ä¹‹å‰æŽ’é™¤æ½œåœ¨çš„å…³è”è§„åˆ™ï¼Œåˆ›å»ºè§„åˆ™çš„å®žé™…è¿‡ç¨‹åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼š</p>
<ul>
<li>è¯†åˆ«æ‰€æœ‰æ»¡è¶³æœ€å°æ”¯æŒåº¦é˜ˆå€¼çš„é¡¹é›†ã€‚</li>
<li>æ ¹æ®æ»¡è¶³æœ€å°ç½®ä¿¡åº¦é˜ˆå€¼çš„è¿™äº›é¡¹é›†æ¥åˆ›å»ºè§„åˆ™ã€‚</li>
</ul>
<p>ç¬¬ä¸€é˜¶æ®µå‘ç”ŸäºŽå¤šæ¬¡è¿­ä»£ä¸­ï¼Œæ¯æ¬¡è¿žç»­çš„è¿­ä»£éƒ½éœ€è¦è¯„ä¼°å­˜å‚¨ä¸€ç»„è¶Šæ¥è¶Šå¤§é¡¹é›†çš„æ”¯æŒåº¦ã€‚ä¾‹å¦‚ï¼Œè¿­ä»£1éœ€è¦è¯„ä¼°ä¸€ç»„1é¡¹çš„é¡¹é›†(1é¡¹é›†)ï¼Œè¿­ä»£2è¯„ä¼°2é¡¹é›†ï¼Œä»¥æ­¤ç±»æŽ¨ã€‚æ¯ä¸ªè¿­ä»£içš„ç»“æžœæ˜¯ä¸€ç»„æ‰€æœ‰æ»¡è¶³æœ€å°å€¼å°ºåº¦é˜ˆå€¼çš„ié¡¹é›†ã€‚</p>
<p>ç”±è¿­ä»£iå¾—åˆ°çš„æ‰€æœ‰é¡¹é›†ç»“åˆåœ¨ä¸€èµ·ä»¥ä¾¿ç”Ÿæˆå€™é€‰é¡¹é›†ç”¨äºŽåœ¨è¿­ä»£i+1ä¸­è¿›è¡Œè¯„ä¼°ã€‚ä½†æ˜¯AprioriåŽŸåˆ™ç”šè‡³å¯ä»¥åœ¨ä¸‹ä¸€è½®å¼€å§‹ä¹‹å‰å°±æ¶ˆé™¤å…¶ä¸­çš„ä¸€äº›é¡¹é›†ã€‚å¦‚æžœåœ¨è¿­ä»£1ä¸­ï¼Œ${A}$ã€${B}$å’Œ${C}$éƒ½æ˜¯é¢‘ç¹çš„ï¼Œè€Œ${D}$ä¸æ˜¯é¢‘ç¹çš„ï¼Œé‚£ä¹ˆåœ¨è¿­ä»£2ä¸­ï¼Œåªè€ƒè™‘${A,B}$ã€${A,C}$å’Œ${B,C}$ã€‚å› æ­¤ï¼Œè¯¥ç®—æ³•ä»…éœ€è¦è¯„ä¼°3ä¸ªé¡¹é›†è€Œå¦‚æžœåŒ…å«Dçš„é¡¹é›†æ²¡æœ‰åœ¨äº‹å…ˆ(a priori)æ¶ˆé™¤æŽ‰ï¼Œé‚£ä¹ˆå°±éœ€è¦è¯„ä¼°6ä¸ªé¡¹é›†ã€‚</p>
<p>ä¿æŒè¿™ä¸ªæƒ³æ³•å‡è®¾åœ¨è¿­ä»£2è¿‡ç¨‹ä¸­å‘çŽ°${A,B}$å’Œ${B,C}$æ˜¯é¢‘ç¹çš„ï¼Œè€Œ${A,C}$ä¸æ˜¯é¢‘ç¹çš„ï¼Œå°½ç®¡è¿­ä»£3é€šå¸¸ä¼šä»Žè¯„ä¼°${A,B,C}$çš„æ”¯æŒåº¦å¼€å§‹ï¼Œä½†æ˜¯è¿™ä¸€æ­¥æ ¹æœ¬æ²¡æœ‰å‘ç”Ÿçš„å¿…è¦ã€‚å› æ­¤ï¼Œåœ¨è¿­ä»£3ä¸­å°±æ²¡æœ‰ç”Ÿæˆæ–°çš„é¡¹é›†ï¼Œç®—æ³•å°†ç»ˆæ­¢ã€‚æ­¤æ—¶ï¼ŒAprioriç®—æ³•çš„ç¬¬äºŒé˜¶æ®µå°†ä¼šå¼€å§‹ã€‚ç»™å®šä¸€ç»„é¢‘ç¹é¡¹é›†ï¼Œæ ¹æ®æ‰€æœ‰å¯èƒ½çš„å­é›†äº§ç”Ÿå…³è”è§„åˆ™ã€‚ä¾‹å¦‚ï¼Œ${Aï¼ŒB}$ å°†äº§ç”Ÿå€™é€‰è§„åˆ™${A}\rightarrow{B}$ å’Œ ${B}\rightarrow{A}$ã€‚è¿™äº›è§„åˆ™å°†æ ¹æ®æœ€å°ç½®ä¿¡åº¦é˜ˆå€¼è¯„ä¼°ï¼Œä»»ä½•ä¸æ»¡è¶³æ‰€æœŸæœ›çš„ç½®ä¿¡åº¦çš„è§„åˆ™å°†è¢«æ¶ˆé™¤ã€‚</p>
<h3 id="æ•°æ®å¤„ç†-7">æ•°æ®å¤„ç†</h3>
<p>æ¥è‡ªçŽ°å®žä¸–ç•Œä¸­çš„è¶…å¸‚ç»è¥ä¸€ä¸ªæœˆé¢è´­ç‰©æ•°æ®åŒ…å«äº†9835æ¬¡äº¤æ˜“ã€‚å¯èƒ½æœ‰5ä¸­ä¸åŒå“ç‰Œçš„ç‰›å¥¶ï¼Œä¸€æ‰“ä¸åŒç±»åž‹çš„è¡£ç‰©æ´—æ¶¤å‰‚å’Œ3ä¸­å“ç‰Œçš„å’–å•¡ã€‚é‰´äºŽé›¶å”®å•†çš„å¤§å°é€‚ä¸­ï¼Œå‡å®šä»–ä»¬ä¸æ˜¯éžå¸¸å…³æ³¨å¯»æ‰¾åªåº”ç”¨äºŽç‰¹å®šå“ç‰Œçš„ç‰›å¥¶æˆ–è€…æ´—æ¶¤å‰‚çš„è§„åˆ™ã€‚è€ƒè™‘åˆ°è¿™ä¸€ç‚¹ï¼Œæ‰€æœ‰çš„å“ç‰Œåç§°å°±å¯ä»¥ä»Žè´­ä¹°æ•°æ®ä¸­åŽ»é™¤ã€‚è¿™å°†é£Ÿå“æ‚è´§çš„æ•°é‡å‡å°‘åˆ°æ›´æ˜“äºŽç®¡ç†çš„169ä¸ªç±»åž‹ï¼Œé‡‡ç”¨å¤§ç±»ï¼Œæ¯”å¦‚é¸¡è‚‰ã€å†·å†»é£Ÿå“ã€äººé€ é»„æ²¹å’Œæ±½æ°´ã€‚</p>
<p>äº‹åŠ¡åž‹æ•°æ®çš„å­˜å‚¨å½¢å¼ç¨å¾®æœ‰ç‚¹ä¸åŒï¼Œäº‹åŠ¡åž‹æ•°æ®çš„å½¢å¼æ›´è‡ªç”±ã€‚æ•°æ®ä¸­çš„æ¯ä¸€è¡ŒæŒ‡å®šä¸€ä¸ªå•ä¸€çš„å®žä¾‹(æ¡ˆä¾‹)â€”â€”åœ¨æœ¬ä¾‹ä¸­ï¼Œä¸ºä¸€æ¬¡äº¤æ˜“ã€‚ç„¶è€Œï¼Œæ¯æ¡è®°å½•åŒ…æ‹¬ç”¨é€—å·éš”å¼€çš„ä»»æ„æ•°é‡çš„äº§å“æ¸…å•ï¼Œä»Žä¸€åˆ°è®¸å¤šï¼Œè€Œä¸æ˜¯ä¸€ç»„ç‰¹å¾ã€‚ä»Žæœ¬è´¨ä¸Šè®²ï¼Œå°±æ˜¯å®žä¾‹(æ¡ˆä¾‹)ä¹‹é—´çš„ç‰¹å¾å¯èƒ½æ˜¯ä¸åŒçš„ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="n">groceries</span> <span class="o">&lt;-</span> <span class="nf">read.csv</span><span class="p">(</span><span class="s">&#34;../data/Chapter 08/groceries.csv&#34;</span><span class="p">,</span> <span class="n">header</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">)</span>
<span class="nf">head</span><span class="p">(</span><span class="n">groceries</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><table class="dataframe">
<caption>A data.frame: 6 Ã— 4</caption>
<thead>
	<tr><th></th><th scope=col>V1</th><th scope=col>V2</th><th scope=col>V3</th><th scope=col>V4</th></tr>
	<tr><th></th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th></tr>
</thead>
<tbody>
	<tr><th scope=row>1</th><td>citrus fruit    </td><td>semi-finished bread</td><td>margarine     </td><td>ready soups             </td></tr>
	<tr><th scope=row>2</th><td>tropical fruit  </td><td>yogurt             </td><td>coffee        </td><td>                        </td></tr>
	<tr><th scope=row>3</th><td>whole milk      </td><td>                   </td><td>              </td><td>                        </td></tr>
	<tr><th scope=row>4</th><td>pip fruit       </td><td>yogurt             </td><td>cream cheese  </td><td>meat spreads            </td></tr>
	<tr><th scope=row>5</th><td>other vegetables</td><td>whole milk         </td><td>condensed milk</td><td>long life bakery product</td></tr>
	<tr><th scope=row>6</th><td>whole milk      </td><td>butter             </td><td>yogurt        </td><td>rice                    </td></tr>
</tbody>
</table>
<h5 id="æ•°æ®å‡†å¤‡ä¸ºäº¤æ˜“æ•°æ®åˆ›å»ºä¸€ä¸ªç¨€ç–çŸ©é˜µ">æ•°æ®å‡†å¤‡â€”â€”ä¸ºäº¤æ˜“æ•°æ®åˆ›å»ºä¸€ä¸ªç¨€ç–çŸ©é˜µ</h5>
<p>é‡‡ç”¨ç¨€ç–çŸ©é˜µ(sparse matrix)çš„æ•°æ®ç»“æž„ã€‚ç¨€ç–çŸ©é˜µçš„æ¯ä¸€è¡Œè¡¨ç¤ºä¸€æ¬¡äº¤æ˜“ï¼Œç”¨åˆ—(å³ç‰¹å¾)è¡¨ç¤ºå¯èƒ½å‡ºçŽ°åœ¨æ¶ˆè´¹è€…è´­ç‰©ç¯®ä¸­çš„æ¯ä¸€ä»¶å•†å“ã€‚å› ä¸ºåœ¨æ‚è´§åº—æ•°æ®ä¸­æœ‰169ç±»ä¸åŒçš„å•†å“ï¼Œæ‰€ä»¥ç¨€ç–çŸ©é˜µå°†åŒ…å«169åˆ—ã€‚ä¸€æ—¦å¢žåŠ é¢å¤–çš„äº¤æ˜“å’Œå•†å“ï¼Œä¼ ç»Ÿçš„æ•°æ®ç»“æž„å¾ˆå¿«å°±ä¼šå˜å¾—è¿‡å¤§è€Œå¯¼è‡´å†…å­˜ä¸è¶³ã€‚å³ä½¿è¿™é‡Œä½¿ç”¨çš„äº‹åŠ¡åž‹æ•°æ®é›†ç›¸å¯¹è¾ƒå°ï¼Œä½†æ˜¯çŸ©é˜µåŒ…å«äº†å°†è¿‘170ä¸‡ä¸ªå•å…ƒ(å…ƒç´ )ï¼Œå…¶ä¸­å¤§éƒ¨åˆ†å•å…ƒ(å…ƒç´ )ä¸ºé›¶(å› æ­¤å‘½åä¸º&quot;ç¨€ç–&quot;çŸ©é˜µ)ã€‚å› ä¸ºå­˜å‚¨çš„æ‰€æœ‰è¿™äº›é›¶å€¼æ²¡æœ‰ç›Šå¤„ï¼Œæ‰€ä»¥ç¨€ç–çŸ©é˜µå®žé™…ä¸Šåœ¨å†…å­˜ä¸­æ²¡æœ‰å­˜å‚¨å®Œæ•´çš„çŸ©é˜µï¼Œåªæ˜¯å­˜å‚¨äº†ç”±ä¸€ä¸ªå•†å“æ‰€å ç”¨çš„å•å…ƒ(å…ƒç´ )ï¼Œè¿™ä½¿å¾—è¯¥ç»“æž„çš„å†…å­˜æ•ˆçŽ‡æ¯”ä¸€ä¸ªå¤§å°ç›¸å½“çš„çŸ©é˜µæˆ–è€…æ•°æ®æ¡†çš„å†…å­˜æ•ˆçŽ‡æ›´é«˜ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="c1">#ä¸ºäº†æ ¹æ®äº‹åŠ¡åž‹æ•°æ®åˆ›å»ºç¨€ç–çŸ©é˜µçš„æ•°æ®ç»“æž„ï¼Œå¯ä»¥ä½¿ç”¨å…³è”è§„åˆ™(arules)æ·»åŠ åŒ…æä¾›çš„å‡½æ•°ã€‚</span>
<span class="nf">library</span><span class="p">(</span><span class="n">Matrix</span><span class="p">)</span>
<span class="nf">library</span><span class="p">(</span><span class="n">arules</span><span class="p">)</span>

<span class="c1"># read.transactions()å‡½æ•°å¯ä»¥äº§ç”Ÿä¸€ä¸ªé€‚ç”¨äºŽäº‹åŠ¡åž‹æ•°æ®çš„ç¨€ç–çŸ©é˜µï¼Œå‚æ•°sep=&#34;,&#34;æŒ‡å®šè¾“å…¥åˆ°æ–‡ä»¶ä¸­çš„é¡¹ä¹‹é—´ç”¨é€—å·éš”å¼€ã€‚</span>
<span class="c1"># å°†groceries.csvæ•°æ®è¯»å…¥åˆ°ä¸€ä¸ªåä¸ºgroceriesçš„ç¨€ç–çŸ©é˜µä¸­ã€‚</span>
<span class="n">groceries</span> <span class="o">&lt;-</span> <span class="nf">read.transactions</span><span class="p">(</span><span class="s">&#34;../data/Chapter 08/groceries.csv&#34;</span><span class="p">,</span><span class="n">sep</span> <span class="o">=</span> <span class="s">&#34;,&#34;</span><span class="p">)</span>
<span class="nf">summary</span><span class="p">(</span><span class="n">groceries</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-sos" data-lang="sos">Warning message:
&quot;ç¨‹è¾‘åŒ…'arules'æ˜¯ç”¨Rç‰ˆæœ¬4.1.1 æ¥å»ºé€ çš„&quot;

è½½å…¥ç¨‹è¾‘åŒ…ï¼š'arules'


The following objects are masked from 'package:base':

    abbreviate, write





transactions as itemMatrix in sparse format with
 9835 rows (elements/itemsets/transactions) and
 169 columns (items) and a density of 0.02609146 

most frequent items:
      whole milk other vegetables       rolls/buns             soda 
            2513             1903             1809             1715 
          yogurt          (Other) 
            1372            34055 

element (itemset/transaction) length distribution:
sizes
   1    2    3    4    5    6    7    8    9   10   11   12   13   14   15   16 
2159 1643 1299 1005  855  645  545  438  350  246  182  117   78   77   55   46 
  17   18   19   20   21   22   23   24   26   27   28   29   32 
  29   14   14    9   11    4    6    1    1    1    1    3    1 

   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
  1.000   2.000   3.000   4.409   6.000  32.000 

includes extended item information - examples:
            labels
1 abrasive cleaner
2 artif. sweetener
3   baby cosmetics
</code></pre><p>å¯†åº¦(density)å€¼0.02609146(2.6%)æŒ‡çš„æ˜¯éžé›¶çŸ©é˜µå•å…ƒçš„æ¯”ä¾‹ã€‚å› ä¸ºçŸ©é˜µä¸­å…±æœ‰9835Ã—169=1662115ä¸ªä½ç½®ï¼Œæ‰€ä»¥å¯ä»¥è®¡ç®—åœ¨å•†å“ç»è¥æœŸçš„30å¤©å†…ï¼Œå…±æœ‰1162115Ã—0.02609146=43367ä»¶å•†å“è¢«å¤Ÿä¹°(å‡è®¾æ²¡æœ‰é‡å¤çš„å•†å“è¢«è´­ä¹°)ã€‚è¿›ä¸€æ­¥å¯ä»¥ç¡®å®šå¹³å‡äº¤æ˜“åŒ…å«äº†44367/9835=4.409ç§ä¸åŒçš„æ‚è´§å•†å“ã€‚è¾“å‡ºçš„ä¸‹ä¸€å—åˆ—å‡ºäº†äº‹åŠ¡åž‹æ•°æ®ä¸­æœ€å¸¸è´­ä¹°çš„å•†å“ã€‚å› ä¸º2513/9835=0.2555ï¼Œå¯ä»¥ç¡®å®šwhole milk(å…¨è„‚ç‰›å¥¶)æœ‰25.6%çš„æ¦‚çŽ‡å‡ºçŽ°åœ¨äº¤æ˜“ä¸­ï¼Œä½äºŽæ¸…å•ä¸Šçš„å…¶ä»–å¸¸è§å•†å“æœ‰other vegetable(å…¶ä»–è”¬èœ)ã€roll/buns(é¢åŒ…/é¦’å¤´)ã€soda(æ±½æ°´)å’Œyogurt(é…¸å¥¶)ã€‚æœ€åŽï¼Œæ€»å…±åŒ…å«2159æ¬¡äº¤æ˜“åªåŒ…å«ä¸€ä»¶å•ä¸€çš„å•†å“ï¼Œè€Œæœ‰ä¸€æ¬¡äº¤æ˜“åŒ…å«äº†32ç±»å•†å“ï¼Œç¬¬ä¸€å››åˆ†ä½æ•°å’Œä¸­ä½æ•°çš„è´­ä¹°è§„æ¨¡åˆ†åˆ«ä¸º2ç±»å•†å“å’Œ3ç±»å•†å“ï¼Œè¿™æ„å‘³ç€25%çš„äº¤æ˜“åŒ…å«äº†ä¸¤3ä»¶æˆ–è€…æ›´å°‘çš„å•†å“ï¼Œçº¦ä¸€åŠçš„äº¤æ˜“ä¸­çš„å•†å“æ•°åœ¨3ç±»å·¦å³ï¼Œå‡å€¼4.409ä¸Žæˆ‘ä»¬æ‰‹åŠ¨è®¡ç®—çš„å€¼æ˜¯ä¸€è‡´çš„ã€‚</p>
<p><code>arules</code>åŒ…åŒ…å«äº†ä¸€äº›ç”¨äºŽæ£€æŸ¥äº¤æ˜“æ•°æ®çš„æœ‰ç”¨åŠŸèƒ½ã€‚ä½¿ç”¨<code>inspec()</code>å‡½æ•°ä¸Žå‘é‡è¿ç®—çš„ç»„åˆï¼Œå¯ä»¥æŸ¥çœ‹ç¨€ç–çŸ©é˜µçš„å†…å®¹ã€‚å‰5é¡¹äº¤æ˜“å¦‚ä¸‹ã€‚è¿™ç¬¦åˆåŽŸå§‹CSVæ–‡ä»¶ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="nf">inspect</span><span class="p">(</span><span class="n">groceries[1</span><span class="o">:</span><span class="m">5</span><span class="n">]</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-sos" data-lang="sos">    items                     
[1] {citrus fruit,            
     margarine,               
     ready soups,             
     semi-finished bread}     
[2] {coffee,                  
     tropical fruit,          
     yogurt}                  
[3] {whole milk}              
[4] {cream cheese,            
     meat spreads,            
     pip fruit,               
     yogurt}                  
[5] {condensed milk,          
     long life bakery product,
     other vegetables,        
     whole milk}              
</code></pre><p>è‹¥è¦ç ”ç©¶ä¸€ä»¶ç‰¹å®šçš„å•†å“(å³ä¸€åˆ—æ•°æ®)ï¼Œå¯ä»¥ä½¿ç”¨rowï¼ŒcolumnçŸ©é˜µæ¦‚å¿µã€‚åŒæ—¶ä¸Žå‡½æ•°itemFrequency()ä¸€èµ·ä½¿ç”¨ï¼Œå¯ä»¥çœ‹åˆ°åŒ…å«è¯¥æ•°æ®çš„äº¤æ˜“æ¯”ä¾‹ã€‚ä¾‹å¦‚ï¼Œè¿™ä½¿å¾—å¯ä»¥çœ‹åˆ°groceriesæ•°æ®ä¸­å‰3ä»¶å•†å“çš„æ”¯æŒåº¦ã€‚æ³¨æ„ï¼Œç¨€ç–çŸ©é˜µä¸­å•†å“æ‰€åœ¨çš„åˆ—æ˜¯æŒ‰å­—æ¯è¡¨çš„é¡ºåºæŽ’åˆ—çš„ã€‚abrasive cleaner(æ“¦æ´—å‰‚)å’Œartif. sweetener(äººé€ ç”œå‘³å‰‚)å¤§çº¦ä»¥0.3%çš„æ¯”ä¾‹å‡ºçŽ°åœ¨äº¤æ˜“ä¸­ï¼Œè€Œbaby cosmetics(å©´å„¿ç”¨å“)å¤§çº¦ä»¥0.06%çš„æ¯”ä¾‹å‡ºçŽ°åœ¨äº¤æ˜“ä¸­ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="n">groceries</span> 
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-sos" data-lang="sos">transactions in sparse format with
 9835 transactions (rows) and
 169 items (columns)
</code></pre><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="nf">itemFrequency</span><span class="p">(</span><span class="n">groceries[</span> <span class="p">,</span><span class="m">1</span><span class="o">:</span><span class="m">3</span><span class="n">]</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><style>
.dl-inline {width: auto; margin:0; padding: 0}
.dl-inline>dt, .dl-inline>dd {float: none; width: auto; display: inline-block}
.dl-inline>dt::after {content: ":\0020"; padding-right: .5ex}
.dl-inline>dt:not(:first-of-type) {padding-left: .5ex}
</style><dl class=dl-inline><dt>abrasive cleaner</dt><dd>0.00355871886120996</dd><dt>artif. sweetener</dt><dd>0.0032536858159634</dd><dt>baby cosmetics</dt><dd>0.000610066090493137</dd></dl>
<h5 id="å¯è§†åŒ–å•†å“çš„æ”¯æŒåº¦å•†å“çš„é¢‘çŽ‡å›¾">å¯è§†åŒ–å•†å“çš„æ”¯æŒåº¦â€”â€”å•†å“çš„é¢‘çŽ‡å›¾</h5>
<p>ä¸ºäº†ç›´è§‚åœ°å‘ˆçŽ°è¿™äº›ç»Ÿè®¡æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨itemFrequencyPlot()å‡½æ•°ï¼Œè¿™å¯ä»¥ç”Ÿæˆä¸€ä¸ªç”¨äºŽç‰¹å®šæç»˜æ‰€åŒ…å«çš„ç‰¹å®šå•†å“çš„äº¤æ˜“æ¯”ä¾‹çš„æŸ±çŠ¶å›¾ã€‚å› ä¸ºäº‹åŠ¡åž‹æ•°æ®åŒ…å«äº†éžå¸¸å¤šé¡¹ï¼Œæ‰€ä»¥æ—¶å¸¸éœ€è¦é™åˆ¶å‡ºçŽ°åœ¨å›¾ä¸­çš„é¡¹ï¼Œä»¥ä¾¿äº§ç”Ÿä¸€å¹…æ¸…æ™°çš„å›¾ã€‚å¦‚æžœå¸Œæœ›èŽ·å¾—é‚£äº›å‡ºçŽ°åœ¨æœ€å°äº¤æ˜“æ¯”ä¾‹ä¸­çš„å•†å“ï¼Œé‚£ä¹ˆå¯ä»¥åœ¨itemFrequencyPlot()å‡½æ•°ä¸­è¿ç”¨supportå‚æ•°ã€‚è¿™ç”Ÿæˆäº†ä¸€ä¸ªç›´æ–¹å›¾ï¼Œæ˜¾ç¤ºäº†groceriesæ•°æ®é›†ä¸­æ”¯æŒåº¦è‡³å°‘ä¸º10%çš„8ç±»å•†å“ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="nf">itemFrequencyPlot</span><span class="p">(</span><span class="n">groceries</span><span class="p">,</span> <span class="n">support</span> <span class="o">=</span> <span class="m">0.1</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p><img src="./fig20210924/output_11_0.png" alt="png" /></p>
<p>å¦‚æžœæ›´æ„¿æ„é™åˆ¶å›¾ä¸­å•†å“çš„å…·ä½“æ•°é‡ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨itemFrequencyPlot()å‡½æ•°ä¸­ä½¿ç”¨topNå‚æ•°ã€‚ç›´æ–¹å›¾æ ¹æ®æ”¯æŒåº¦é™åºæŽ’åˆ—ï¼Œä¸‹å›¾æ˜¾ç¤ºäº†groceriesæ•°æ®ä¸­çš„å‰20ç±»å•†å“ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="nf">itemFrequencyPlot</span><span class="p">(</span><span class="n">groceries</span><span class="p">,</span> <span class="n">topN</span> <span class="o">=</span> <span class="m">20</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p><img src="./fig20210924/output_13_0.png" alt="png" /></p>
<h5 id="å¯è§†åŒ–å•†å“çš„æ”¯æŒåº¦å•†å“çš„é¢‘çŽ‡å›¾-1">å¯è§†åŒ–å•†å“çš„æ”¯æŒåº¦â€”â€”å•†å“çš„é¢‘çŽ‡å›¾</h5>
<p>å¯è§†åŒ–æ•´ä¸ªç¨€ç–çŸ©é˜µï¼Œéœ€è¦ä½¿ç”¨image()å‡½æ•°ã€‚å‰äº”æ¬¡äº¤æ˜“çš„ç¨€ç–çŸ©é˜µå¦‚ä¸‹ã€‚ç”Ÿæˆçš„å›¾æç»˜äº†ä¸€ä¸ª5è¡Œ169åˆ—çš„çŸ©é˜µï¼Œè¡¨ç¤ºæˆ‘ä»¬è¦æ±‚çš„5æ¬¡äº¤æ˜“å’Œ169ç±»å¯èƒ½çš„å•†å“ã€‚çŸ©é˜µä¸­å¡«å……æœ‰é»‘è‰²çš„å•å…ƒæ ¼è¡¨ç¤ºåœ¨æ­¤æ¬¡äº¤æ˜“(è¡Œ)ä¸­,è¯¥å•†å“(åˆ—)è¢«è´­ä¹°äº†ã€‚ç®¡è¿™ä¸ªå›¾å½¢å¾ˆå°ï¼Œé˜…è¯»èµ·æ¥ä¼šç¨å¾®æœ‰äº›å›°éš¾ï¼Œä½†æ˜¯å¯ä»¥çœ‹åˆ°ç¬¬ä¸€æ¬¡ã€ç¬¬å››æ¬¡å’Œç¬¬äº”æ¬¡äº¤æ˜“ä¸ªåŒ…å«äº†4ç±»å•†å“ï¼Œå› ä¸ºå®ƒä»¬æ‰€åœ¨çš„è¡Œæœ‰4ä¸ªå•å…ƒæ ¼è¢«å¡«å……äº†ã€‚ä¹Ÿå¯ä»¥çœ‹åˆ°åœ¨ç¬¬ä¸‰è¡Œã€ç¬¬äº”è¡Œã€ç¬¬äºŒè¡Œå’Œç¬¬å››è¡Œæœ‰ä¸€ç±»å…±åŒçš„å•†å“(åœ¨å›¾çš„å³ä¾§)ã€‚å›¾ä¸­çš„æ¨¡å¼å¯èƒ½æœ‰åŠ©äºŽæ­ç¤ºäº¤æ˜“æˆ–è€…å•†å“çš„æœ‰è¶£éƒ¨åˆ†ï¼Œç‰¹åˆ«æ˜¯å½“æ•°æ®ä»¥æœ‰è¶£çš„æ–¹å¼æŽ’åºåŽã€‚ä¾‹å¦‚ï¼Œå¦‚æžœäº¤æ˜“æŒ‰æ—¥æœŸæŽ’åºï¼Œé‚£ä¹ˆé»‘è‰²åœ†ç‚¹çš„å›¾æ¡ˆå¯èƒ½ä¼šæ­ç¤ºäººä»¬è´­ä¹°å•†å“çš„æ•°é‡æˆ–è€…ç±»åž‹çš„å­£èŠ‚æ€§å½±å“ã€‚æˆ–è®¸åœ¨åœ£è¯žèŠ‚(Christmas)æˆ–è€…å…‰æ˜ŽèŠ‚(Hanukkah)å‰åŽï¼ŒçŽ©å…·çš„è´­ä¹°æ›´åŠ å¸¸è§ï¼›æˆ–è®¸åœ¨ä¸‡åœ£èŠ‚(Halloween)å‰åŽï¼Œç³–æžœå˜å¾—æ›´å—æ¬¢è¿Žã€‚å¦‚æžœå•†å“ä¹Ÿè¢«åˆ†ç±»é‚£ä¹ˆè¿™ç§ç±»åž‹çš„å¯è§†åŒ–å¯èƒ½ä¼šç‰¹è¢«æœ‰æ•ˆã€‚ç„¶è€Œï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå›¾å½¢çœ‹ä¸ŠåŽ»éƒ½æ˜¯ç›¸å½“éšæœºçš„ï¼Œå°±åƒç”µè§†è§å±ä¸Šçš„é™ç”µä¸€æ ·ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="nf">image</span><span class="p">(</span><span class="n">groceries[1</span><span class="o">:</span><span class="m">5</span><span class="n">]</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p><img src="./fig20210924/output_15_0.png" alt="png" /></p>
<p>è¿™ç§å¯è§†åŒ–å¯¹äºŽè¶…å¤§åž‹çš„äº¤æ˜“æ•°æ®é›†æ˜¯æ²¡æœ‰ç”¨çš„ï¼Œå› ä¸ºå•å…ƒæ ¼ä¼šå¤ªå°è€Œæ— æ³•è¾¨åˆ«ä¸è¿‡ï¼Œé€šè¿‡å°†å…¶ä¸Žsample()å‡½æ•°ç»“åˆï¼Œå¯ä»¥çœ‹åˆ°ç¨€ç–çŸ©é˜µä¸­ä¸€ç»„éšæœºæŠ½æŠ½æ ·çš„äº¤æ˜“ã€‚ä¸‹é¢çœ‹èµ·æ¥åƒæ˜¯éšæœºé€‰æ‹©çš„100æ¬¡äº¤æ˜“ã€‚è¿™æ ·å°±äº§ç”Ÿäº†ï¼Œä¸€ä¸ª100è¡Œ169åˆ—çš„çŸ©é˜µå›¾ã€‚å°‘æ•°åˆ—çš„é»‘ç‚¹çœ‹èµ·æ¥æ˜¯ç›¸å½“ç¨ å¯†çš„ï¼Œè¡¨æ˜Žè¯¥å•†åº—é‡Œæœ‰ä¸€äº›éžå¸¸å—æ¬¢è¿Žçš„å•†å“ï¼Œä½†æ€»ä½“æ¥è¯´ç‚¹çš„åˆ†å¸ƒè¿˜æ˜¯ç›¸å½“éšæœºçš„ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="nf">image</span><span class="p">(</span><span class="nf">sample</span><span class="p">(</span><span class="n">groceries</span><span class="p">,</span> <span class="m">100</span><span class="p">))</span>
</code></pre></td></tr></table>
</div>
</div><p><img src="./fig20210924/output_17_0.png" alt="png" /></p>
<h3 id="æ¨¡åž‹è®­ç»ƒ-7">æ¨¡åž‹è®­ç»ƒ</h3>
<p>æ‰¾åˆ°é€‚å½“çš„æ”¯æŒåº¦å’Œç½®ä¿¡åº¦å‚æ•°æ¥äº§ç”Ÿåˆç†æ•°é‡çš„å…³è”è§„åˆ™å¯èƒ½éœ€è¦è¿›è¡Œå¤§é‡çš„å®žéªŒä¸Žè¯¯å·®è¯„ä¼°ã€‚ä½¿ç”¨é»˜è®¤çš„support=0.1å’Œconfidence=0.8ï¼Œå¾—ä¸åˆ°ä»»ä½•è§„åˆ™ã€‚å› æ­¤éœ€è¦æ”¾å®½æœç´¢èŒƒå›´ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="nf">apriori</span><span class="p">(</span><span class="n">groceries</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-sos" data-lang="sos">Apriori

Parameter specification:
 confidence minval smax arem  aval originalSupport maxtime support minlen
        0.8    0.1    1 none FALSE            TRUE       5     0.1      1
 maxlen target  ext
     10  rules TRUE

Algorithmic control:
 filter tree heap memopt load sort verbose
    0.1 TRUE TRUE  FALSE TRUE    2    TRUE

Absolute minimum support count: 983 

set item appearances ...[0 item(s)] done [0.00s].
set transactions ...[169 item(s), 9835 transaction(s)] done [0.00s].
sorting and recoding items ... [8 item(s)] done [0.00s].
creating transaction tree ... done [0.00s].
checking subsets of size 1 2 done [0.00s].
writing ... [0 rule(s)] done [0.00s].
creating S4 object  ... done [0.00s].



set of 0 rules 
</code></pre><p>0.1çš„æ”¯æŒåº¦æ„å‘³ç€ä¸ºäº†äº§ç”Ÿä¸€ä¸ªè§„åˆ™ï¼Œä¸€ç§å•†å“å¿…é¡»è‡³å°‘å‡ºçŽ°åœ¨$0.1\times 9835=983.5$æ¬¡äº¤æ˜“ä¸­ã€‚äº‹å…ˆæƒ³å¥½éœ€è¦çš„æœ€å°äº¤æ˜“æ•°é‡ï¼Œæ®æ­¤å¯ä»¥è®¡ç®—æ‰€éœ€è¦çš„æ”¯æŒåº¦ã€‚å¦‚æžœç½®ä¿¡åº¦å¤ªä½Žï¼Œå¯èƒ½ä¼šè¢«å¤§é‡ä¸å¯é çš„è§„åˆ™æ·¹æ²¡ï¼Œè€Œè¿‡é«˜å°†ä¼šè¢«æ˜¾è€Œæ˜“è§æˆ–è€…ä¸å¯é¿å…çš„è§„åˆ™æ‰€é™åˆ¶ã€‚<code>minlen=2</code>æœ‰åŠ©äºŽæ¶ˆé™¤åŒ…å«å°‘äºŽä¸¤ç±»å•†å“çš„è§„åˆ™ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="n">groceryrules</span> <span class="o">&lt;-</span> <span class="nf">apriori</span><span class="p">(</span><span class="n">groceries</span><span class="p">,</span> <span class="n">parameter</span> <span class="o">=</span> <span class="nf">list</span><span class="p">(</span><span class="n">support</span> <span class="o">=</span> <span class="m">0.006</span><span class="p">,</span> <span class="n">confidence</span> <span class="o">=</span> <span class="m">0.25</span><span class="p">,</span>
                                                    <span class="n">minlen</span> <span class="o">=</span> <span class="m">2</span><span class="p">))</span>
<span class="n">groceryrules</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-sos" data-lang="sos">Apriori

Parameter specification:
 confidence minval smax arem  aval originalSupport maxtime support minlen
       0.25    0.1    1 none FALSE            TRUE       5   0.006      2
 maxlen target  ext
     10  rules TRUE

Algorithmic control:
 filter tree heap memopt load sort verbose
    0.1 TRUE TRUE  FALSE TRUE    2    TRUE

Absolute minimum support count: 59 

set item appearances ...[0 item(s)] done [0.00s].
set transactions ...[169 item(s), 9835 transaction(s)] done [0.00s].
sorting and recoding items ... [109 item(s)] done [0.00s].
creating transaction tree ... done [0.00s].
checking subsets of size 1 2 3 4 done [0.00s].
writing ... [463 rule(s)] done [0.00s].
creating S4 object  ... done [0.00s].


set of 463 rules 
</code></pre><h3 id="æ€§èƒ½è¯„ä¼°-7">æ€§èƒ½è¯„ä¼°</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="nf">summary</span><span class="p">(</span><span class="n">groceryrules</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-sos" data-lang="sos">set of 463 rules

rule length distribution (lhs + rhs):sizes
  2   3   4 
150 297  16 

   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
  2.000   2.000   3.000   2.711   3.000   4.000 

summary of quality measures:
    support           confidence        coverage             lift       
 Min.   :0.006101   Min.   :0.2500   Min.   :0.009964   Min.   :0.9932  
 1st Qu.:0.007117   1st Qu.:0.2971   1st Qu.:0.018709   1st Qu.:1.6229  
 Median :0.008744   Median :0.3554   Median :0.024809   Median :1.9332  
 Mean   :0.011539   Mean   :0.3786   Mean   :0.032608   Mean   :2.0351  
 3rd Qu.:0.012303   3rd Qu.:0.4495   3rd Qu.:0.035892   3rd Qu.:2.3565  
 Max.   :0.074835   Max.   :0.6600   Max.   :0.255516   Max.   :3.9565  
     count      
 Min.   : 60.0  
 1st Qu.: 70.0  
 Median : 86.0  
 Mean   :113.5  
 3rd Qu.:121.0  
 Max.   :736.0  

mining info:
      data ntransactions support confidence
 groceries          9835   0.006       0.25
</code></pre><p>æœ‰150ä¸ªè§„åˆ™åªåŒ…å«ä¸¤ç±»å•†å“ï¼Œè€Œåˆ297ä¸ªè§„åˆ™åŒ…å«3ç±»å•†å“ï¼Œ16ä¸ªè§„åˆ™åŒ…å«4ç±»å•†å“ã€‚æå‡åº¦ç”¨æ¥åº¦é‡ä¸€ç±»å•†å“ç›¸å¯¹äºŽå®ƒçš„ä¸€èˆ¬è´­ä¹°çŽ‡ï¼Œæ­¤æ—¶è¢«è´­ä¹°çš„å¯èƒ½æ€§æœ‰å¤šå¤§ã€‚$$lift(X\rightarrow Y)=\frac{confidence(X\rightarrow Y)}{support(X)})$$ä¸€ä¸ªå¤§çš„æå‡å€¼æ˜¯ä¸€ä¸ªié‡è¦çš„æŒ‡æ ‡ï¼Œå®ƒè¡¨æ˜Žä¸€ä¸ªè§„åˆ™æ˜¯å¾ˆé‡è¦çš„ï¼Œå¹¶åæ˜ äº†å•†å“ä¹‹é—´çš„çœŸå®žè”ç³»ã€‚æŸ¥çœ‹å‰ä¸‰ä¸ªè§„åˆ™ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="nf">inspect</span><span class="p">(</span><span class="n">groceryrules[1</span><span class="o">:</span><span class="m">3</span><span class="n">]</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-sos" data-lang="sos">    lhs                rhs               support     confidence coverage  
[1] {potted plants} =&gt; {whole milk}      0.006914082 0.4000000  0.01728521
[2] {pasta}         =&gt; {whole milk}      0.006100661 0.4054054  0.01504830
[3] {herbs}         =&gt; {root vegetables} 0.007015760 0.4312500  0.01626843
    lift     count
[1] 1.565460 68   
[2] 1.586614 60   
[3] 3.956477 69   
</code></pre><p><code>lhs</code>å’Œ<code>rhs</code>è¡¨ç¤ºè§„åˆ™çš„å‰é¡¹å’ŒåŽé¡¹ã€‚ï¼ˆå¸‚åœºï¼‰è´­ç‰©ç¯®åˆ†æžçš„ç›®çš„å°±æ˜¯è¦æ‰¾åˆ°<strong>å¯è¡Œçš„</strong>(actionalble)è§„åˆ™æˆ–è€…èƒ½å¤Ÿæä¾›æ˜Žç¡®çš„æœ‰ç›Šå¯ç¤ºçš„è§„åˆ™ã€‚</p>
<h3 id="æ€§èƒ½æå‡-7">æ€§èƒ½æå‡</h3>
<p>å¯¹å…³è”è§„åˆ™é›†åˆæŽ’åºï¼Œæ ¹æ®æå‡åº¦èŽ·å–æœ€å¥½çš„5ä¸ªè§„åˆ™ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="nf">inspect</span><span class="p">(</span><span class="nf">sort</span><span class="p">(</span><span class="n">groceryrules</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s">&#39;lift&#39;</span><span class="p">)</span><span class="n">[1</span><span class="o">:</span><span class="m">5</span><span class="n">]</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-sos" data-lang="sos">    lhs                   rhs                      support confidence   coverage     lift count
[1] {herbs}            =&gt; {root vegetables}    0.007015760  0.4312500 0.01626843 3.956477    69
[2] {berries}          =&gt; {whipped/sour cream} 0.009049314  0.2721713 0.03324860 3.796886    89
[3] {other vegetables,                                                                         
     tropical fruit,                                                                           
     whole milk}       =&gt; {root vegetables}    0.007015760  0.4107143 0.01708185 3.768074    69
[4] {beef,                                                                                     
     other vegetables} =&gt; {root vegetables}    0.007930859  0.4020619 0.01972547 3.688692    78
[5] {other vegetables,                                                                         
     tropical fruit}   =&gt; {pip fruit}          0.009456024  0.2634561 0.03589222 3.482649    93
</code></pre><p>æå–å…³è”è§„åˆ™çš„å­é›†ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="n">berryrules</span> <span class="o">&lt;-</span> <span class="nf">subset</span><span class="p">(</span><span class="n">groceryrules</span><span class="p">,</span> <span class="n">items</span> <span class="o">%in%</span> <span class="s">&#39;berries&#39;</span><span class="p">)</span>
<span class="nf">inspect</span><span class="p">(</span><span class="n">berryrules</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-sos" data-lang="sos">    lhs          rhs                  support     confidence coverage  lift    
[1] {berries} =&gt; {whipped/sour cream} 0.009049314 0.2721713  0.0332486 3.796886
[2] {berries} =&gt; {yogurt}             0.010574479 0.3180428  0.0332486 2.279848
[3] {berries} =&gt; {other vegetables}   0.010269446 0.3088685  0.0332486 1.596280
[4] {berries} =&gt; {whole milk}         0.011794611 0.3547401  0.0332486 1.388328
    count
[1]  89  
[2] 104  
[3] 101  
[4] 116  
</code></pre><p>å°†å…³è”è§„åˆ™ä¿å­˜åˆ°æ–‡ä»¶æˆ–è€…æ•°æ®æ¡†ä¸­ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="nf">write</span><span class="p">(</span><span class="n">groceryrules</span><span class="p">,</span> <span class="n">file</span> <span class="o">=</span> <span class="s">&#39;./groceryrules.csv&#39;</span><span class="p">,</span> <span class="n">sep</span> <span class="o">=</span> <span class="s">&#39;,&#39;</span><span class="p">,</span>
         <span class="n">quote</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">,</span> <span class="n">row.name</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">)</span>
<span class="c1"># è½¬æ¢ä¸ºæ•°æ®æ¡†</span>
<span class="n">groceryrules_df</span> <span class="o">&lt;-</span> <span class="nf">as</span><span class="p">(</span><span class="n">groceryrules</span><span class="p">,</span> <span class="s">&#34;data.frame&#34;</span><span class="p">)</span>
<span class="nf">str</span><span class="p">(</span><span class="n">groceryrules_df</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-sos" data-lang="sos">'data.frame':	463 obs. of  6 variables:
 $ rules     : chr  &quot;{potted plants} =&gt; {whole milk}&quot; &quot;{pasta} =&gt; {whole milk}&quot; &quot;{herbs} =&gt; {root vegetables}&quot; &quot;{herbs} =&gt; {other vegetables}&quot; ...
 $ support   : num  0.00691 0.0061 0.00702 0.00773 0.00773 ...
 $ confidence: num  0.4 0.405 0.431 0.475 0.475 ...
 $ coverage  : num  0.0173 0.015 0.0163 0.0163 0.0163 ...
 $ lift      : num  1.57 1.59 3.96 2.45 1.86 ...
 $ count     : int  68 60 69 76 76 69 70 67 63 88 ...
</code></pre><h2 id="k-meansèšç±»æŽ¢å¯»é’å°‘å¹´å¸‚åœºç»†åˆ†">K-Meansèšç±»æŽ¢å¯»é’å°‘å¹´å¸‚åœºç»†åˆ†</h2>
<p>å¦‚æžœä¸€å¼€å§‹ä»Žæ— æ ‡ç­¾çš„æ•°æ®å…¥æ‰‹ï¼Œå¯ä»¥ä½¿ç”¨èšç±»æ¥åˆ›å»ºåˆ†ç±»æ ‡ç­¾ã€‚ç„¶åŽå¯ä»¥ç”¨ä¸€ä¸ªæœ‰ç›‘ç£çš„å­¦ä¹ ç®—æ³•æ¥å¯»æ‰¾è¿™äº›ç±»ä¸­æœ€é‡è¦çš„é¢„æµ‹æŒ‡æ ‡ï¼Œè¿™ç§°ä¸º<strong>åŠç›‘ç£å­¦ä¹ </strong>(semi-supervised learning)ã€‚</p>
<p>ä½¿ç”¨è·ç¦»è®¡ç®—ï¼Œæ‰€æœ‰çš„æ•°æ®å¿…é¡»éƒ½æ˜¯æ•°å€¼åž‹çš„ï¼Œè€Œä¸”æ‰€æœ‰çš„å€¼éƒ½éœ€è¦æå‰æ ‡å‡†åŒ–åˆ°ä¸€ä¸ªæ ‡å‡†èŒƒå›´å†…ã€‚</p>
<ul>
<li>Kå‡å€¼ç®—æ³•å¯¹éšæœºé€‰æ‹©çš„èšç±»ä¸­å¿ƒå¾ˆæ•æ„Ÿ</li>
<li>è®¾å®šéžå¸¸å¤§çš„Kï¼Œæå‡åŒè´¨æ€§çš„åŒæ—¶ä¹Ÿå¢žåŠ äº†è¿‡æ‹Ÿåˆçš„é£Žé™©ã€‚</li>
</ul>
<p>éšç€é¢å¤–çš„ç±»çš„åŠ å…¥ï¼Œç±»å†…éƒ¨çš„åŒè´¨æ€§åº”è¯¥æ˜¯æœŸæœ›ä¸Šå‡çš„ï¼Œå¼‚è´¨æ€§ä¹Ÿéšç€è¶Šæ¥è¶Šå¤šçš„ç±»è€ŒæŒç»­å‡å°ã€‚<strong>è‚˜éƒ¨æ³•</strong>(elbow method)è¯•å›¾åº¦é‡å¯¹äºŽä¸åŒçš„Kå€¼ï¼Œæ‰¾åˆ°ä¸€ä¸ªKï¼Œä½¿å¾—é«˜äºŽè¯¥å€¼ä¹‹åŽçš„æ”¶ç›Šä¼šå‘ç”Ÿé€’å‡ï¼Œè¿™ä¸ªKå€¼ç§°ä¸º<strong>è‚˜éƒ¨ç‚¹</strong>(elbow point)ã€‚</p>
<p>é‰´äºŽé’å°‘å¹´<strong>ç¤¾äº¤ç½‘ç»œæœåŠ¡</strong>(Social Networking Service, SNS)é¡µé¢çš„æ–‡å­—ï¼Œå¯ä»¥é€šè¿‡èšç±»ç¡®å®šæœ‰ç€ç›¸åŒå…´è¶£çš„å›¢ä½“ã€‚30000åç¾Žå›½é«˜ä¸­ç”Ÿç¤¾äº¤ç½‘ç»œéšæœºæ¡ˆä¾‹æ•°æ®å‡åŒ€é‡‡æ ·äºŽ4ä¸ªé«˜ä¸­æ¯•ä¸šå¹´ä»½(2006-2009)ï¼Œæ¯ä¸ªé’å°‘å¹´çš„æ€§åˆ«(gender)å¹´é¾„(age)ä»¥åŠç¤¾äº¤ç½‘ç»œæœåŠ¡ä¸Šçš„äº¤å‹æ•°(number of SNS friends)éƒ½ä¼šè¢«è®°å½•ã€‚æ–‡æœ¬æŒ–ç¼ºå·¥å…·å¯ç”¨æ¥å°†å‰©ä½™çš„ç¤¾äº¤ç½‘ç»œæœåŠ¡é¡µé¢å†…å®¹åˆ’åˆ†æˆå•è¯ã€‚ä»Žå‡ºçŽ°çš„æ‰€æœ‰é¡µé¢çš„å‰500ä¸ªå•è¯ä¸­ï¼Œ36ä¸ªå•è¯è¢«é€‰æ¥ä»£è¡¨5å¤§å…´è¶£ç±»ï¼Œå³è¯¾å¤–æ´»åŠ¨(extracurricular activity)æ—¶å°š(fashion)ã€å®—æ•™(religion)ã€æµªæ¼«(romance)å’Œåç¤¾ä¼šè¡Œä¸º(antisocial behavior)è¿™36ä¸ªå•è¯åŒ…æ‹¬è¶³çƒ(football)ã€æ€§æ„Ÿ(sexy)ã€äº²å»(kissed)ã€åœ£ç»(bible)ã€è´­ç‰©(shopping)ã€æ­»äº¡(death)å’Œè¯ç‰©(drugs)ç­‰å•è¯ã€‚å¯¹æ¯ä¸ªäººæ¥è¯´ï¼Œæœ€ç»ˆçš„æ•°æ®é›†è¡¨ç¤ºæ¯ä¸ªå•è¯å‡ºçŽ°åœ¨ä¸ªäººç¤¾äº¤ç½‘ç»œæœåŠ¡æ–‡ä»¶ä¸­çš„æ¬¡æ•°ã€‚</p>
<h3 id="æ•°æ®å¤„ç†-8">æ•°æ®å¤„ç†</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="n">teens</span> <span class="o">&lt;-</span> <span class="nf">read.csv</span><span class="p">(</span><span class="s">&#34;../data/Chapter 09/snsdata.csv&#34;</span><span class="p">)</span>
<span class="nf">str</span><span class="p">(</span><span class="n">teens</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-sos" data-lang="sos">  'data.frame':	30000 obs. of  40 variables:
   $ gradyear    : int  2006 2006 2006 2006 2006 2006 2006 2006 2006 2006 ...
   $ gender      : chr  &quot;M&quot; &quot;F&quot; &quot;M&quot; &quot;F&quot; ...
   $ age         : num  19 18.8 18.3 18.9 19 ...
   $ friends     : int  7 0 69 0 10 142 72 17 52 39 ...
   $ basketball  : int  0 0 0 0 0 0 0 0 0 0 ...
   $ football    : int  0 1 1 0 0 0 0 0 0 0 ...
   $ soccer      : int  0 0 0 0 0 0 0 0 0 0 ...
   $ softball    : int  0 0 0 0 0 0 0 1 0 0 ...
   $ volleyball  : int  0 0 0 0 0 0 0 0 0 0 ...
   $ swimming    : int  0 0 0 0 0 0 0 0 0 0 ...
   $ cheerleading: int  0 0 0 0 0 0 0 0 0 0 ...
   $ baseball    : int  0 0 0 0 0 0 0 0 0 0 ...
   $ tennis      : int  0 0 0 0 0 0 0 0 0 0 ...
   $ sports      : int  0 0 0 0 0 0 0 0 0 0 ...
   $ cute        : int  0 1 0 1 0 0 0 0 0 1 ...
   $ sex         : int  0 0 0 0 1 1 0 2 0 0 ...
   $ sexy        : int  0 0 0 0 0 0 0 1 0 0 ...
   $ hot         : int  0 0 0 0 0 0 0 0 0 1 ...
   $ kissed      : int  0 0 0 0 5 0 0 0 0 0 ...
   $ dance       : int  1 0 0 0 1 0 0 0 0 0 ...
   $ band        : int  0 0 2 0 1 0 1 0 0 0 ...
   $ marching    : int  0 0 0 0 0 1 1 0 0 0 ...
   $ music       : int  0 2 1 0 3 2 0 1 0 1 ...
   $ rock        : int  0 2 0 1 0 0 0 1 0 1 ...
   $ god         : int  0 1 0 0 1 0 0 0 0 6 ...
   $ church      : int  0 0 0 0 0 0 0 0 0 0 ...
   $ jesus       : int  0 0 0 0 0 0 0 0 0 2 ...
   $ bible       : int  0 0 0 0 0 0 0 0 0 0 ...
   $ hair        : int  0 6 0 0 1 0 0 0 0 1 ...
   $ dress       : int  0 4 0 0 0 1 0 0 0 0 ...
   $ blonde      : int  0 0 0 0 0 0 0 0 0 0 ...
   $ mall        : int  0 1 0 0 0 0 2 0 0 0 ...
   $ shopping    : int  0 0 0 0 2 1 0 0 0 1 ...
   $ clothes     : int  0 0 0 0 0 0 0 0 0 0 ...
   $ hollister   : int  0 0 0 0 0 0 2 0 0 0 ...
   $ abercrombie : int  0 0 0 0 0 0 0 0 0 0 ...
   $ die         : int  0 0 0 0 0 0 0 0 0 0 ...
   $ death       : int  0 0 1 0 0 0 0 0 0 0 ...
   $ drunk       : int  0 0 0 0 1 1 0 0 0 0 ...
   $ drugs       : int  0 0 0 0 1 0 0 0 0 0 ...
</code></pre><p>å¤„ç†ageä¸­çš„å¼‚å¸¸å€¼ã€‚å¦‚æžœå¹´é¾„(age)å¤§äºŽç­‰äºŽ13å²ä¸”å°äºŽ20å²ï¼Œå°±å°†teens\$ageå€¼èµ‹ç»™teens\$ageï¼Œå¦åˆ™ï¼Œå€¼ä¸ºNAã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="c1"># genderå’Œageä¸­æœ‰ç¼ºå¤±å€¼</span>
<span class="nf">table</span><span class="p">(</span><span class="n">teens</span><span class="o">$</span><span class="n">gender</span><span class="p">,</span> <span class="n">useNA</span> <span class="o">=</span> <span class="s">&#34;ifany&#34;</span><span class="p">)</span>
<span class="nf">summary</span><span class="p">(</span><span class="n">teens</span><span class="o">$</span><span class="n">age</span><span class="p">)</span>

<span class="n">teens</span><span class="o">$</span><span class="n">age</span> <span class="o">&lt;-</span> <span class="nf">ifelse</span><span class="p">(</span><span class="n">teens</span><span class="o">$</span><span class="n">age</span> <span class="o">&gt;=</span><span class="m">13</span> <span class="o">&amp;</span> <span class="n">teens</span><span class="o">$</span><span class="n">age</span> <span class="o">&lt;</span><span class="m">20</span><span class="p">,</span> <span class="n">teens</span><span class="o">$</span><span class="n">age</span><span class="p">,</span> <span class="kc">NA</span><span class="p">)</span>
<span class="nf">summary</span><span class="p">(</span><span class="n">teens</span><span class="o">$</span><span class="n">age</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-sos" data-lang="sos">    F     M  &lt;NA&gt; 
22054  5222  2724 

 Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
3.086  16.312  17.287  17.994  18.259 106.927    5086 

 Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
13.03   16.30   17.27   17.25   18.22   20.00    5523 
</code></pre><h5 id="ç¼ºå¤±å€¼çš„è™šæ‹Ÿç¼–ç ">ç¼ºå¤±å€¼çš„è™šæ‹Ÿç¼–ç </h5>
<p>å¯¹äºŽåˆ†ç±»æ•°æ®åƒæ€§åˆ«(gender)ï¼Œä¸€ç§è§£å†³æ–¹æ³•å°±æ˜¯å°†ç¼ºå¤±å€¼ä½œä¸ºä¸€ä¸ªå•ç‹¬çš„ç±»åˆ«ã€‚è™šæ‹Ÿç¼–ç æ¶‰åŠä¸ºåä¹‰ç‰¹å¾ä¸­çš„æ¯ä¸ªæ°´å¹³å€¼å•ç‹¬åˆ›å»ºä¸€ä¸ªå–å€¼ä¸º1æˆ–è€…ä¸º0çš„äºŒå…ƒè™šæ‹Ÿå˜é‡ã€‚æœ‰ä¸€ä¸ªç±»æ°´å¹³å€¼è¢«æŽ’é™¤åœ¨å¤–ï¼Œå› ä¸ºå®ƒå¯ä»¥é€šè¿‡å…¶ä»–ç±»çš„æ°´å¹³å€¼æ¥è¿›è¡ŒæŽ¨æ–­ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="n">teens</span><span class="o">$</span><span class="n">female</span> <span class="o">&lt;-</span> <span class="nf">ifelse</span><span class="p">(</span><span class="n">teens</span><span class="o">$</span><span class="n">gender</span> <span class="o">==</span> <span class="s">&#34;F&#34;</span> <span class="o">&amp;</span> <span class="o">!</span><span class="nf">is.na</span><span class="p">(</span><span class="n">teens</span><span class="o">$</span><span class="n">gender</span><span class="p">),</span> <span class="m">1</span><span class="p">,</span> <span class="m">0</span><span class="p">)</span>
<span class="n">teens</span><span class="o">$</span><span class="n">no_gender</span> <span class="o">&lt;-</span> <span class="nf">ifelse</span><span class="p">(</span><span class="nf">is.na</span><span class="p">(</span><span class="n">teens</span><span class="o">$</span><span class="n">gender</span><span class="p">),</span> <span class="m">1</span><span class="p">,</span> <span class="m">0</span><span class="p">)</span>

<span class="nf">table</span><span class="p">(</span><span class="n">teens</span><span class="o">$</span><span class="n">gender</span><span class="p">,</span> <span class="n">useNA</span> <span class="o">=</span> <span class="s">&#34;ifany&#34;</span><span class="p">)</span>
<span class="nf">table</span><span class="p">(</span><span class="n">teens</span><span class="o">$</span><span class="n">female</span><span class="p">,</span> <span class="n">useNA</span> <span class="o">=</span> <span class="s">&#34;ifany&#34;</span><span class="p">)</span>
<span class="nf">table</span><span class="p">(</span><span class="n">teens</span><span class="o">$</span><span class="n">no_gender</span><span class="p">,</span> <span class="n">useNA</span> <span class="o">=</span> <span class="s">&#34;ifany&#34;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-sos" data-lang="sos">    F     M  &lt;NA&gt; 
22054  5222  2724 

    0     1 
 7946 22054 

    0     1 
27276  2724 
</code></pre><ul>
<li>æ’è¡¥(inputation)ç¼ºå¤±å€¼</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="nf">mean</span><span class="p">(</span><span class="n">teens</span><span class="o">$</span><span class="n">age</span><span class="p">,</span> <span class="n">na.rm</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-sos" data-lang="sos">
17.2524289332843
</code></pre><p>æ•°æ®ä¸­ï¼Œå­¦ç”Ÿçš„å¹³å‡å¹´é¾„å¤§çº¦ä¸º17å²ã€‚è¿™é‡Œæˆ‘ä»¬åªæ˜¯è¾¾åˆ°äº†éƒ¨åˆ†ç›®çš„ï¼Œæˆ‘ä»¬çœŸæ­£éœ€è¦çš„æ˜¯æ¯ä¸€ä¸ªæ¯•ä¸šå¹´ä»½çš„å¹´é¾„å¹³å‡å€¼ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="c1"># It computes statistics for subgroups of data.</span>
<span class="nf">aggregate</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span><span class="n">teens</span><span class="p">,</span> <span class="n">age</span> <span class="o">~</span> <span class="n">gradyear</span><span class="p">,</span> <span class="n">mean</span><span class="p">,</span> <span class="n">na.rm</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><table class="dataframe">
<caption>A data.frame: 4 Ã— 2</caption>
<thead>
	<tr><th scope=col>gradyear</th><th scope=col>age</th></tr>
	<tr><th scope=col>&lt;int&gt;</th><th scope=col>&lt;dbl&gt;</th></tr>
</thead>
<tbody>
	<tr><td>2006</td><td>18.65586</td></tr>
	<tr><td>2007</td><td>17.70617</td></tr>
	<tr><td>2008</td><td>16.76770</td></tr>
	<tr><td>2009</td><td>15.81957</td></tr>
</tbody>
</table>
<p><code>aggregate()</code>çš„è¾“å‡ºåœ¨ä¸€ä¸ªæ•°æ®æ¡†ä¸­ï¼Œä½†æ˜¯è¿˜éœ€è¦é¢å¤–çš„å·¥ä½œæ¥æŠŠå®ƒåˆå¹¶åˆ°æˆ‘ä»¬çš„åŽŸå§‹æ•°æ®ä¸­ã€‚<br />
å¯ä»¥ä½¿ç”¨<code>ave()</code>å‡½æ•°ï¼Œè¯¥å‡½æ•°è¿”å›žä¸€ä¸ªå…·æœ‰é‡å¤çš„ç»„å‡å€¼çš„å‘é‡ï¼Œä½¿å¾—ç»“æžœåœ¨é•¿åº¦ä¸Šç­‰äºŽåŽŸå§‹å‘é‡çš„é•¿åº¦ï¼š</p>
<pre><code class="language-sos" data-lang="sos">ave_age &lt;- ave(teens$age, teens$gradyear, FUN = function(x) mean(x, na.rm = TRUE))
table(ave_age)
table(teens$gradyear)

# æ’å€¼
teens$age &lt;- ifelse(is.na(teens$age), ave_age, teens$age)
summary(teens$age)
</code></pre><pre><code>ave_age
15.8195733445096 16.7677007371007 17.7061723749799 18.6558579508727 
            7500             7500             7500             7500 




2006 2007 2008 2009 
7500 7500 7500 7500 



   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
  13.03   16.28   17.24   17.24   18.21   20.00 
</code></pre>
<h3 id="æ¨¡åž‹è®­ç»ƒ-8">æ¨¡åž‹è®­ç»ƒ</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="n">interests</span> <span class="o">&lt;-</span> <span class="n">teens[5</span><span class="o">:</span><span class="m">40</span><span class="n">]</span>
<span class="n">interests_z</span> <span class="o">&lt;-</span> <span class="nf">as.data.frame</span><span class="p">(</span><span class="nf">lapply</span><span class="p">(</span><span class="n">interests</span><span class="p">,</span> <span class="n">scale</span><span class="p">))</span>  <span class="c1"># lapply()è¿”å›žä¸€ä¸ªçŸ©é˜µ</span>
<span class="nf">set.seed</span><span class="p">(</span><span class="m">2345</span><span class="p">)</span>
<span class="n">teen_clusters</span> <span class="o">&lt;-</span> <span class="nf">kmeans</span><span class="p">(</span><span class="n">interests_z</span><span class="p">,</span> <span class="m">5</span><span class="p">)</span> 
</code></pre></td></tr></table>
</div>
</div><h3 id="æ€§èƒ½è¯„ä¼°-8">æ€§èƒ½è¯„ä¼°</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="c1"># æˆ–åˆ™kemeans()èšç±»çš„å¤§å°</span>
<span class="n">teen_clusters</span><span class="o">$</span><span class="n">size</span>
<span class="c1"># æŸ¥çœ‹èšç±»è´¨å¿ƒçš„åæ ‡</span>
<span class="n">teen_clusters</span><span class="o">$</span><span class="n">centers</span>
</code></pre></td></tr></table>
</div>
</div><pre><code class="language-sos" data-lang="sos">1038 601 4066  2696  21599
</code></pre><table class="dataframe">
<caption>A matrix: 5 Ã— 36 of type dbl</caption>
<thead>
	<tr><th></th><th scope=col>basketball</th><th scope=col>football</th><th scope=col>soccer</th><th scope=col>softball</th><th scope=col>volleyball</th><th scope=col>swimming</th><th scope=col>cheerleading</th><th scope=col>baseball</th><th scope=col>tennis</th><th scope=col>sports</th><th scope=col>â‹¯</th><th scope=col>blonde</th><th scope=col>mall</th><th scope=col>shopping</th><th scope=col>clothes</th><th scope=col>hollister</th><th scope=col>abercrombie</th><th scope=col>die</th><th scope=col>death</th><th scope=col>drunk</th><th scope=col>drugs</th></tr>
</thead>
<tbody>
	<tr><th scope=row>1</th><td> 0.362160730</td><td> 0.37985213</td><td> 0.13734997</td><td> 0.1272107</td><td> 0.09247518</td><td> 0.26180286</td><td> 0.2159945</td><td> 0.25312305</td><td> 0.11991682</td><td> 0.77040675</td><td>â‹¯</td><td> 0.36322464</td><td> 0.622896285</td><td> 0.27607550</td><td> 1.245121599</td><td> 0.31525537</td><td> 0.4131560</td><td> 1.712160983</td><td> 0.94713629</td><td> 1.83371069</td><td> 2.73878856</td></tr>
	<tr><th scope=row>2</th><td>-0.094426312</td><td> 0.06691768</td><td>-0.09956009</td><td>-0.0379725</td><td>-0.07286202</td><td> 0.04578401</td><td>-0.1070370</td><td>-0.11182941</td><td> 0.04027335</td><td>-0.10638613</td><td>â‹¯</td><td>-0.01238629</td><td>-0.087713363</td><td>-0.03710273</td><td>-0.004395251</td><td>-0.16788599</td><td>-0.1413652</td><td> 0.008941101</td><td> 0.05464759</td><td>-0.08699556</td><td>-0.06414588</td></tr>
	<tr><th scope=row>3</th><td> 0.003980104</td><td> 0.09524062</td><td> 0.05342109</td><td>-0.0496864</td><td>-0.01459648</td><td> 0.32944934</td><td> 0.5142451</td><td>-0.04933628</td><td> 0.06703386</td><td>-0.05435093</td><td>â‹¯</td><td> 0.03301526</td><td> 0.808620531</td><td> 1.07073115</td><td> 0.616207360</td><td> 0.85951603</td><td> 0.7935060</td><td> 0.062399295</td><td> 0.12642222</td><td> 0.03594162</td><td>-0.05888141</td></tr>
	<tr><th scope=row>4</th><td> 1.372334818</td><td> 1.19570343</td><td> 0.55621097</td><td> 1.1304527</td><td> 1.07177211</td><td> 0.08513210</td><td> 0.0400367</td><td> 1.09279737</td><td> 0.13887184</td><td> 1.08316097</td><td>â‹¯</td><td> 0.03690938</td><td>-0.004723697</td><td> 0.03497875</td><td> 0.016201064</td><td>-0.08381546</td><td>-0.0861708</td><td>-0.067312427</td><td>-0.01611162</td><td>-0.06891763</td><td>-0.08795059</td></tr>
	<tr><th scope=row>5</th><td>-0.186822093</td><td>-0.18729427</td><td>-0.08331351</td><td>-0.1368072</td><td>-0.13344819</td><td>-0.08650052</td><td>-0.1092056</td><td>-0.13616893</td><td>-0.03683671</td><td>-0.15903307</td><td>â‹¯</td><td>-0.02793327</td><td>-0.179127117</td><td>-0.21816580</td><td>-0.177738408</td><td>-0.16182051</td><td>-0.1545430</td><td>-0.085876102</td><td>-0.06882571</td><td>-0.08386703</td><td>-0.10777278</td></tr>
</tbody>
</table>
<p>è¾“å‡ºçš„è¡Œï¼ˆç¼–å·1~5ï¼‰æŒ‡çš„æ˜¯ç±»ï¼Œè€Œè¾“å‡ºä¸­çš„æ•°å€¼è¡¨ç¤ºä½äºŽè¯¥åˆ—é¡¶éƒ¨çš„å…´è¶£å˜é‡çš„å¹³å‡å€¼ç”±äºŽæ‰€æœ‰çš„å€¼å·²ç»è¿›è¡Œäº†z-scoreæ ‡å‡†åŒ–ï¼Œæ‰€ä»¥è´Ÿå€¼è¡¨ç¤ºä½ŽäºŽæ‰€æœ‰å­¦ç”Ÿçš„æ€»ä½“å‡å€¼ï¼Œè€Œæ­£å€¼è¡¨ç¤ºé«˜äºŽæ‰€æœ‰å­¦ç”Ÿçš„æ€»ä½“å‡å€¼ã€‚ä¾‹å¦‚ï¼Œç¬¬ä¸‰è¡Œåœ¨ç¯®çƒåˆ—ä¸­å€¼æœ€é«˜ï¼Œè¿™ç±»4åœ¨æ‰€æœ‰ç±»ä¸­å¯¹ç¯®çƒçš„å¹³å‡å…´è¶£æœ€é«˜ã€‚Given this subset of the interest data, we can already infer some characteristics of the clusters. <strong>Cluster 3</strong> is substantially above the mean interest level on all the sports.</p>
<h3 id="æ€§èƒ½æå‡-8">æ€§èƒ½æå‡</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="n">teens</span><span class="o">$</span><span class="n">cluster</span> <span class="o">&lt;-</span> <span class="n">teen_clusters</span><span class="o">$</span><span class="n">cluster</span>  <span class="c1"># èšç±»ç»“æžœæ·»åŠ åˆ°åŽŸæ•°æ®é›†</span>
<span class="n">teens[1</span><span class="o">:</span><span class="m">5</span><span class="p">,</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#34;cluster&#34;</span><span class="p">,</span> <span class="s">&#34;gender&#34;</span><span class="p">,</span> <span class="s">&#34;age&#34;</span><span class="p">,</span> <span class="s">&#34;friends&#34;</span><span class="p">)</span><span class="n">]</span>
</code></pre></td></tr></table>
</div>
</div><table class="dataframe">
<caption>A data.frame: 5 Ã— 4</caption>
<thead>
	<tr><th></th><th scope=col>cluster</th><th scope=col>gender</th><th scope=col>age</th><th scope=col>friends</th></tr>
	<tr><th></th><th scope=col>&lt;int&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;int&gt;</th></tr>
</thead>
<tbody>
	<tr><th scope=row>1</th><td>5</td><td>M </td><td>18.982</td><td> 7</td></tr>
	<tr><th scope=row>2</th><td>3</td><td>F </td><td>18.801</td><td> 0</td></tr>
	<tr><th scope=row>3</th><td>5</td><td>M </td><td>18.335</td><td>69</td></tr>
	<tr><th scope=row>4</th><td>5</td><td>F </td><td>18.875</td><td> 0</td></tr>
	<tr><th scope=row>5</th><td>1</td><td>NA</td><td>18.995</td><td>10</td></tr>
</tbody>
</table>
<p>ä¸åŒç±»çš„å¹´é¾„æ²¡æœ‰å·®å¼‚ï¼ŒåŽŸå› å¯èƒ½æ˜¯èº«ä»½åœ¨é«˜ä¸­ä¹‹å‰å°±å·²ç»ç¡®å®šäº†ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="nf">aggregate</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">teens</span><span class="p">,</span> <span class="n">age</span> <span class="o">~</span> <span class="n">cluster</span><span class="p">,</span> <span class="n">mean</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><table class="dataframe">
<caption>A data.frame: 5 Ã— 2</caption>
<thead>
	<tr><th scope=col>cluster</th><th scope=col>age</th></tr>
	<tr><th scope=col>&lt;int&gt;</th><th scope=col>&lt;dbl&gt;</th></tr>
</thead>
<tbody>
	<tr><td>1</td><td>17.09319</td></tr>
	<tr><td>2</td><td>17.38488</td></tr>
	<tr><td>3</td><td>17.03773</td></tr>
	<tr><td>4</td><td>17.03759</td></tr>
	<tr><td>5</td><td>17.30265</td></tr>
</tbody>
</table>
<p>ä½†æ˜¯æŒ‰ç±»åˆ’åˆ†ï¼Œå¥³æ€§çš„æ¯”ä¾‹æœ‰ä¸€äº›å®žè´¨æ€§çš„å·®å¼‚ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="nf">aggregate</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">teens</span><span class="p">,</span> <span class="n">female</span> <span class="o">~</span> <span class="n">cluster</span><span class="p">,</span> <span class="n">mean</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><table class="dataframe">
<caption>A data.frame: 5 Ã— 2</caption>
<thead>
	<tr><th scope=col>cluster</th><th scope=col>female</th></tr>
	<tr><th scope=col>&lt;int&gt;</th><th scope=col>&lt;dbl&gt;</th></tr>
</thead>
<tbody>
	<tr><td>1</td><td>0.8025048</td></tr>
	<tr><td>2</td><td>0.7237937</td></tr>
	<tr><td>3</td><td>0.8866208</td></tr>
	<tr><td>4</td><td>0.6984421</td></tr>
	<tr><td>5</td><td>0.7082735</td></tr>
</tbody>
</table>
<p>ä¸åŒç±»çš„æœ‹å‹æ•°é‡ä¹Ÿæœ‰æ˜¾è‘—å·®å¼‚ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-R" data-lang="R"><span class="nf">aggregate</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">teens</span><span class="p">,</span> <span class="n">friends</span> <span class="o">~</span> <span class="n">cluster</span><span class="p">,</span> <span class="n">mean</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><table class="dataframe">
<caption>A data.frame: 5 Ã— 2</caption>
<thead>
	<tr><th scope=col>cluster</th><th scope=col>friends</th></tr>
	<tr><th scope=col>&lt;int&gt;</th><th scope=col>&lt;dbl&gt;</th></tr>
</thead>
<tbody>
	<tr><td>1</td><td>30.66570</td></tr>
	<tr><td>2</td><td>32.79368</td></tr>
	<tr><td>3</td><td>38.54575</td></tr>
	<tr><td>4</td><td>35.91728</td></tr>
	<tr><td>5</td><td>27.79221</td></tr>
</tbody>
</table>

    </article>
    
    
<script defer src="/js/clipboard.min.1626706afc88d95ebe1173b553ec732c6dc82a576989315fdf5e7779af738a44.js"></script>

<script defer src="/js/helper/prev.min.js"></script>

<script defer src="/js/helper/prop.min.js"></script>
<script>
  'use strict';
  document.addEventListener('DOMContentLoaded', function () {
    
    var clipInit = false;
    var preChromaElem = document.querySelectorAll('pre.chroma');
    var langCodeElem = document.querySelectorAll('.language-code');
    var dollarCodeElem = document.querySelectorAll('div.language-\\$');
    var gtCodeElem = document.querySelectorAll('div.language-\\>');

    var makeClipboard = function(elem) {
      var code = elem,
          text = elem.textContent;
        
      if (text.length > 15) {
        if (!clipInit) {
          var text, clip = new ClipboardJS('.copy-to-clipboard', {
            text: function (trigger) {
              var codeElem = prev(trigger).querySelectorAll('code');
              if (codeElem.length > 1) {
                text = prev(trigger).querySelector('code[class^="language-"]').textContent;
              } else {
                text = prev(trigger).querySelector('code').textContent;
              }

              return text.replace(/^\$\s/gm, '');
            }
          });

          var inPre;
          clip.on('success', function (e) {
            e.clearSelection();
            inPre = prop(e.trigger.parentNode, 'tagName') == 'PRE';
            e.trigger.setAttribute('aria-label', 'Copied to clipboard!');
            e.trigger.classList.add('tooltipped');
            e.trigger.classList.add('tooltipped-w');
          });

          clip.on('error', function (e) {
            inPre = prop(e.trigger.parentNode, 'tagName') == 'PRE';
            e.trigger.setAttribute('aria-label', e.action.toString());
            e.trigger.classList.add('tooltipped');
            e.trigger.classList.add('tooltipped-w');
          });

          clipInit = true;
        }

        var notAllowedClass = ['language-mermaid', 'language-viz', 'language-wave', 'language-chart', 'language-msc', 'language-flowchart'];
        var isNotAllowedIncluded = false;
        var curClassName = code.getAttribute('class');

        for (var i = 0; i < notAllowedClass.length; i++) {
          if (curClassName && curClassName.startsWith(notAllowedClass[i])) {
            isNotAllowedIncluded = true;
            break;
          }
        }

        if (!isNotAllowedIncluded) {
          if (curClassName) {
            var newClipboardElem = document.createElement('span');
            newClipboardElem.setAttribute('class', 'copy-to-clipboard');
            newClipboardElem.setAttribute('title', 'Copy to clipboard');
            elem.parentNode.parentNode.insertBefore(newClipboardElem, elem.parentNode.nextElementSibling);
          }
        }
      }
    }

    var makeSymbolClipboard = function(elem) {
      var clipboardSpan = document.createElement('span');
      clipboardSpan.setAttribute('class', 'copy-to-clipboard');
      clipboardSpan.setAttribute('title', 'Copy to clipboard');
      elem.parentNode.parentNode.insertBefore(clipboardSpan, elem.parentNode.nextElementSibling);
    }

    preChromaElem ? 
    preChromaElem.forEach(function(elem) {
      elem.querySelectorAll('code').forEach(function(codeElem) {
        makeClipboard(codeElem);
      });
    }) : null;
    
    langCodeElem ? 
    langCodeElem.forEach(function(elem) {
      elem.querySelectorAll('code').forEach(function (codeElem) {
        makeClipboard(codeElem);
      });
    }) : null;

    dollarCodeElem ? 
    dollarCodeElem.forEach(function(elem) {
      elem.querySelectorAll('code').forEach(function (codeElem) {
        makeSymbolClipboard(codeElem);
      });
    }) : null;

    gtCodeElem ?
    gtCodeElem.forEach(function(elem) {
      elem.querySelectorAll('code').forEach(function (codeElem) {
        makeSymbolClipboard(codeElem);
      });
    }) : null;
    
  });
</script>
    <script>
  'use strict';
  
  function wrap(el, wrapper) {
    el.parentNode.insertBefore(wrapper, el);
    wrapper.appendChild(el);
  }

  (function () {
    var singleContentsElem = document.querySelector('.single__contents');
    singleContentsElem ? 
    singleContentsElem.querySelectorAll('pre > code').forEach(function(elem) {
      var dataLang = elem.getAttribute('data-lang');
      var dataLangWrapper = document.createElement('div');
      var code = null;
      var codeTitle = null;

      if (dataLang && dataLang.includes(':')) {
        code = dataLang.split(':')[0];
        codeTitle = dataLang.split(':')[1];

        dataLangWrapper.className = 'language-' + code;
        dataLangWrapper.setAttribute('data-lang', codeTitle);

        elem.className = 'language-' + code;
        elem.setAttribute('data-lang', codeTitle);
        elem.setAttribute('id', codeTitle);
      } else if (!dataLang) {
        dataLangWrapper.setAttribute('data-lang', 'Code');
        dataLangWrapper.className = 'language-code';
      }

      if (!dataLang || codeTitle) {
        wrap(elem.parentNode, dataLangWrapper);
      }

    }) : null;
  })();

  var langCodeElem = document.querySelectorAll('.language-code');
  langCodeElem ? langCodeElem.forEach(function (elem) {
    var newElem = document.createElement('span');
    newElem.className = 'copy-to-clipboard';
    newElem.setAttribute('title', 'Copy to clipboard');
    elem.append(newElem);
  }) : null;
  

  

  
  var dollarCodeElem = document.querySelectorAll('div.language-\\$');
  var gtCodeElem = document.querySelectorAll('div.language-\\>');

  dollarCodeElem ?
  dollarCodeElem.forEach(function(elem) {
    var lnts = elem.parentNode.parentNode ? elem.parentNode.parentNode.querySelectorAll('.lnt') : null;
    lnts ? 
    lnts.forEach(function(lnt) {
      lnt.innerHTML = '$<br/>';
    }) : null;
  }) : null;

  gtCodeElem ?
  gtCodeElem.forEach(function(elem) {
    var lnts = elem.parentNode.parentNode ? elem.parentNode.parentNode.querySelectorAll('.lnt') : null;
    lnts ? 
    lnts.forEach(function(lnt) {
      lnt.innerHTML = '><br/>';
    }) : null;
  }) : null;
  
</script>
    
<div class="donation">
  <div class="donation__message">
    åˆ†äº«
  </div>
  <div class="donation__icons">
    
    
    
      
    
      
        <a href="https://twitter.com/intent/tweet?text=%e3%80%8a%e6%9c%ba%e5%99%a8%e5%ad%a6%e4%b9%a0%e4%b8%8eR%e8%af%ad%e8%a8%80%e3%80%8b%e7%ac%94%e8%ae%b0&url=https%3a%2f%2fwww.metasphinx.com%2fzh%2fposts%2f2021%2f2021-09-24-machine-learning-with-r-note%2f&hashtags=R&via=PolyFish" title="Twitter" aria-label="Twitter Share Button" class="donation__item" target="_blank" rel="noreferrer" data-type="share">
          <svg data-name="twitter" enable-background="new 0 0 24 24" viewBox="0 0 24 24" width="35" height="35" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="m21.534 7.113c.976-.693 1.797-1.558 2.466-2.554v-.001c-.893.391-1.843.651-2.835.777 1.02-.609 1.799-1.566 2.165-2.719-.951.567-2.001.967-3.12 1.191-.903-.962-2.19-1.557-3.594-1.557-2.724 0-4.917 2.211-4.917 4.921 0 .39.033.765.114 1.122-4.09-.2-7.71-2.16-10.142-5.147-.424.737-.674 1.58-.674 2.487 0 1.704.877 3.214 2.186 4.089-.791-.015-1.566-.245-2.223-.606v.054c0 2.391 1.705 4.377 3.942 4.835-.401.11-.837.162-1.29.162-.315 0-.633-.018-.931-.084.637 1.948 2.447 3.381 4.597 3.428-1.674 1.309-3.8 2.098-6.101 2.098-.403 0-.79-.018-1.177-.067 2.18 1.405 4.762 2.208 7.548 2.208 8.683 0 14.342-7.244 13.986-14.637z"/></svg>
        </a>
      
    
  </div>
</div>


    
    
<div class="whoami__gutter"></div>
<hr class="hr-slash whoami-hr"/>
<section class="whoami">
  <div class="whoami__image-wrapper">
    
    
      
        <img data-src="/images/whoami/avatar.jpg" src="data:image/svg+xml,%0A%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath fill='none' d='M0 0h24v24H0V0z'/%3E%3Cpath fill='%23aaa' d='M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-1 16H6c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h12c.55 0 1 .45 1 1v12c0 .55-.45 1-1 1zm-4.44-6.19l-2.35 3.02-1.56-1.88c-.2-.25-.58-.24-.78.01l-1.74 2.23c-.26.33-.02.81.39.81h8.98c.41 0 .65-.47.4-.8l-2.55-3.39c-.19-.26-.59-.26-.79 0z'/%3E%3C/svg%3E" alt="Guankui Liu" class="lazyload whoami__image"/>
      
    
  </div>
  <div class="whoami__contents">
    <div class="whoami__written-by">
      ä½œè€…
    </div>
    <div class="whoami__title">
      
        PolyFish
      
    </div>
    <div class="whoami__desc">
      
        My research interests include statistics, computer vision and ecological modelling.
      
    </div>
    <div class="whoami__social">
      
      
      
      
      
      
      <a href="https://www.douban.com/people/Boylad/" title="douban" aria-label="douban">
        <svg fill="#000000" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="25" height="25"><path fill="currentColor" d="M 5 4 A 1.0001 1.0001 0 1 0 5 6 L 19 6 A 1.0001 1.0001 0 1 0 19 4 L 5 4 z M 7 8 C 5.9069372 8 5 8.9069372 5 10 L 5 13 C 5 14.093063 5.9069372 15 7 15 L 7.3242188 15 L 8.5234375 18 L 5 18 A 1.0001 1.0001 0 1 0 5 20 L 19 20 A 1.0001 1.0001 0 1 0 19 18 L 15.476562 18 L 16.675781 15 L 17 15 C 18.093063 15 19 14.093063 19 13 L 19 10 C 19 8.9069372 18.093063 8 17 8 L 7 8 z M 7 10 L 17 10 L 17 13 L 7 13 L 7 10 z M 9.4765625 15 L 14.523438 15 L 13.324219 18 L 10.675781 18 L 9.4765625 15 z"/></svg>
      </a>
      
      
      
      <a href="mailto:your@endrhythm@gmail.com" title="email" aria-label="email">
        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path fill="currentColor" d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-.4 4.25l-7.07 4.42c-.32.2-.74.2-1.06 0L4.4 8.25c-.25-.16-.4-.43-.4-.72 0-.67.73-1.07 1.3-.72L12 11l6.7-4.19c.57-.35 1.3.05 1.3.72 0 .29-.15.56-.4.72z"/></svg>
      </a>
      
      
      
      
      
      
      
      <a href="https://github.com/Guankuiliu/" title="github" aria-label="github">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="25" height="25" viewBox="0 0 24 24" version="1.1">
<g id="surface3680">
<path fill="currentColor" d="M 10.898438 2.101562 C 6.300781 2.601562 2.601562 6.300781 2.101562 10.800781 C 1.601562 15.5 4.300781 19.699219 8.398438 21.300781 C 8.699219 21.398438 9 21.199219 9 20.800781 L 9 19.199219 C 9 19.199219 8.601562 19.300781 8.101562 19.300781 C 6.699219 19.300781 6.101562 18.101562 6 17.398438 C 5.898438 17 5.699219 16.699219 5.398438 16.398438 C 5.101562 16.300781 5 16.300781 5 16.199219 C 5 16 5.300781 16 5.398438 16 C 6 16 6.5 16.699219 6.699219 17 C 7.199219 17.800781 7.800781 18 8.101562 18 C 8.5 18 8.800781 17.898438 9 17.800781 C 9.101562 17.101562 9.398438 16.398438 10 16 C 7.699219 15.5 6 14.199219 6 12 C 6 10.898438 6.5 9.800781 7.199219 9 C 7.101562 8.800781 7 8.300781 7 7.601562 C 7 7.199219 7 6.601562 7.300781 6 C 7.300781 6 8.699219 6 10.101562 7.300781 C 10.601562 7.101562 11.300781 7 12 7 C 12.699219 7 13.398438 7.101562 14 7.300781 C 15.300781 6 16.800781 6 16.800781 6 C 17 6.601562 17 7.199219 17 7.601562 C 17 8.398438 16.898438 8.800781 16.800781 9 C 17.5 9.800781 18 10.800781 18 12 C 18 14.199219 16.300781 15.5 14 16 C 14.601562 16.5 15 17.398438 15 18.300781 L 15 20.898438 C 15 21.199219 15.300781 21.5 15.699219 21.398438 C 19.398438 19.898438 22 16.300781 22 12.101562 C 22 6.101562 16.898438 1.398438 10.898438 2.101562 Z M 10.898438 2.101562 "/>
</g>
</svg>

      </a>
      
      
      
      
      
      
      
      <a href="https://scholar.google.com/citations?hl=zh-CN&amp;user=zNy9vK4AAAAJ" title="google-scholar" aria-label="google-scholar">
        <svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="25" height="25"><path d="M 25 2 C 12.309534 2 2 12.309534 2 25 C 2 37.690466 12.309534 48 25 48 C 37.690466 48 48 37.690466 48 25 C 48 12.309534 37.690466 2 25 2 z M 25 4 C 36.609534 4 46 13.390466 46 25 C 46 36.609534 36.609534 46 25 46 C 13.390466 46 4 36.609534 4 25 C 4 13.390466 13.390466 4 25 4 z M 21 11 L 11 20 L 17.78125 20 C 17.80125 22.847 19.967531 25.730469 23.769531 25.730469 C 24.129531 25.730469 24.529688 25.690391 24.929688 25.650391 C 24.749688 26.100391 24.560547 26.470078 24.560547 27.080078 C 24.560547 28.230078 25.140391 28.920078 25.650391 29.580078 C 24.020391 29.690078 20.989766 29.879531 18.759766 31.269531 C 16.629766 32.559531 15.980469 34.43 15.980469 35.75 C 15.980469 38.47 18.500469 41 23.730469 41 C 29.930469 41 33.220703 37.510547 33.220703 34.060547 C 33.220703 31.530547 31.779453 30.279922 30.189453 28.919922 L 28.900391 27.890625 C 28.500391 27.570625 27.949219 27.120312 27.949219 26.320312 C 27.949219 25.510313 28.500703 24.989766 28.970703 24.509766 C 30.480703 23.309766 32 21.960234 32 19.240234 C 32 18.197234 31.756203 17.348391 31.408203 16.650391 L 35 13.570312 L 35 17.277344 C 34.405 17.623344 34 18.261 34 19 L 34 25 C 34 26.104 34.896 27 36 27 C 37.104 27 38 26.104 38 25 L 38 19 C 38 18.262 37.595 17.624344 37 17.277344 L 37 12 C 37 11.957 36.980609 11.920906 36.974609 11.878906 L 38 11 L 21 11 z M 24.269531 14.240234 C 27.269531 14.240234 28.820312 18.35 28.820312 21 C 28.820312 21.65 28.739922 22.819922 27.919922 23.669922 C 27.339922 24.259922 26.370938 24.699219 25.460938 24.699219 C 22.370938 24.699219 20.949219 20.620156 20.949219 18.160156 C 20.949219 17.210156 21.14 16.220938 21.75 15.460938 C 22.33 14.710938 23.339531 14.240234 24.269531 14.240234 z M 26.039062 30.609375 C 26.409063 30.609375 26.590859 30.610391 26.880859 30.650391 C 29.620859 32.630391 30.800781 33.620234 30.800781 35.490234 C 30.800781 37.760234 28.97 39.460938 25.5 39.460938 C 21.64 39.460938 19.160156 37.590469 19.160156 34.980469 C 19.160156 32.370469 21.459766 31.499219 22.259766 31.199219 C 23.769766 30.679219 25.719062 30.609375 26.039062 30.609375 z"/></svg>
      </a>
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      <a href="https://x.com/Guankui_Liu" title="twitter" aria-label="twitter">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="25" height="25" viewBox="0 0 32 32" version="1.1">
<g id="surface676">
<path fill="currentColor" d="M 28 8.558594 C 27.117188 8.949219 26.167969 9.214844 25.171875 9.332031 C 26.1875 8.722656 26.96875 7.757812 27.335938 6.609375 C 26.386719 7.171875 25.332031 7.582031 24.210938 7.804688 C 23.3125 6.847656 22.03125 6.246094 20.617188 6.246094 C 17.898438 6.246094 15.691406 8.453125 15.691406 11.171875 C 15.691406 11.558594 15.734375 11.933594 15.820312 12.292969 C 11.726562 12.089844 8.097656 10.128906 5.671875 7.148438 C 5.246094 7.875 5.003906 8.722656 5.003906 9.625 C 5.003906 11.332031 5.871094 12.839844 7.195312 13.722656 C 6.386719 13.695312 5.628906 13.476562 4.964844 13.105469 C 4.964844 13.128906 4.964844 13.148438 4.964844 13.167969 C 4.964844 15.554688 6.660156 17.546875 8.914062 17.996094 C 8.5 18.109375 8.066406 18.171875 7.617188 18.171875 C 7.300781 18.171875 6.988281 18.140625 6.691406 18.082031 C 7.316406 20.039062 9.136719 21.460938 11.289062 21.503906 C 9.605469 22.824219 7.480469 23.609375 5.175781 23.609375 C 4.777344 23.609375 4.386719 23.585938 4 23.539062 C 6.179688 24.9375 8.765625 25.753906 11.546875 25.753906 C 20.605469 25.753906 25.558594 18.25 25.558594 11.742188 C 25.558594 11.53125 25.550781 11.316406 25.542969 11.105469 C 26.503906 10.410156 27.339844 9.542969 28 8.558594 Z M 28 8.558594 "/>
</g>
</svg>

      </a>
      
      
      
      
      
      
      
      
      
      
      
      
    </div>
  </div>
</section>
<hr class="hr-slash whoami-hr" />


    <section class="related">
    
    
  </section>
    <div class="grow"></div>
<nav class="pagination-single">
  
    
      <a href="https://www.metasphinx.com/zh/posts/2021/2021-08-16-procedurally-generated-fish-drawings/" class="pagination-single__left">
        <div class="pagination-single__icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path fill="currentColor" d="M19 11H7.83l4.88-4.88c.39-.39.39-1.03 0-1.42-.39-.39-1.02-.39-1.41 0l-6.59 6.59c-.39.39-.39 1.02 0 1.41l6.59 6.59c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L7.83 13H19c.55 0 1-.45 1-1s-.45-1-1-1z"/></svg>
        </div>
        <div class="pagination-single__left-title">fishdraw</div>      
      </a>
    
    <div class="grow"></div>
    
      <a href="https://www.metasphinx.com/zh/posts/2022/2022-10-10-matplotlib/" class="pagination-single__right">      
        <div class="pagination-single__right-title">ã€ŠMatplotlibç²¾è¿›ã€‹ç¬”è®°</div>
        <div class="pagination-single__icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path fill="currentColor" d="M5 13h11.17l-4.88 4.88c-.39.39-.39 1.03 0 1.42.39.39 1.02.39 1.41 0l6.59-6.59c.39-.39.39-1.02 0-1.41l-6.58-6.6c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L16.17 11H5c-.55 0-1 .45-1 1s.45 1 1 1z"/></svg>
        </div>
      </a>
    
  
</nav>
    
  

    <div class="modal micromodal-slide" id="modal" aria-hidden="true">
  <div class="modal__overlay" tabindex="-1" data-micromodal-close>
    <div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="modal-title">
      
      <div class="modal__content" id="modal-content">
        <div id="mySwipe" class="swipe">
          <div class="swipe-wrap">
          </div>
        </div>
      </div>

      <span class="modal__items">
        
        <span class="modal__header">
          <div class="modal__paging" title="Page Info" aria-label="Current Page">
          </div>
          <div class="modal__icon modal__toolbar modal__toolbar--close" title="Close" aria-label="Close Button" data-micromodal-close>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26" width="25" height="25"><path fill="currentColor" d="M 21.734375 19.640625 L 19.636719 21.734375 C 19.253906 22.121094 18.628906 22.121094 18.242188 21.734375 L 13 16.496094 L 7.761719 21.734375 C 7.375 22.121094 6.746094 22.121094 6.363281 21.734375 L 4.265625 19.640625 C 3.878906 19.253906 3.878906 18.628906 4.265625 18.242188 L 9.503906 13 L 4.265625 7.761719 C 3.882813 7.371094 3.882813 6.742188 4.265625 6.363281 L 6.363281 4.265625 C 6.746094 3.878906 7.375 3.878906 7.761719 4.265625 L 13 9.507813 L 18.242188 4.265625 C 18.628906 3.878906 19.257813 3.878906 19.636719 4.265625 L 21.734375 6.359375 C 22.121094 6.746094 22.121094 7.375 21.738281 7.761719 L 16.496094 13 L 21.734375 18.242188 C 22.121094 18.628906 22.121094 19.253906 21.734375 19.640625 Z"/></svg>
          </div>
          <div class="modal__icon modal__toolbar modal__toolbar--full" title="Full Screen" aria-label="Full Screen Button">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="25" height="25"><path fill="currentColor" d="M 5 3 C 3.9069372 3 3 3.9069372 3 5 L 3 8 A 1.0001 1.0001 0 1 0 5 8 L 5 5 L 8 5 A 1.0001 1.0001 0 1 0 8 3 L 5 3 z M 16 3 A 1.0001 1.0001 0 1 0 16 5 L 19 5 L 19 8 A 1.0001 1.0001 0 1 0 21 8 L 21 5 C 21 3.9069372 20.093063 3 19 3 L 16 3 z M 3.984375 14.986328 A 1.0001 1.0001 0 0 0 3 16 L 3 19 C 3 20.093063 3.9069372 21 5 21 L 8 21 A 1.0001 1.0001 0 1 0 8 19 L 5 19 L 5 16 A 1.0001 1.0001 0 0 0 3.984375 14.986328 z M 19.984375 14.986328 A 1.0001 1.0001 0 0 0 19 16 L 19 19 L 16 19 A 1.0001 1.0001 0 1 0 16 21 L 19 21 C 20.093063 21 21 20.093063 21 19 L 21 16 A 1.0001 1.0001 0 0 0 19.984375 14.986328 z"/></svg>
          </div>
          <div class="modal__icon modal__toolbar modal__toolbar--normal" title="Normal Screen" aria-label="Normal Screen Button">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="25" height="25"><path fill="currentColor" d="M 16.96875 4.972656 C 15.867188 4.988281 14.984375 5.894531 15 7 L 15 15 L 7 15 C 6.277344 14.988281 5.609375 15.367188 5.246094 15.992188 C 4.878906 16.613281 4.878906 17.386719 5.246094 18.007813 C 5.609375 18.632813 6.277344 19.011719 7 19 L 19 19 L 19 7 C 19.007813 6.460938 18.796875 5.941406 18.414063 5.558594 C 18.03125 5.175781 17.511719 4.964844 16.96875 4.972656 Z M 32.96875 4.972656 C 31.921875 4.988281 31.0625 5.8125 31.003906 6.859375 C 31 6.90625 31 6.953125 31 7 L 31 19 L 43 19 C 43.066406 19 43.132813 19 43.199219 18.992188 C 44.269531 18.894531 45.070313 17.972656 45.015625 16.902344 C 44.964844 15.828125 44.074219 14.988281 43 15 L 35 15 L 35 7 C 35.007813 6.460938 34.796875 5.941406 34.414063 5.558594 C 34.03125 5.175781 33.511719 4.964844 32.96875 4.972656 Z M 7 31 C 6.277344 30.988281 5.609375 31.367188 5.246094 31.992188 C 4.878906 32.613281 4.878906 33.386719 5.246094 34.007813 C 5.609375 34.632813 6.277344 35.011719 7 35 L 15 35 L 15 43 C 14.988281 43.722656 15.367188 44.390625 15.992188 44.753906 C 16.613281 45.121094 17.386719 45.121094 18.007813 44.753906 C 18.632813 44.390625 19.011719 43.722656 19 43 L 19 31 Z M 31 31 L 31 43 C 30.988281 43.722656 31.367188 44.390625 31.992188 44.753906 C 32.613281 45.121094 33.386719 45.121094 34.007813 44.753906 C 34.632813 44.390625 35.011719 43.722656 35 43 L 35 35 L 43 35 C 43.722656 35.011719 44.390625 34.632813 44.753906 34.007813 C 45.121094 33.386719 45.121094 32.613281 44.753906 31.992188 C 44.390625 31.367188 43.722656 30.988281 43 31 Z"/></svg>
          </div>
        </span>
        
        <div class="modal__icon modal__arrow modal__arrow--left" title="Arrow Left" aria-label="Arrow Left Button">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26" width="28" height="28"><path fill="currentColor" d="M 23.28125 11 L 10 10 L 10 6.851563 C 10 6.523438 9.839844 6.277344 9.519531 6.03125 C 9.199219 5.949219 8.878906 5.949219 8.640625 6.113281 C 5.359375 8.410156 2.238281 12.257813 2.160156 12.421875 C 2.082031 12.578125 2.007813 12.8125 2.003906 12.976563 C 2.003906 12.980469 2 12.988281 2 12.992188 C 2 13.15625 2.078125 13.402344 2.160156 13.484375 C 2.238281 13.648438 5.28125 17.507813 8.640625 19.804688 C 8.960938 19.96875 9.28125 20.050781 9.519531 19.886719 C 9.839844 19.722656 10 19.476563 10 19.148438 L 10 16 L 23.28125 15 C 23.679688 14.679688 24 13.875 24 12.992188 C 24 12.195313 23.761719 11.320313 23.28125 11 Z"/></svg>
        </div>
        
        <div class="modal__icon modal__arrow modal__arrow--right" title="Arrow Right" aria-label="Arrow Right Button">

          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26" width="28" height="28"><path fill="currentColor" d="M 2.71875 11.023438 L 16 10.023438 L 16 6.875 C 16 6.546875 16.160156 6.300781 16.480469 6.054688 C 16.800781 5.972656 17.121094 5.972656 17.359375 6.136719 C 20.640625 8.433594 23.761719 12.28125 23.839844 12.445313 C 23.917969 12.601563 23.992188 12.835938 23.996094 13 C 23.996094 13.003906 24 13.011719 24 13.015625 C 24 13.179688 23.921875 13.425781 23.839844 13.507813 C 23.761719 13.671875 20.71875 17.53125 17.359375 19.828125 C 17.039063 19.992188 16.71875 20.074219 16.480469 19.910156 C 16.160156 19.746094 16 19.5 16 19.171875 L 16 16.023438 L 2.71875 15.023438 C 2.320313 14.703125 2 13.898438 2 13.015625 C 2 12.21875 2.238281 11.34375 2.71875 11.023438 Z"/></svg>
        </div>

        <div class="modal__caption">
          <div class="modal__caption--text">
          </div>
        </div>

      </span>
    </div>
  </div>
</div>


<script defer src="/js/swipe.min.989e074dfb92ce7f57a92c1df7027f88b53c50a54fd9ad450a673a64aa91bfa4.js"></script>

<script defer src="/js/micromodal.min.de01b44b2f383056bbcaf6ee921fd385d79108ec1129afd0eb2f3f5a07e11f45.js"></script>

<script defer src="/js/helper/fadeinout.min.js"></script>

<script>
document.addEventListener('DOMContentLoaded', function () {
  
   
  var docElem = document.documentElement;

   
  function openFullscreen() {
    if (docElem.requestFullscreen) {
      docElem.requestFullscreen();
    } else if (docElem.mozRequestFullScreen) {  
      docElem.mozRequestFullScreen();
    } else if (docElem.webkitRequestFullscreen) {  
      docElem.webkitRequestFullscreen();
    } else if (docElem.msRequestFullscreen) {  
      docElem.msRequestFullscreen();
    }
  }

   
  function closeFullscreen() {
    if (document.fullscreenElement ||
      document.webkitFullscreenElement ||
      document.mozFullScreenElement) {
      if (document.exitFullscreen) {
        document.exitFullscreen();
      } else if (document.mozCancelFullScreen) {  
        document.mozCancelFullScreen();
      } else if (document.webkitExitFullscreen) {  
        document.webkitExitFullscreen();
      } else if (document.msExitFullscreen) {  
        document.msExitFullscreen();
      }
    }
  }

  var modal = document.getElementById('modal');
  var galleryContainerElem = document.querySelector('.gallery__container');
  var swipeWrapElem = document.querySelector('.swipe-wrap');
  var mySwipeElem = document.getElementById('mySwipe');
  var arrowLeftElem = document.querySelector('.modal__arrow--left');
  var arrowRightElem = document.querySelector('.modal__arrow--right');
  var closeElem = document.querySelector('.modal__toolbar--close');
  var fullElem = document.querySelector('.modal__toolbar--full');
  var normalElem = document.querySelector('.modal__toolbar--normal');
  var captionElem = document.querySelector('.modal__caption');
  var pagingElem = document.querySelector('.modal__paging');
  var itemsElem = document.querySelector('.modal__items');
  var imgTotalNum = null;
  var myFadeTimeout = null;
  var mySwipe = null;
  var keydownFunction = function (e) {
    if (e.key === 'ArrowRight') {
      if (modal && modal.classList.contains('is-open')) {
        mySwipe.next();
      }
    } else if (e.key === 'ArrowLeft') {
      if (modal && modal.classList.contains('is-open')) {
        mySwipe.prev();
      }
    }
  }

  if (galleryContainerElem) {
    imgTotalNum = galleryContainerElem.querySelectorAll('img').length;
  } else {
    galleryContainerElem = document.querySelector('.single__contents');
    imgTotalNum = galleryContainerElem.querySelectorAll('img').length;
  }

  MicroModal.init({
    onClose: function () {
      if (mySwipe) {
        mySwipe.kill();
        mySwipe = null;
        closeFullscreen();
      }
      window.removeEventListener('keydown', keydownFunction);
    },
    disableScroll: true,
    disableFocus: true,
    awaitOpenAnimation: false,
    awaitCloseAnimation: false,
    debugMode: false,
  });

  var imageLoad = function(src) {
    return new Promise(function(resolve, reject) {
      var newImg = new Image;
      newImg.onload = function() {
        resolve(newImg);
      }
      newImg.onerror = reject;
      newImg.src = src;
    });
  }

  galleryContainerElem.querySelectorAll('img').forEach(function (elem, idx) {
    elem.style.cursor = 'pointer';

    var clonedElem = elem.cloneNode(true);
    clonedElem.style.maxHeight = '100%';
    clonedElem.style.maxWidth = '100%';
    clonedElem.onclick = function (e) {
      e.stopPropagation();
    }

    var wrapper = document.createElement('div');
    wrapper.style.width = '100%';
    wrapper.style.height = '100vh';
    wrapper.setAttribute('data-micromodal-close', '');
    wrapper.onclick = function () {
      if (mySwipe) {
        mySwipe.kill();
        mySwipe = null;
      }
    }
    wrapper.onmouseenter = function () {
      clearTimeout(myFadeTimeout);
      fadeIn(itemsElem, 200);
    };
    wrapper.onmouseleave = function () {
      myFadeTimeout = setTimeout(function () {
        fadeOut(itemsElem, 200);
      }, 2500);
    }
    wrapper.ontouchstart = function() {
      fadeIn(itemsElem, 200);
    }
    wrapper.append(clonedElem);
    swipeWrapElem.append(wrapper);

    elem.addEventListener('click', async function (e) {
      MicroModal.show('modal');
      if (mySwipe) {
        mySwipe.kill();
        mySwipe = null;
      }

      var imgSrc = e.target.getAttribute('data-src') || e.target.getAttribute('src');
      var img = await imageLoad(imgSrc);
      clonedElem.style.width = img.width + 'px';
      clonedElem.style.height = img.height + 'px';
      
      
      mySwipe = new Swipe(mySwipeElem, {
        startSlide: idx,
        draggable: true,
        autoRestart: false,
        continuous: false,
        disableScroll: true,
        stopPropagation: true,
        callback: async function (index, element) {
          
          var imgElem = element.querySelector('img');
          var imgSrc = imgElem.getAttribute('data-src') || imgElem.getAttribute('src');
          var img = await imageLoad(imgSrc);
          imgElem.style.width = img.width + 'px';
          imgElem.style.height = img.height + 'px';

          
          if (captionElem && imgElem) {
            var caption = null;
            if (imgElem.getAttribute('data-caption')) {
              caption = imgElem.getAttribute('data-caption');
            } else if (imgElem.getAttribute('title')) {
              caption = imgElem.getAttribute('title');
            } else if (imgElem.getAttribute('alt')) {
              caption = imgElem.getAttribute('alt');
            } else {
              caption = imgElem.getAttribute('src');
            }

            captionElem.querySelector('.modal__caption--text').innerText = caption;
            pagingElem.innerText = (index + 1) + ' / ' + imgTotalNum;

            clearTimeout(myFadeTimeout);
            fadeIn(itemsElem, 200);
          }
        },
      });

      fadeIn(itemsElem);

      
      if (captionElem) {
        var caption = null;
        if (e.target.getAttribute('data-caption')) {
          caption = e.target.getAttribute('data-caption');
        } else if (e.target.getAttribute('title')) {
          caption = e.target.getAttribute('title');
        } else if (e.target.getAttribute('alt')) {
          caption = e.target.getAttribute('alt');
        } else {
          caption = e.target.getAttribute('src');
        }

        captionElem.querySelector('.modal__caption--text').innerText = caption;
        pagingElem.innerText = (idx + 1) + ' / ' + imgTotalNum;
      }

      if (normalElem && fullElem) {
        normalElem.style.zIndex = -1;
        normalElem.style.opacity = 0;
        fullElem.style.zIndex = 25;
        fullElem.style.opacity = 1;
      }
    });

    window.addEventListener('keydown', keydownFunction);
  });

  arrowLeftElem ?
    arrowLeftElem.addEventListener('click', function (e) {
      if (mySwipe) {
        mySwipe.prev();
      }
    }) : null;
  arrowRightElem ?
    arrowRightElem.addEventListener('click', function (e) {
      if (mySwipe) {
        mySwipe.next();
      }
    }) : null;

  closeElem ?
    closeElem.addEventListener('click', function () {
      if (mySwipe) {
        mySwipe.kill();
        mySwipe = null;
      }
      closeFullscreen();
      MicroModal.close('modal');
    }) : null;

  fullElem ?
    fullElem.addEventListener('click', function (e) {
      openFullscreen();
      if (normalElem) {
        normalElem.style.zIndex = 25;
        normalElem.style.opacity = 1;
        fullElem.style.zIndex = -1;
        fullElem.style.opacity = 0;
      }
    }) : null;

  normalElem ?
    normalElem.addEventListener('click', function (e) {
      closeFullscreen();
      if (fullElem) {
        fullElem.style.zIndex = 25;
        fullElem.style.opacity = 1;
        normalElem.style.zIndex = -1;
        normalElem.style.opacity = 0;
      }
    }) : null;
  
});
</script>

    <div class="hide">
      

<div class="search">
  <span class="icon">
    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M15.5 14h-.79l-.28-.27c1.2-1.4 1.82-3.31 1.48-5.34-.47-2.78-2.79-5-5.59-5.34-4.23-.52-7.79 3.04-7.27 7.27.34 2.8 2.56 5.12 5.34 5.59 2.03.34 3.94-.28 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>
  </span>
  <input id="search" aria-label="Site Search" class="input" type="text" placeholder="æœç´¢" autocomplete="off">
  <div id="search-results" class="dropdown">
    <div id="search-menu" class="dropdown-menu" role="menu">
    </div>
  </div>
</div>


    </div>
  </div>
</main>


<aside class="single__side main-side">
  


<section class="sidebar hide">
  <script>document.querySelector('.sidebar').classList.remove('hide')</script>
  <div class="toc__flexbox" data-position="fixed">
    <h6 class="toc__title" data-ani="true">ç›®å½•</h6>
    
      <label class="switch" data-ani="true">
        <input id="toggle-toc" aria-label="Toggle TOC" type="checkbox" checked>
        <span class="slider round"></span>
      </label>
    
  </div>
  <div class="toc " data-dir="ltr" data-folding="false" data-ani="true">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#knnä¹³è…ºç™Œè¯Šæ–­">KNNä¹³è…ºç™Œè¯Šæ–­</a>
      <ul>
        <li>
          <ul>
            <li></li>
          </ul>
        </li>
        <li><a href="#æ•°æ®å¤„ç†">æ•°æ®å¤„ç†</a>
          <ul>
            <li></li>
          </ul>
        </li>
        <li><a href="#æ¨¡åž‹è®­ç»ƒ">æ¨¡åž‹è®­ç»ƒ</a></li>
        <li><a href="#æ€§èƒ½è¯„ä¼°">æ€§èƒ½è¯„ä¼°</a></li>
        <li><a href="#æ€§èƒ½æå‡">æ€§èƒ½æå‡</a></li>
      </ul>
    </li>
    <li><a href="#æœ´ç´ è´å¶æ–¯æ‰‹æœºåžƒåœ¾çŸ­ä¿¡è¿‡æ»¤">æœ´ç´ è´å¶æ–¯æ‰‹æœºåžƒåœ¾çŸ­ä¿¡è¿‡æ»¤</a>
      <ul>
        <li>
          <ul>
            <li></li>
          </ul>
        </li>
        <li><a href="#æ•°æ®å¤„ç†-1">æ•°æ®å¤„ç†</a>
          <ul>
            <li></li>
          </ul>
        </li>
        <li><a href="#æ¨¡åž‹è®­ç»ƒ-1">æ¨¡åž‹è®­ç»ƒ</a></li>
        <li><a href="#æ€§èƒ½è¯„ä¼°-1">æ€§èƒ½è¯„ä¼°</a></li>
        <li><a href="#æ€§èƒ½æå‡-1">æ€§èƒ½æå‡</a>
          <ul>
            <li></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#c50å†³ç­–æ ‘è¯†åˆ«é«˜é£Žé™©é“¶è¡Œè´·æ¬¾">C5.0å†³ç­–æ ‘è¯†åˆ«é«˜é£Žé™©é“¶è¡Œè´·æ¬¾</a>
      <ul>
        <li>
          <ul>
            <li></li>
          </ul>
        </li>
        <li><a href="#æ•°æ®å¤„ç†-2">æ•°æ®å¤„ç†</a></li>
        <li><a href="#æ¨¡åž‹è®­ç»ƒ-2">æ¨¡åž‹è®­ç»ƒ</a></li>
        <li><a href="#æ€§èƒ½è¯„ä¼°-2">æ€§èƒ½è¯„ä¼°</a></li>
        <li><a href="#æ€§èƒ½æå‡-2">æ€§èƒ½æå‡</a>
          <ul>
            <li></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#è§„åˆ™å­¦ä¹ è¯†åˆ«æœ‰æ¯’è˜‘è‡">è§„åˆ™å­¦ä¹ è¯†åˆ«æœ‰æ¯’è˜‘è‡</a>
      <ul>
        <li>
          <ul>
            <li></li>
          </ul>
        </li>
        <li><a href="#æ•°æ®å¤„ç†-3">æ•°æ®å¤„ç†</a></li>
        <li><a href="#æ¨¡åž‹è®­ç»ƒ-3">æ¨¡åž‹è®­ç»ƒ</a></li>
        <li><a href="#æ€§èƒ½è¯„ä¼°-3">æ€§èƒ½è¯„ä¼°</a></li>
        <li><a href="#æ€§èƒ½æå‡-3">æ€§èƒ½æå‡</a></li>
      </ul>
    </li>
    <li><a href="#çº¿æ€§å›žå½’é¢„æµ‹åŒ»ç–—è´¹ç”¨">çº¿æ€§å›žå½’é¢„æµ‹åŒ»ç–—è´¹ç”¨</a>
      <ul>
        <li>
          <ul>
            <li></li>
          </ul>
        </li>
        <li><a href="#æ•°æ®å¤„ç†-4">æ•°æ®å¤„ç†</a>
          <ul>
            <li></li>
          </ul>
        </li>
        <li><a href="#æ¨¡åž‹è®­ç»ƒ-4">æ¨¡åž‹è®­ç»ƒ</a></li>
        <li><a href="#æ€§èƒ½è¯„ä¼°-4">æ€§èƒ½è¯„ä¼°</a></li>
        <li><a href="#æ€§èƒ½æå‡-4">æ€§èƒ½æå‡</a>
          <ul>
            <li></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#å›žå½’æ ‘å’Œæ¨¡åž‹æ ‘ä¼°è®¡è‘¡è„é…’è´¨é‡">å›žå½’æ ‘å’Œæ¨¡åž‹æ ‘ä¼°è®¡è‘¡è„é…’è´¨é‡</a>
      <ul>
        <li>
          <ul>
            <li></li>
          </ul>
        </li>
        <li><a href="#æ•°æ®å¤„ç†-5">æ•°æ®å¤„ç†</a></li>
        <li><a href="#æ¨¡åž‹è®­ç»ƒ-5">æ¨¡åž‹è®­ç»ƒ</a>
          <ul>
            <li></li>
          </ul>
        </li>
        <li><a href="#æ€§èƒ½è¯„ä¼°-5">æ€§èƒ½è¯„ä¼°</a>
          <ul>
            <li></li>
          </ul>
        </li>
        <li><a href="#æ€§èƒ½æå‡-5">æ€§èƒ½æå‡</a></li>
      </ul>
    </li>
    <li><a href="#äººå·¥ç¥žç»ç½‘ç»œå¯¹æ··å‡åœŸå¼ºåº¦å»ºæ¨¡">äººå·¥ç¥žç»ç½‘ç»œå¯¹æ··å‡åœŸå¼ºåº¦å»ºæ¨¡</a>
      <ul>
        <li>
          <ul>
            <li></li>
          </ul>
        </li>
        <li><a href="#æ•°æ®å¤„ç†-6">æ•°æ®å¤„ç†</a></li>
        <li><a href="#æ¨¡åž‹è®­ç»ƒ-6">æ¨¡åž‹è®­ç»ƒ</a></li>
        <li><a href="#æ€§èƒ½è¯„ä¼°-6">æ€§èƒ½è¯„ä¼°</a></li>
        <li><a href="#æ€§èƒ½æå‡-6">æ€§èƒ½æå‡</a></li>
      </ul>
    </li>
    <li><a href="#å…³è”è§„åˆ™è¶…å¸‚æ•°æ®æŒ–æŽ˜">å…³è”è§„åˆ™è¶…å¸‚æ•°æ®æŒ–æŽ˜</a>
      <ul>
        <li>
          <ul>
            <li></li>
          </ul>
        </li>
        <li><a href="#æ•°æ®å¤„ç†-7">æ•°æ®å¤„ç†</a>
          <ul>
            <li></li>
          </ul>
        </li>
        <li><a href="#æ¨¡åž‹è®­ç»ƒ-7">æ¨¡åž‹è®­ç»ƒ</a></li>
        <li><a href="#æ€§èƒ½è¯„ä¼°-7">æ€§èƒ½è¯„ä¼°</a></li>
        <li><a href="#æ€§èƒ½æå‡-7">æ€§èƒ½æå‡</a></li>
      </ul>
    </li>
    <li><a href="#k-meansèšç±»æŽ¢å¯»é’å°‘å¹´å¸‚åœºç»†åˆ†">K-Meansèšç±»æŽ¢å¯»é’å°‘å¹´å¸‚åœºç»†åˆ†</a>
      <ul>
        <li><a href="#æ•°æ®å¤„ç†-8">æ•°æ®å¤„ç†</a>
          <ul>
            <li></li>
          </ul>
        </li>
        <li><a href="#æ¨¡åž‹è®­ç»ƒ-8">æ¨¡åž‹è®­ç»ƒ</a></li>
        <li><a href="#æ€§èƒ½è¯„ä¼°-8">æ€§èƒ½è¯„ä¼°</a></li>
        <li><a href="#æ€§èƒ½æå‡-8">æ€§èƒ½æå‡</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</section>



</aside>

<script>
  
  
  

  var enableToc = JSON.parse("true");
  var toc = JSON.parse("null");
  var tocPosition = JSON.parse("\"inner\"");
  
  var singleMainElem = document.querySelector('.single__main');
  var singleSideElem = document.querySelector('.single__side');

  enquire.register("screen and (max-width: 769px)", {
    match: function () {
      if ((enableToc || toc) && tocPosition !== "outer") {
        if (singleMainElem && singleSideElem) {
          singleMainElem.classList.remove('main-main');
          singleMainElem.classList.add('main');
          singleSideElem.classList.remove('main-side');
          singleSideElem.classList.add('hide');
        }
      } else if (tocPosition === "outer") {
        if (singleMainElem && !singleMainElem.classList.contains('main-main')) {
          singleMainElem.classList.remove('main-main');
          singleMainElem.classList.add('main');
        }
        if (singleSideElem && !singleSideElem.classList.contains('hide')) {
          singleSideElem.classList.add('hide');
        }
      }
    },
    unmatch: function () {
      if ((enableToc || toc) && tocPosition !== "outer") {
        singleMainElem.classList.remove('main');
        singleMainElem.classList.add('main-main');
        singleSideElem.classList.remove('hide');
        singleSideElem.classList.add('main-side');
      } else if (tocPosition === "outer") {
        if (singleMainElem && !singleMainElem.classList.contains('main-main')) {
          singleMainElem.classList.remove('main-main');
          singleMainElem.classList.add('main');
        }
        if (singleSideElem && !singleSideElem.classList.contains('hide')) {
          singleSideElem.classList.add('hide');
        }
      }

      var navCollapseBtn = document.querySelector('.navbar__burger');
      var navCollapse = document.getElementsByClassName('navbarm__collapse')[0];
      if (navCollapse) {
        navCollapse.setAttribute('data-open', false);
        navCollapse.style.maxHeight = 0;
        navCollapseBtn.classList.remove('is-active');
      }
      document.getElementsByClassName('navbar__menu')[0].classList.remove('is-active');
      document.getElementsByClassName('mobile-search')[0].classList.add('hide');
    },
    setup: function () { },
    deferSetup: true,
    destroy: function () { },
  });
</script>





<script defer src="/js/helper/getParents.min.js"></script>

<script defer src="/js/helper/closest.min.js"></script>

<script defer src="/js/helper/prev.min.js"></script>

<script defer src="/js/helper/prop.min.js"></script>

<script defer src="/js/helper/fadeinout.min.js"></script>

<script defer src="/js/helper/throttle.min.js"></script>










































<script>
  window.MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      displayMath: [['$$', '$$'], ['\\[', '\\]']],
      processEscapes: true,
      processEnvironments: true,
    },
    options: {
      skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
      ignoreHtmlClass: 'tex2jax_ignore',
      processHtmlClass: 'tex2jax_process'
    }
  };
  </script>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" id="MathJax-script"></script>










<script>
  'use strict';

  window.onload = function() {
    var navbar = document.querySelector('.navbar');
    var singleContentsElem = document.querySelector('.single__contents');

    
    
    
    var enableBusuanzi = JSON.parse("false");
    var busuanziPagePV = JSON.parse("true");
    
    if (enableBusuanzi && busuanziPagePV) {
      var pagePvElem = document.querySelector('#busuanzi_value_page_pv');
      pagePvElem.textContent = pagePvElem.textContent.replace(/(\d)(?=(\d\d\d)+(?!\d))/g, "$1,");
    }    
    



    
    
    
    
    
    
    var enableToc = JSON.parse("true");
    var toc = JSON.parse("null");
    var hideToc = JSON.parse("false");
    var tocFlexbox = document.querySelector('.toc__flexbox');
    var tocFlexboxOuter = document.querySelector('.toc__flexbox--outer');
    var tocFolding = JSON.parse("false");
    
    if ((enableToc || toc) && document.querySelector('.toc')) {
      var tableOfContentsElem = document.querySelector('.toc').querySelector('#TableOfContents');

      tableOfContentsElem.onmouseenter = function() {
        if (navbar.classList.contains('scrolling')) {
          navbar.classList.remove('scrolling');
        }
      }

      tableOfContentsElem.onmouseleave = function() {
        if (!navbar.classList.contains('scrolling')) {
          navbar.classList.add('scrolling');
        }
      }

      if (false === tocFolding) {

      } else {
        tableOfContentsElem.querySelectorAll('ul') ?
          tableOfContentsElem.querySelectorAll('ul').forEach(function (rootUl) {
            rootUl.querySelectorAll('li').forEach(function (liElem) {
              liElem.querySelectorAll('ul').forEach(function (ulElem) {
                ulElem.style.display = 'none';
              });
            });
          }) : null;
      }

      if (tableOfContentsElem) {
        if (tableOfContentsElem.querySelectorAll('a').length > 0) {
          tableOfContentsElem.querySelectorAll('a').forEach(function (elem) {
            elem.addEventListener('click', function () {
              var id = elem.getAttribute('id');

              if (!navbar.classList.contains('scrolling')) {
                navbar.classList.remove('navbar--show');
                navbar.classList.remove('navbar--hide');
                navbar.classList.add('navbar--hide');
              }
              
              document.querySelector('.toc').querySelectorAll('a').forEach(function (elem) {
                elem.classList.remove('active');
              });
              elem.classList.add('active');

              var curElem = tableOfContentsElem.querySelector('[href="#' + id + '"]');
              if (curElem && curElem.nextElementSibling) {
                curElem.nextElementSibling.style.display = 'block';
              }
              if (curElem) {
                getParents(curElem, 'ul') ?
                  getParents(curElem, 'ul').forEach(function (elem) {
                    elem.style.display = 'block';
                  }) : null;
              }
            });
          });
        } else {
          if (tocFlexbox) {
            tocFlexbox.setAttribute('data-position', '');
            if (!tocFlexbox.classList.contains('hide')) {
              tocFlexbox.classList.add('hide');
            }
          }
          if (tocFlexboxOuter) {
            tocFlexboxOuter.setAttribute('data-position', '');
            if (!tocFlexboxOuter.classList.contains('hide')) {
              tocFlexboxOuter.classList.add('hide');
            }
          }
        }
      }

      
      var toggleTocElem = document.getElementById("toggle-toc");
      var visibleTocElem = document.getElementById('visible-toc');
      var tocElem = document.querySelector('.toc');
      var mainElem = document.querySelector('main');
      var sideElem = document.querySelector('side');
      var tocFlexboxElem = document.querySelector('.toc__flexbox');

      toggleTocElem ? 
      toggleTocElem.addEventListener('change', function(e) {
        if (e.target.checked) {
          if (tocElem) {
            fadeIn(tocElem, 200);
          }
          if (tocFlexboxElem) {
            tocFlexboxElem.setAttribute('data-position', 'fixed');
          }

          if (mainElem) {
            mainElem.classList.remove('main-main');
            mainElem.classList.remove('main');
            mainElem.classList.add('main-main');
          }
          if (sideElem) {
            sideElem.classList.remove('main-side');
          }
        } else {
          if (tocElem) {
            fadeOut(tocElem, 200);
          }
          if (tocFlexboxElem) {
            tocFlexboxElem.setAttribute('data-position', 'absolute');
          }

          if (mainElem) {
            mainElem.classList.remove('main-main');
            mainElem.classList.remove('main');
            mainElem.classList.add('main');
          }
          if (sideElem) {
            sideElem.classList.remove('main-side');
          }
        }
      }) : null;

      visibleTocElem ?
      visibleTocElem.addEventListener('change', function(e) {
        if (e.target.checked) {
          if (tocElem) {
            fadeIn(tocElem, 200);
          }
        } else {
          if (tocElem) {
            fadeOut(tocElem, 200);
          }
        }
      }) : null;
    }
    
    
    
    
    
    var topOffset = 120;
    var botOffset = 70;
    var handleWindowResize = function () {
      if (tocElem) {
        tocElem.style.maxHeight = (window.innerHeight - topOffset - botOffset) + 'px';
      }
    }
    var throttledWindowResize = throttle(handleWindowResize, 300);
    throttledWindowResize()

    
    window.addEventListener('resize', throttledWindowResize);
    



    
    var text, clip = new ClipboardJS('.anchor');
    var headers = singleContentsElem.querySelectorAll("h1, h2, h3, h4");

    
    var languagedir = JSON.parse("\"ltr\"");

    headers ? 
    headers.forEach(function (elem) {
      var size = parseInt(elem.tagName.substr(1), 10) * 2;
      var url = encodeURI(document.location.origin + document.location.pathname);
      var link = url + "#" + elem.getAttribute('id');
      var newElemOuter = document.createElement('span');
      newElemOuter.classList.add('anchor');
      newElemOuter.classList.add('hide');
      newElemOuter.setAttribute('data-clipboard-text', decodeURI(link));
      newElemOuter.style.position = 'relative';

      var newElemInner = document.createElement('span');
      newElemInner.style.position = 'absolute';
      newElemInner.style.top = '50%';
      newElemInner.style.left = '0.75rem';
      newElemInner.style.transform = 'translateY(-50%)';
      newElemInner.innerHTML = `
<svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="${32 - size}px" height="${32 - size}px"><path d="M 5.5625 0 C 4.136719 0 2.707031 0.542969 1.625 1.625 C -0.539063 3.789063 -0.539063 7.335938 1.625 9.5 L 5.28125 13.15625 C 5.667969 13.554688 6.304688 13.558594 6.703125 13.171875 C 7.101563 12.785156 7.105469 12.148438 6.71875 11.75 L 3.03125 8.0625 C 1.632813 6.664063 1.632813 4.429688 3.03125 3.03125 C 4.429688 1.632813 6.664063 1.632813 8.0625 3.03125 L 12.96875 7.9375 C 14.367188 9.335938 14.367188 11.570313 12.96875 12.96875 C 12.804688 13.132813 12.621094 13.25 12.4375 13.375 C 11.980469 13.6875 11.859375 14.308594 12.171875 14.765625 C 12.484375 15.222656 13.105469 15.34375 13.5625 15.03125 C 13.847656 14.835938 14.125 14.625 14.375 14.375 C 16.539063 12.210938 16.539063 8.664063 14.375 6.5 L 9.5 1.625 C 8.417969 0.542969 6.988281 0 5.5625 0 Z M 10.78125 8.875 C 10.738281 8.882813 10.695313 8.894531 10.65625 8.90625 C 10.507813 8.9375 10.371094 9 10.25 9.09375 C 10.039063 9.253906 9.820313 9.429688 9.625 9.625 C 7.460938 11.789063 7.460938 15.335938 9.625 17.5 L 14.5 22.375 C 16.664063 24.539063 20.210938 24.539063 22.375 22.375 C 24.539063 20.210938 24.539063 16.664063 22.375 14.5 L 18.71875 10.875 C 18.476563 10.578125 18.089844 10.441406 17.714844 10.527344 C 17.34375 10.613281 17.050781 10.90625 16.964844 11.277344 C 16.878906 11.652344 17.015625 12.039063 17.3125 12.28125 L 20.96875 15.9375 C 22.367188 17.335938 22.367188 19.570313 20.96875 20.96875 C 19.570313 22.367188 17.335938 22.367188 15.9375 20.96875 L 11.03125 16.0625 C 9.632813 14.664063 9.632813 12.429688 11.03125 11.03125 C 11.152344 10.90625 11.300781 10.820313 11.4375 10.71875 C 11.839844 10.472656 12.015625 9.976563 11.855469 9.53125 C 11.699219 9.085938 11.25 8.8125 10.78125 8.875 Z"/></svg>`;

      if (languagedir === "rtl") {
        newElemInner.style.left = '-2rem';
      } else {
        newElemInner.style.right = '-2rem';
      }

      newElemOuter.append(newElemInner);
      elem.append(newElemOuter);

      elem.addEventListener('mouseenter', function() {
        this.querySelector('.anchor').classList.remove('hide');
      });
      elem.addEventListener('mouseleave', function () {
        this.querySelector('.anchor').classList.add('hide');
      });
    }) : null;

    document.querySelectorAll('.anchor').forEach(function(elem) {
      elem.addEventListener('mouseleave', function() {
        elem.setAttribute('aria-label', null);
        elem.classList.remove('tooltipped');
        elem.classList.remove('tooltipped-s');
        elem.classList.remove('tooltipped-w');
      });
    });

    clip.on('success', function (e) {
      e.clearSelection();
      e.trigger.setAttribute('aria-label', 'Link copied to clipboard!');
      e.trigger.classList.add('tooltipped');
      e.trigger.classList.add('tooltipped-s');
    });
    // =================================================================



    
    
    var lib = JSON.parse("[\"mathjax\"]");

    if (lib && lib.includes('mermaid')) {
      
      var themeVariant = localStorage.getItem('theme') || JSON.parse("\"dark\"");

      if (themeVariant === "dark" || themeVariant === "hacker") {
        mermaid.initialize({ theme: 'dark' });
      } else {
        mermaid.initialize({ theme: 'default' });
      }
      
      var mermaids = [];
      [].push.apply(mermaids, document.getElementsByClassName('language-mermaid'));
      mermaids.forEach(function(elem) {
        var elemParentNode = elem.parentNode;

        if (elemParentNode !== document.body) {
          elemParentNode.parentNode.insertBefore(elem, elemParentNode);
          elemParentNode.parentNode.removeChild(elemParentNode);
        }

        var newElemWrapper = document.createElement('div');
        newElemWrapper.classList.add('mermaid');
        newElemWrapper.style.padding = '34px 4px 6px';
        newElemWrapper.innerHTML = elem.innerHTML;
        elem.replaceWith(newElemWrapper);
      });
    }
    

    

    
    if (lib && lib.includes('katex')) {
      var mathElements = document.getElementsByClassName('math');
      var options = {
        delimiters: [
          { left: "$$", right: "$$", display: true },
          { left: "\\[", right: "\\]", display: true },
          { left: "$", right: "$", display: false },
          { left: "\\(", right: "\\)", display: false }
        ],
      };

      renderMathInElement(document.querySelector('.single__contents'), options);
    }
    



    
    if (lib && lib.includes('flowchartjs')) {
      
      var options = JSON.parse("{\"arrow-end\":\"block\",\"element-color\":\"black\",\"fill\":\"white\",\"flowstate\":{\"approved\":{\"fill\":\"#58C4A3\",\"font-size\":12,\"no-text\":\"n/a\",\"yes-text\":\"APPROVED\"},\"current\":{\"fill\":\"yellow\",\"font-color\":\"red\",\"font-weight\":\"bold\"},\"future\":{\"fill\":\"#FFFF99\"},\"invalid\":{\"fill\":\"#444444\"},\"past\":{\"fill\":\"#CCCCCC\",\"font-size\":12},\"rejected\":{\"fill\":\"#C45879\",\"font-size\":12,\"no-text\":\"REJECTED\",\"yes-text\":\"n/a\"},\"request\":{\"fill\":\"blue\"}},\"font-color\":\"black\",\"font-size\":14,\"line-color\":\"black\",\"line-length\":50,\"line-width\":3,\"no-text\":\"no\",\"scale\":1,\"symbols\":{\"end\":{\"class\":\"end-element\"},\"start\":{\"element-color\":\"green\",\"fill\":\"yellow\",\"font-color\":\"red\"}},\"text-margin\":10,\"x\":0,\"y\":0,\"yes-text\":\"yes\"}");
      var jsonContent = null;

      var flowchartPrefix = "language-flowchart";
      var index = 0;
      Array.prototype.forEach.call(document.querySelectorAll("[class^=" + flowchartPrefix + "]"), function(x){
          x.style.display = 'none'
          x.parentNode.style.backgroundColor = "transparent"
          jsonContent = x.innerText;

          var node0 = document.createElement('div');
          node0.id = 'flowchart' + index;
          x.parentNode.insertBefore(node0, x);

          var diagram = flowchart.parse(jsonContent);
          diagram.drawSVG("flowchart"+index, options);

          index +=1;
      });      
    }
    

    

    
    document.querySelectorAll("mjx-container").forEach(function (x) {
      x.parentElement.classList += 'has-jax'
    });
    



    
    if (lib && lib.includes('msc')) {
      
      var options = JSON.parse("{\"theme\":\"hand\"}");
      var jsonContent = null;

      var index = 0;
      var chartPrefix = "language-msc";
      Array.prototype.forEach.call(document.querySelectorAll("[class^=" + chartPrefix + "]"), function (x) {
        x.style.display = 'none'
        x.parentNode.style.backgroundColor = "transparent"
        jsonContent = x.innerText;
        var node0 = document.createElement('div');
        node0.id = 'msc' + index;
        x.parentNode.insertBefore(node0, x);
        var diagram = Diagram.parse(jsonContent);
        diagram.drawSVG("msc" + index, options);
        index += 1;
      });
    }
    



    
    if (lib && lib.includes('chart')) {
      var borderColor = "#666";
      var bgColor = "#ddd";
      var borderWidth = 2;

      Chart.defaults.global.elements.rectangle.borderWidth = borderWidth;
      Chart.defaults.global.elements.rectangle.borderColor = borderColor;
      Chart.defaults.global.elements.rectangle.backgroundColor = bgColor;

      Chart.defaults.global.elements.line.borderWidth = borderWidth;
      Chart.defaults.global.elements.line.borderColor = borderColor;
      Chart.defaults.global.elements.line.backgroundColor = bgColor;

      Chart.defaults.global.elements.point.borderWidth = borderWidth;
      Chart.defaults.global.elements.point.borderColor = borderColor;
      Chart.defaults.global.elements.point.backgroundColor = bgColor;

      var chartPrefix = "language-chart";
      var index = 0;
      var jsonContent = null;

      Array.prototype.forEach.call(document.querySelectorAll("[class^=" + chartPrefix + "]"), function (x) {
        x.style.display = 'none'
        x.parentNode.style.backgroundColor = "transparent"
        jsonContent = x.innerText;
        var node0 = document.createElement('canvas');
        var source = null;
        node0.height = 200;
        node0.style.height = 200;
        node0.id = 'myChart' + index;
        source = JSON.parse(jsonContent);
        x.parentNode.insertBefore(node0, x);
        var ctx = document.getElementById('myChart' + index).getContext('2d');
        var myChart = new Chart(ctx, source);
        index += 1;
      });            
    }
    



    
    if (lib && lib.includes('wavedrom')) {
      var wavePrefix = "language-wave";
      var index = 0;
      var jsonContent = null;
      
      Array.prototype.forEach.call(document.querySelectorAll("[class^=" + wavePrefix + "]"), function (x) {
        x.style.display = 'none'
        x.parentNode.style.backgroundColor = "transparent"
        jsonContent = x.innerText;
        var node0 = document.createElement('div');
        var source = null;
        node0.id = 'WaveDrom_Display_' + index;
        source = JSON.parse(jsonContent);
        x.parentNode.insertBefore(node0, x);
        WaveDrom.RenderWaveForm(index, source, "WaveDrom_Display_");
        index += 1;
      });
    }
    



    
    if (lib && lib.includes('viz')) {
      var vizPrefix = "language-viz-";
      Array.prototype.forEach.call(document.querySelectorAll("[class^=" + vizPrefix + "]"), function (x) {
        x.style.display = 'none'
        x.parentNode.style.backgroundColor = "transparent"
        var engine;
        x.getAttribute("class").split(" ").forEach(function (cls) {
          if (cls.startsWith(vizPrefix)) {
            engine = cls.substr(vizPrefix.length);
          }
        });
        var viz = new Viz();
        viz.renderSVGElement(x.innerText, { engine: engine })
          .then(function (element) {
            element.style.width = "100%";
            x.parentNode.insertBefore(element, x);
          })
      });
    }
    
    
  }
</script>


            
            <footer class="footer">
    
    
    
<div id="gtt">
  <div class="gtt">
    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M8.12 14.71L12 10.83l3.88 3.88c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L12.7 8.71c-.39-.39-1.02-.39-1.41 0L6.7 13.3c-.39.39-.39 1.02 0 1.41.39.38 1.03.39 1.42 0z"/></svg>
  </div>
</div>

    <hr />

    <div class="basicflex flexwrap">
        
            
        
            
        
    </div>

    <div class="footer__poweredby">
        
                
            <p class="caption">
                
                    Â©2024, All Rights Reserved
                
            </p>
        

        
        
    </div> 
</footer>
        </div>
        





<div class="wrapper__right hide" data-pad="true" dir="ltr">
  <script>document.querySelector('.wrapper__right').classList.remove('hide')</script>
  
</div>

    </div>
</body>

</html>